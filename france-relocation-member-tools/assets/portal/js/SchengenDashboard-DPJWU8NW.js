import{j as e}from"./vendor-query-D8MH73Ff.js";import{r as u}from"./vendor-react-F9Y4d3HK.js";import{a as w}from"./vendor-utils-C5RVuWu4.js";import{X as R}from"./x-circle-C_k821xb.js";import{A as _}from"./alert-circle-UfXG2lJa.js";import{A as v,a1 as P,X as B,b as C,B as z,F as G,aG as V,P as J,a as X,O as q,l as O}from"./main-DKP_aL3o.js";import{B as K}from"./briefcase-BLDI7x1j.js";import{T as Q}from"./trash-2-yQNyk8aF.js";import{C as Z}from"./chevron-up-CElofHJE.js";import{C as ee}from"./chevron-down-BF073fNP.js";const F=90,E=180;function W(t,a=new Date){const r=new Date(a);r.setHours(23,59,59,999);const n=new Date(r);n.setDate(n.getDate()-(E-1)),n.setHours(0,0,0,0);const d=new Set;return t.forEach(i=>{const s=new Date(i.startDate);s.setHours(0,0,0,0);const x=new Date(i.endDate);if(x.setHours(23,59,59,999),s>r)return;const c=s<n?n:s,m=x>r?r:x;if(c<=m){const o=new Date(c);for(;o<=m;)d.add(o.toISOString().split("T")[0]),o.setDate(o.getDate()+1)}}),d.size}function te(t,a=new Date){const r=new Date(a);r.setHours(23,59,59,999);const n=new Date(r);n.setDate(n.getDate()-(E-1)),n.setHours(0,0,0,0);const d=new Set;return t.forEach(i=>{const s=new Date(i.startDate);s.setHours(0,0,0,0);const x=new Date(i.endDate);if(x.setHours(23,59,59,999),s>r)return;const c=s<n?n:s,m=x>r?r:x;if(c<=m){const o=new Date(c);for(;o<=m;)d.add(o.toISOString().split("T")[0]),o.setDate(o.getDate()+1)}}),d}function se(t,a={yellow:60,red:80}){return t>=F?"critical":t>=a.red?"danger":t>=a.yellow?"warning":"safe"}function ae(t,a=new Date){const r=te(t,a);if(r.size===0)return null;const d=Array.from(r).sort()[0],i=new Date(d);return i.setDate(i.getDate()+E),i.toISOString().split("T")[0]}function re(t,a={yellow:60,red:80}){const r=new Date,n=W(t,r),d=Math.max(0,F-n),i=new Date(r),s=new Date(r);return s.setDate(s.getDate()-(E-1)),{daysUsed:n,daysRemaining:d,windowStart:s.toISOString().split("T")[0],windowEnd:i.toISOString().split("T")[0],status:se(n,a),nextExpiration:ae(t,r),statusThresholds:a}}function $(t,a){const r=new Date(t);r.setHours(0,0,0,0);const n=new Date(a);n.setHours(0,0,0,0);const d=Math.abs(n.getTime()-r.getTime());return Math.floor(d/(1e3*60*60*24))+1}function T(t){return $(new Date(t.startDate),new Date(t.endDate))}function ne(t,a,r){const n=new Date(a),d=new Date(r),i=new Date(n);let s=0;for(;i<=d;){const x={id:"temp",startDate:a,endDate:i.toISOString().split("T")[0],country:"France",category:"personal",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c=[...t,x],m=W(c,i);if(s=Math.max(s,m),m>F)return{wouldViolate:!0,projectedDaysUsed:m,earliestSafeEntry:null,maxTripLength:null,message:`This trip would exceed the 90-day limit on ${i.toISOString().split("T")[0]} with ${m} days used.`};i.setDate(i.getDate()+1)}return{wouldViolate:!1,projectedDaysUsed:s,earliestSafeEntry:a,maxTripLength:$(n,d),message:`This trip is safe. Maximum days used during trip: ${s}/90.`}}function ie(){return crypto.randomUUID()}function D(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function oe(t,a){const r=new Date(t),n=new Date(a);return t===a?D(t):r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()?`${r.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${n.getDate()}, ${n.getFullYear()}`:r.getFullYear()===n.getFullYear()?`${r.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${n.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${n.getFullYear()}`:`${D(t)} - ${D(a)}`}const U="framt_schengen_trips",H="framt_schengen_settings",A={yellowThreshold:60,redThreshold:80,emailAlerts:!1,upcomingTripReminders:!0};function le(){try{const t=localStorage.getItem(U);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load Schengen trips from localStorage:",t)}return[]}function de(t){try{localStorage.setItem(U,JSON.stringify(t))}catch(a){console.error("Failed to save Schengen trips to localStorage:",a)}}function ce(){try{const t=localStorage.getItem(H);if(t)return{...A,...JSON.parse(t)}}catch(t){console.error("Failed to load Schengen settings from localStorage:",t)}return A}function me(t){try{localStorage.setItem(H,JSON.stringify(t))}catch(a){console.error("Failed to save Schengen settings to localStorage:",a)}}function ue(){const[t,a]=u.useState([]),[r,n]=u.useState(A),[d,i]=u.useState(!1);u.useEffect(()=>{a(le()),n(ce()),i(!0)},[]),u.useEffect(()=>{d&&de(t)},[t,d]),u.useEffect(()=>{d&&me(r)},[r,d]);const s=u.useCallback(h=>{const g=new Date().toISOString(),j={...h,id:ie(),createdAt:g,updatedAt:g};return a(p=>[...p,j].sort((y,l)=>new Date(l.startDate).getTime()-new Date(y.startDate).getTime())),j},[]),x=u.useCallback((h,g)=>{a(j=>j.map(p=>p.id===h?{...p,...g,updatedAt:new Date().toISOString()}:p).sort((p,y)=>new Date(y.startDate).getTime()-new Date(p.startDate).getTime()))},[]),c=u.useCallback(h=>{a(g=>g.filter(j=>j.id!==h))},[]),m=u.useCallback(h=>{n(g=>({...g,...h}))},[]);return{trips:t.sort((h,g)=>new Date(g.startDate).getTime()-new Date(h.startDate).getTime()),settings:r,isLoaded:d,addTrip:s,updateTrip:x,deleteTrip:c,updateSettings:m}}const xe={safe:{stroke:"stroke-green-500",text:"text-green-600",bg:"bg-green-50"},warning:{stroke:"stroke-yellow-500",text:"text-yellow-600",bg:"bg-yellow-50"},danger:{stroke:"stroke-orange-500",text:"text-orange-600",bg:"bg-orange-50"},critical:{stroke:"stroke-red-500",text:"text-red-600",bg:"bg-red-50"}},ge={sm:{container:"w-24 h-24",svgSize:96,strokeWidth:6,radius:42,textSize:"text-2xl",labelSize:"text-xs"},md:{container:"w-36 h-36",svgSize:144,strokeWidth:8,radius:64,textSize:"text-4xl",labelSize:"text-sm"},lg:{container:"w-48 h-48",svgSize:192,strokeWidth:10,radius:86,textSize:"text-5xl",labelSize:"text-base"}};function he({daysUsed:t,daysRemaining:a,status:r,size:n="md",className:d}){const i=xe[r],s=ge[n],x=Math.min(t/90*100,100),c=2*Math.PI*s.radius,m=c-x/100*c;return e.jsxs("div",{className:w("relative inline-flex",s.container,d),children:[e.jsxs("svg",{className:"transform -rotate-90",width:s.svgSize,height:s.svgSize,"aria-hidden":"true",children:[e.jsx("circle",{cx:s.svgSize/2,cy:s.svgSize/2,r:s.radius,fill:"none",strokeWidth:s.strokeWidth,className:"stroke-gray-200"}),e.jsx("circle",{cx:s.svgSize/2,cy:s.svgSize/2,r:s.radius,fill:"none",strokeWidth:s.strokeWidth,strokeLinecap:"round",strokeDasharray:c,strokeDashoffset:m,className:w("transition-all duration-500",i.stroke)})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:w("font-bold",s.textSize,i.text),role:"text","aria-label":`${t} days used`,children:t}),e.jsx("span",{className:w("text-gray-500",s.labelSize),children:"of 90 days"})]}),e.jsx("div",{role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":90,"aria-label":`Schengen days: ${t} used, ${a} remaining`,className:"sr-only"})]})}const pe={safe:{label:"Safe",bgColor:"bg-green-50",textColor:"text-green-700",borderColor:"border-green-200",Icon:P},warning:{label:"Warning",bgColor:"bg-yellow-50",textColor:"text-yellow-700",borderColor:"border-yellow-200",Icon:v},danger:{label:"Danger",bgColor:"bg-orange-50",textColor:"text-orange-700",borderColor:"border-orange-200",Icon:_},critical:{label:"Critical",bgColor:"bg-red-50",textColor:"text-red-700",borderColor:"border-red-200",Icon:R}},ye={sm:{badge:"px-2 py-0.5 text-xs",icon:"w-3 h-3"},md:{badge:"px-2.5 py-1 text-sm",icon:"w-4 h-4"},lg:{badge:"px-3 py-1.5 text-base",icon:"w-5 h-5"}};function fe({status:t,showLabel:a=!0,size:r="md",className:n}){const d=pe[t],i=ye[r],s=d.Icon;return e.jsxs("span",{className:w("inline-flex items-center gap-1 rounded-full border font-medium",d.bgColor,d.textColor,d.borderColor,i.badge,n),children:[e.jsx(s,{className:i.icon,"aria-hidden":"true"}),a&&e.jsx("span",{children:d.label})]})}const be=["Austria","Belgium","Bulgaria","Croatia","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Italy","Latvia","Liechtenstein","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland"];function L({trip:t,existingTrips:a,onSubmit:r,onCancel:n,className:d}){const i=!!t,[s,x]=u.useState((t==null?void 0:t.startDate)||""),[c,m]=u.useState((t==null?void 0:t.endDate)||""),[o,h]=u.useState((t==null?void 0:t.country)||"France"),[g,j]=u.useState((t==null?void 0:t.category)||"personal"),[p,y]=u.useState((t==null?void 0:t.notes)||""),[l,b]=u.useState(null),[N,k]=u.useState(null);u.useEffect(()=>{if(s&&c){const f=i?a.filter(Y=>Y.id!==t.id):a,S=ne(f,s,c);S.wouldViolate?b(S.message):S.projectedDaysUsed>=80?b(`This trip will bring you to ${S.projectedDaysUsed}/90 days - approaching the limit.`):S.projectedDaysUsed>=60?b(`This trip will bring you to ${S.projectedDaysUsed}/90 days.`):b(null)}else b(null)},[s,c,a,i,t]);const M=f=>{if(f.preventDefault(),k(null),!s||!c){k("Please enter both start and end dates.");return}if(new Date(c)<new Date(s)){k("End date must be on or after start date.");return}if(T({startDate:s,endDate:c})>90){k("A single trip cannot exceed 90 days.");return}r({startDate:s,endDate:c,country:o,category:g,notes:p.trim()||void 0})},I=s&&c?T({startDate:s,endDate:c}):null;return e.jsxs("form",{onSubmit:M,className:w("space-y-4",d),children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i?"Edit Trip":"Add Trip"}),e.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(C,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Start Date"]}),e.jsx("input",{type:"date",id:"startDate",value:s,onChange:f=>x(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(C,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"End Date"]}),e.jsx("input",{type:"date",id:"endDate",value:c,onChange:f=>m(f.target.value),min:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),I!==null&&e.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded-lg",children:["Duration: ",e.jsxs("span",{className:"font-medium",children:[I," day",I!==1?"s":""]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(z,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Country"]}),e.jsx("select",{id:"country",value:o,onChange:f=>h(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:be.map(f=>e.jsx("option",{value:f,children:f},f))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(K,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Category"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:"personal",checked:g==="personal",onChange:()=>j("personal"),className:"text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Personal"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:"business",checked:g==="business",onChange:()=>j("business"),className:"text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Business"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(G,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Notes (optional)"]}),e.jsx("textarea",{id:"notes",value:p,onChange:f=>y(f.target.value),rows:2,placeholder:"e.g., Visa appointment, apartment hunting...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none"})]}),l&&e.jsxs("div",{className:"flex gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5","aria-hidden":"true"}),e.jsx("p",{className:"text-sm text-amber-800",children:l})]}),N&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:N})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-primary-600 hover:bg-primary-700 rounded-lg font-medium transition-colors",children:i?"Save Changes":"Add Trip"})]})]})}function je({trips:t,currentWindowStart:a,onEdit:r,onDelete:n,className:d}){const[i,s]=u.useState("date"),[x,c]=u.useState("desc"),[m,o]=u.useState(null),h=l=>{i===l?c(b=>b==="asc"?"desc":"asc"):(s(l),c("desc"))},g=[...t].sort((l,b)=>{let N=0;switch(i){case"date":N=new Date(l.startDate).getTime()-new Date(b.startDate).getTime();break;case"country":N=l.country.localeCompare(b.country);break;case"duration":N=T(l)-T(b);break}return x==="asc"?N:-N}),j=l=>new Date(l.endDate)>=new Date(a),p=l=>{m===l?(n(l),o(null)):(o(l),setTimeout(()=>o(null),3e3))};if(t.length===0)return e.jsxs("div",{className:w("text-center py-12",d),children:[e.jsx(z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4","aria-hidden":"true"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trips recorded"}),e.jsx("p",{className:"text-gray-500",children:"Add your first trip to start tracking your Schengen days."})]});const y=({field:l})=>i!==l?null:x==="asc"?e.jsx(Z,{className:"w-4 h-4"}):e.jsx(ee,{className:"w-4 h-4"});return e.jsxs("div",{className:w("overflow-hidden",d),children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 bg-gray-50 border-b border-gray-200 text-sm font-medium text-gray-600",children:[e.jsxs("button",{onClick:()=>h("date"),className:"col-span-4 flex items-center gap-1 text-left hover:text-gray-900",children:[e.jsx(C,{className:"w-4 h-4","aria-hidden":"true"}),"Dates",e.jsx(y,{field:"date"})]}),e.jsxs("button",{onClick:()=>h("country"),className:"col-span-3 flex items-center gap-1 text-left hover:text-gray-900",children:[e.jsx(z,{className:"w-4 h-4","aria-hidden":"true"}),"Country",e.jsx(y,{field:"country"})]}),e.jsxs("button",{onClick:()=>h("duration"),className:"col-span-2 flex items-center gap-1 text-left hover:text-gray-900",children:["Days",e.jsx(y,{field:"duration"})]}),e.jsx("div",{className:"col-span-3 text-right",children:"Actions"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:g.map(l=>{const b=T(l),N=j(l);return e.jsxs("div",{className:w("grid grid-cols-12 gap-4 px-4 py-3 items-center",N?"bg-white":"bg-gray-50 opacity-75"),children:[e.jsxs("div",{className:"col-span-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe(l.startDate,l.endDate)}),l.notes&&e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:l.notes})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("span",{className:"text-sm text-gray-700",children:l.country}),e.jsx("span",{className:w("ml-2 text-xs px-1.5 py-0.5 rounded",l.category==="business"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:l.category})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:[b," day",b!==1?"s":""]}),!N&&e.jsx("span",{className:"block text-xs text-gray-400",children:"outside window"})]}),e.jsxs("div",{className:"col-span-3 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>r(l),className:"p-2 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors","aria-label":`Edit trip to ${l.country}`,children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(l.id),className:w("p-2 rounded-lg transition-colors",m===l.id?"text-white bg-red-600 hover:bg-red-700":"text-gray-400 hover:text-red-600 hover:bg-red-50"),"aria-label":m===l.id?"Confirm delete":`Delete trip to ${l.country}`,children:e.jsx(Q,{className:"w-4 h-4"})})]})]},l.id)})})]})}function ze(){const{trips:t,settings:a,isLoaded:r,addTrip:n,updateTrip:d,deleteTrip:i}=ue(),[s,x]=u.useState(!1),[c,m]=u.useState(null),o=u.useMemo(()=>re(t,{yellow:a.yellowThreshold,red:a.redThreshold}),[t,a.yellowThreshold,a.redThreshold]),h=y=>{n(y),x(!1)},g=y=>{c&&(d(c.id,y),m(null))},j=y=>{m(y)},p=()=>{x(!1),m(null)};return r?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Schengen Tracker"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your 90/180 day Schengen zone compliance"})]}),e.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:[e.jsx(J,{className:"w-5 h-5","aria-hidden":"true"}),"Add Trip"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card p-6 flex flex-col items-center justify-center",children:[e.jsx(he,{daysUsed:o.daysUsed,daysRemaining:o.daysRemaining,status:o.status,size:"lg"}),e.jsx("div",{className:"mt-4",children:e.jsx(fe,{status:o.status,size:"lg"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:w("card p-4 border-l-4",o.status==="safe"&&"border-l-green-500",o.status==="warning"&&"border-l-yellow-500",o.status==="danger"&&"border-l-orange-500",o.status==="critical"&&"border-l-red-500"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(X,{className:"w-5 h-5 text-gray-600","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Days Remaining"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.daysRemaining})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(C,{className:"w-5 h-5 text-gray-600","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current 180-Day Window"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[D(o.windowStart)," - ",D(o.windowEnd)]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[o.nextExpiration&&e.jsx("div",{className:"card p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(C,{className:"w-5 h-5 text-blue-600","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Next Day Expires"}),e.jsx("p",{className:"text-lg font-bold text-blue-900",children:D(o.nextExpiration)}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"A day will drop off the 180-day window"})]})]})}),e.jsx("div",{className:"card p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"The 90/180 Rule"}),e.jsx("p",{children:"Non-EU citizens may stay up to 90 days within any 180-day period in the Schengen area without a visa."})]})]})})]})]}),o.status==="warning"&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-yellow-600 flex-shrink-0","aria-hidden":"true"}),e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("span",{className:"font-medium",children:"Approaching limit:"})," You have used ",o.daysUsed," of your 90 days. Plan future travel carefully to avoid overstaying."]})]}),o.status==="danger"&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-orange-600 flex-shrink-0","aria-hidden":"true"}),e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("span",{className:"font-medium",children:"Warning:"})," You have used ",o.daysUsed," of your 90 days. Limited travel remaining in this window."]})]}),o.status==="critical"&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-red-600 flex-shrink-0","aria-hidden":"true"}),e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("span",{className:"font-medium",children:"Limit reached:"})," You have used all 90 days allowed in this 180-day window. Additional travel may result in overstay violations."]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Trips"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," trip",t.length!==1?"s":""]})]}),e.jsx(je,{trips:t,currentWindowStart:o.windowStart,onEdit:j,onDelete:i})]}),e.jsx(O,{isOpen:s,onClose:p,title:"Add Trip",size:"md",children:e.jsx(L,{existingTrips:t,onSubmit:h,onCancel:p})}),e.jsx(O,{isOpen:!!c,onClose:p,title:"Edit Trip",size:"md",children:c&&e.jsx(L,{trip:c,existingTrips:t,onSubmit:g,onCancel:p})})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-3",role:"status","aria-label":"Loading"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})]})})}export{ze as default};
