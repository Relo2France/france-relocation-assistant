import{j as e}from"./vendor-query-D8MH73Ff.js";import{r as U}from"./vendor-react-F9Y4d3HK.js";import{a as ge}from"./vendor-utils-C5RVuWu4.js";import{c as Ot,m as ls,ah as cs,a2 as Mt,a3 as ms,F as Pt,ag as ds,a8 as us,a7 as ps,ai as J,S as fs,ad as Ke,aj as hs,ak as xs,af as oe,B as gs,a as tt,al as ys,a9 as We,M as bs,U as Ns,am as Ft}from"./main--AuMw4be.js";import{H as Ts}from"./heart-dVwDsGrm.js";import{B as Es}from"./briefcase-gZl8SrwA.js";import{G as ws}from"./graduation-cap-DWcAwMWJ.js";import{C as _s}from"./car-D-UI_wsE.js";import{S as Gt}from"./shield-C9zysJca.js";import{A as Qe}from"./alert-circle-ivWe8ZRu.js";import{L as xe}from"./loader-2-0aEJ0dvg.js";import{D as As}from"./dollar-sign-DQaBx1bA.js";import{E as js}from"./external-link-VjemCdXj.js";import{S as vs}from"./send-CmNaPRAj.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Ot("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ot("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Ht,setPrototypeOf:jt,isFrozen:Cs,getPrototypeOf:Rs,getOwnPropertyDescriptor:Is}=Object;let{freeze:k,seal:P,create:Ze}=Object,{apply:Je,construct:et}=typeof Reflect<"u"&&Reflect;k||(k=function(i){return i});P||(P=function(i){return i});Je||(Je=function(i,n){for(var o=arguments.length,m=new Array(o>2?o-2:0),f=2;f<o;f++)m[f-2]=arguments[f];return i.apply(n,m)});et||(et=function(i){for(var n=arguments.length,o=new Array(n>1?n-1:0),m=1;m<n;m++)o[m-1]=arguments[m];return new i(...o)});const Ae=O(Array.prototype.forEach),Ls=O(Array.prototype.lastIndexOf),vt=O(Array.prototype.pop),de=O(Array.prototype.push),Ds=O(Array.prototype.splice),ve=O(String.prototype.toLowerCase),Be=O(String.prototype.toString),Ye=O(String.prototype.match),ue=O(String.prototype.replace),ks=O(String.prototype.indexOf),Os=O(String.prototype.trim),G=O(Object.prototype.hasOwnProperty),D=O(RegExp.prototype.test),pe=Ms(TypeError);function O(a){return function(i){i instanceof RegExp&&(i.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),m=1;m<n;m++)o[m-1]=arguments[m];return Je(a,i,o)}}function Ms(a){return function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return et(a,n)}}function d(a,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve;jt&&jt(a,null);let o=i.length;for(;o--;){let m=i[o];if(typeof m=="string"){const f=n(m);f!==m&&(Cs(i)||(i[o]=f),m=f)}a[m]=!0}return a}function Ps(a){for(let i=0;i<a.length;i++)G(a,i)||(a[i]=null);return a}function Y(a){const i=Ze(null);for(const[n,o]of Ht(a))G(a,n)&&(Array.isArray(o)?i[n]=Ps(o):o&&typeof o=="object"&&o.constructor===Object?i[n]=Y(o):i[n]=o);return i}function fe(a,i){for(;a!==null;){const o=Is(a,i);if(o){if(o.get)return O(o.get);if(typeof o.value=="function")return O(o.value)}a=Rs(a)}function n(){return null}return n}const St=k(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ve=k(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qe=k(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fs=k(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xe=k(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Gs=k(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ct=k(["#text"]),Rt=k(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$e=k(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),It=k(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),je=k(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Us=P(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Hs=P(/<%[\w\W]*|[\w\W]*%>/gm),zs=P(/\$\{[\w\W]*/gm),Ws=P(/^data-[\-\w.\u00B7-\uFFFF]+$/),Bs=P(/^aria-[\-\w]+$/),zt=P(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ys=P(/^(?:\w+script|data):/i),Vs=P(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Wt=P(/^html$/i),qs=P(/^[a-z][.\w]*(-[.\w]+)+$/i);var Lt=Object.freeze({__proto__:null,ARIA_ATTR:Bs,ATTR_WHITESPACE:Vs,CUSTOM_ELEMENT:qs,DATA_ATTR:Ws,DOCTYPE_NAME:Wt,ERB_EXPR:Hs,IS_ALLOWED_URI:zt,IS_SCRIPT_OR_DATA:Ys,MUSTACHE_EXPR:Us,TMPLIT_EXPR:zs});const he={element:1,text:3,progressingInstruction:7,comment:8,document:9},Xs=function(){return typeof window>"u"?null:window},$s=function(i,n){if(typeof i!="object"||typeof i.createPolicy!="function")return null;let o=null;const m="data-tt-policy-suffix";n&&n.hasAttribute(m)&&(o=n.getAttribute(m));const f="dompurify"+(o?"#"+o:"");try{return i.createPolicy(f,{createHTML(x){return x},createScriptURL(x){return x}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},Dt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Bt(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xs();const i=c=>Bt(c);if(i.version="3.3.1",i.removed=[],!a||!a.document||a.document.nodeType!==he.document||!a.Element)return i.isSupported=!1,i;let{document:n}=a;const o=n,m=o.currentScript,{DocumentFragment:f,HTMLTemplateElement:x,Node:A,Element:p,NodeFilter:u,NamedNodeMap:h=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:N,DOMParser:I,trustedTypes:T}=a,y=p.prototype,F=fe(y,"cloneNode"),H=fe(y,"remove"),l=fe(y,"nextSibling"),C=fe(y,"childNodes"),z=fe(y,"parentNode");if(typeof x=="function"){const c=n.createElement("template");c.content&&c.content.ownerDocument&&(n=c.content.ownerDocument)}let b,V="";const{implementation:K,createNodeIterator:Vt,createDocumentFragment:qt,getElementsByTagName:Xt}=n,{importNode:$t}=o;let L=Dt();i.isSupported=typeof Ht=="function"&&typeof z=="function"&&K&&K.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Se,ERB_EXPR:Ce,TMPLIT_EXPR:Re,DATA_ATTR:Kt,ARIA_ATTR:Qt,IS_SCRIPT_OR_DATA:Zt,ATTR_WHITESPACE:st,CUSTOM_ELEMENT:Jt}=Lt;let{IS_ALLOWED_URI:at}=Lt,j=null;const nt=d({},[...St,...Ve,...qe,...Xe,...Ct]);let v=null;const it=d({},[...Rt,...$e,...It,...je]);let E=Object.seal(Ze(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),le=null,Ie=null;const ee=Object.seal(Ze(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let rt=!0,Le=!0,ot=!1,lt=!0,te=!1,ye=!0,Q=!1,De=!1,ke=!1,se=!1,be=!1,Ne=!1,ct=!0,mt=!1;const es="user-content-";let Oe=!0,ce=!1,ae={},W=null;const Me=d({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let dt=null;const ut=d({},["audio","video","img","source","image","track"]);let Pe=null;const pt=d({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Te="http://www.w3.org/1998/Math/MathML",Ee="http://www.w3.org/2000/svg",q="http://www.w3.org/1999/xhtml";let ne=q,Fe=!1,Ge=null;const ts=d({},[Te,Ee,q],Be);let we=d({},["mi","mo","mn","ms","mtext"]),_e=d({},["annotation-xml"]);const ss=d({},["title","style","font","a","script"]);let me=null;const as=["application/xhtml+xml","text/html"],ns="text/html";let _=null,ie=null;const is=n.createElement("form"),ft=function(t){return t instanceof RegExp||t instanceof Function},Ue=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ie&&ie===t)){if((!t||typeof t!="object")&&(t={}),t=Y(t),me=as.indexOf(t.PARSER_MEDIA_TYPE)===-1?ns:t.PARSER_MEDIA_TYPE,_=me==="application/xhtml+xml"?Be:ve,j=G(t,"ALLOWED_TAGS")?d({},t.ALLOWED_TAGS,_):nt,v=G(t,"ALLOWED_ATTR")?d({},t.ALLOWED_ATTR,_):it,Ge=G(t,"ALLOWED_NAMESPACES")?d({},t.ALLOWED_NAMESPACES,Be):ts,Pe=G(t,"ADD_URI_SAFE_ATTR")?d(Y(pt),t.ADD_URI_SAFE_ATTR,_):pt,dt=G(t,"ADD_DATA_URI_TAGS")?d(Y(ut),t.ADD_DATA_URI_TAGS,_):ut,W=G(t,"FORBID_CONTENTS")?d({},t.FORBID_CONTENTS,_):Me,le=G(t,"FORBID_TAGS")?d({},t.FORBID_TAGS,_):Y({}),Ie=G(t,"FORBID_ATTR")?d({},t.FORBID_ATTR,_):Y({}),ae=G(t,"USE_PROFILES")?t.USE_PROFILES:!1,rt=t.ALLOW_ARIA_ATTR!==!1,Le=t.ALLOW_DATA_ATTR!==!1,ot=t.ALLOW_UNKNOWN_PROTOCOLS||!1,lt=t.ALLOW_SELF_CLOSE_IN_ATTR!==!1,te=t.SAFE_FOR_TEMPLATES||!1,ye=t.SAFE_FOR_XML!==!1,Q=t.WHOLE_DOCUMENT||!1,se=t.RETURN_DOM||!1,be=t.RETURN_DOM_FRAGMENT||!1,Ne=t.RETURN_TRUSTED_TYPE||!1,ke=t.FORCE_BODY||!1,ct=t.SANITIZE_DOM!==!1,mt=t.SANITIZE_NAMED_PROPS||!1,Oe=t.KEEP_CONTENT!==!1,ce=t.IN_PLACE||!1,at=t.ALLOWED_URI_REGEXP||zt,ne=t.NAMESPACE||q,we=t.MATHML_TEXT_INTEGRATION_POINTS||we,_e=t.HTML_INTEGRATION_POINTS||_e,E=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ft(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(E.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ft(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(E.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(E.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),te&&(Le=!1),be&&(se=!0),ae&&(j=d({},Ct),v=[],ae.html===!0&&(d(j,St),d(v,Rt)),ae.svg===!0&&(d(j,Ve),d(v,$e),d(v,je)),ae.svgFilters===!0&&(d(j,qe),d(v,$e),d(v,je)),ae.mathMl===!0&&(d(j,Xe),d(v,It),d(v,je))),t.ADD_TAGS&&(typeof t.ADD_TAGS=="function"?ee.tagCheck=t.ADD_TAGS:(j===nt&&(j=Y(j)),d(j,t.ADD_TAGS,_))),t.ADD_ATTR&&(typeof t.ADD_ATTR=="function"?ee.attributeCheck=t.ADD_ATTR:(v===it&&(v=Y(v)),d(v,t.ADD_ATTR,_))),t.ADD_URI_SAFE_ATTR&&d(Pe,t.ADD_URI_SAFE_ATTR,_),t.FORBID_CONTENTS&&(W===Me&&(W=Y(W)),d(W,t.FORBID_CONTENTS,_)),t.ADD_FORBID_CONTENTS&&(W===Me&&(W=Y(W)),d(W,t.ADD_FORBID_CONTENTS,_)),Oe&&(j["#text"]=!0),Q&&d(j,["html","head","body"]),j.table&&(d(j,["tbody"]),delete le.tbody),t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=t.TRUSTED_TYPES_POLICY,V=b.createHTML("")}else b===void 0&&(b=$s(T,m)),b!==null&&typeof V=="string"&&(V=b.createHTML(""));k&&k(t),ie=t}},ht=d({},[...Ve,...qe,...Fs]),xt=d({},[...Xe,...Gs]),rs=function(t){let s=z(t);(!s||!s.tagName)&&(s={namespaceURI:ne,tagName:"template"});const r=ve(t.tagName),g=ve(s.tagName);return Ge[t.namespaceURI]?t.namespaceURI===Ee?s.namespaceURI===q?r==="svg":s.namespaceURI===Te?r==="svg"&&(g==="annotation-xml"||we[g]):!!ht[r]:t.namespaceURI===Te?s.namespaceURI===q?r==="math":s.namespaceURI===Ee?r==="math"&&_e[g]:!!xt[r]:t.namespaceURI===q?s.namespaceURI===Ee&&!_e[g]||s.namespaceURI===Te&&!we[g]?!1:!xt[r]&&(ss[r]||!ht[r]):!!(me==="application/xhtml+xml"&&Ge[t.namespaceURI]):!1},B=function(t){de(i.removed,{element:t});try{z(t).removeChild(t)}catch{H(t)}},Z=function(t,s){try{de(i.removed,{attribute:s.getAttributeNode(t),from:s})}catch{de(i.removed,{attribute:null,from:s})}if(s.removeAttribute(t),t==="is")if(se||be)try{B(s)}catch{}else try{s.setAttribute(t,"")}catch{}},gt=function(t){let s=null,r=null;if(ke)t="<remove></remove>"+t;else{const w=Ye(t,/^[\r\n\t ]+/);r=w&&w[0]}me==="application/xhtml+xml"&&ne===q&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const g=b?b.createHTML(t):t;if(ne===q)try{s=new I().parseFromString(g,me)}catch{}if(!s||!s.documentElement){s=K.createDocument(ne,"template",null);try{s.documentElement.innerHTML=Fe?V:g}catch{}}const R=s.body||s.documentElement;return t&&r&&R.insertBefore(n.createTextNode(r),R.childNodes[0]||null),ne===q?Xt.call(s,Q?"html":"body")[0]:Q?s.documentElement:R},yt=function(t){return Vt.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},He=function(t){return t instanceof N&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof h)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function"||typeof t.hasChildNodes!="function")},bt=function(t){return typeof A=="function"&&t instanceof A};function X(c,t,s){Ae(c,r=>{r.call(i,t,s,ie)})}const Nt=function(t){let s=null;if(X(L.beforeSanitizeElements,t,null),He(t))return B(t),!0;const r=_(t.nodeName);if(X(L.uponSanitizeElement,t,{tagName:r,allowedTags:j}),ye&&t.hasChildNodes()&&!bt(t.firstElementChild)&&D(/<[/\w!]/g,t.innerHTML)&&D(/<[/\w!]/g,t.textContent)||t.nodeType===he.progressingInstruction||ye&&t.nodeType===he.comment&&D(/<[/\w]/g,t.data))return B(t),!0;if(!(ee.tagCheck instanceof Function&&ee.tagCheck(r))&&(!j[r]||le[r])){if(!le[r]&&Et(r)&&(E.tagNameCheck instanceof RegExp&&D(E.tagNameCheck,r)||E.tagNameCheck instanceof Function&&E.tagNameCheck(r)))return!1;if(Oe&&!W[r]){const g=z(t)||t.parentNode,R=C(t)||t.childNodes;if(R&&g){const w=R.length;for(let M=w-1;M>=0;--M){const $=F(R[M],!0);$.__removalCount=(t.__removalCount||0)+1,g.insertBefore($,l(t))}}}return B(t),!0}return t instanceof p&&!rs(t)||(r==="noscript"||r==="noembed"||r==="noframes")&&D(/<\/no(script|embed|frames)/i,t.innerHTML)?(B(t),!0):(te&&t.nodeType===he.text&&(s=t.textContent,Ae([Se,Ce,Re],g=>{s=ue(s,g," ")}),t.textContent!==s&&(de(i.removed,{element:t.cloneNode()}),t.textContent=s)),X(L.afterSanitizeElements,t,null),!1)},Tt=function(t,s,r){if(ct&&(s==="id"||s==="name")&&(r in n||r in is))return!1;if(!(Le&&!Ie[s]&&D(Kt,s))){if(!(rt&&D(Qt,s))){if(!(ee.attributeCheck instanceof Function&&ee.attributeCheck(s,t))){if(!v[s]||Ie[s]){if(!(Et(t)&&(E.tagNameCheck instanceof RegExp&&D(E.tagNameCheck,t)||E.tagNameCheck instanceof Function&&E.tagNameCheck(t))&&(E.attributeNameCheck instanceof RegExp&&D(E.attributeNameCheck,s)||E.attributeNameCheck instanceof Function&&E.attributeNameCheck(s,t))||s==="is"&&E.allowCustomizedBuiltInElements&&(E.tagNameCheck instanceof RegExp&&D(E.tagNameCheck,r)||E.tagNameCheck instanceof Function&&E.tagNameCheck(r))))return!1}else if(!Pe[s]){if(!D(at,ue(r,st,""))){if(!((s==="src"||s==="xlink:href"||s==="href")&&t!=="script"&&ks(r,"data:")===0&&dt[t])){if(!(ot&&!D(Zt,ue(r,st,"")))){if(r)return!1}}}}}}}return!0},Et=function(t){return t!=="annotation-xml"&&Ye(t,Jt)},wt=function(t){X(L.beforeSanitizeAttributes,t,null);const{attributes:s}=t;if(!s||He(t))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:v,forceKeepAttr:void 0};let g=s.length;for(;g--;){const R=s[g],{name:w,namespaceURI:M,value:$}=R,re=_(w),ze=$;let S=w==="value"?ze:Os(ze);if(r.attrName=re,r.attrValue=S,r.keepAttr=!0,r.forceKeepAttr=void 0,X(L.uponSanitizeAttribute,t,r),S=r.attrValue,mt&&(re==="id"||re==="name")&&(Z(w,t),S=es+S),ye&&D(/((--!?|])>)|<\/(style|title|textarea)/i,S)){Z(w,t);continue}if(re==="attributename"&&Ye(S,"href")){Z(w,t);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Z(w,t);continue}if(!lt&&D(/\/>/i,S)){Z(w,t);continue}te&&Ae([Se,Ce,Re],At=>{S=ue(S,At," ")});const _t=_(t.nodeName);if(!Tt(_t,re,S)){Z(w,t);continue}if(b&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!M)switch(T.getAttributeType(_t,re)){case"TrustedHTML":{S=b.createHTML(S);break}case"TrustedScriptURL":{S=b.createScriptURL(S);break}}if(S!==ze)try{M?t.setAttributeNS(M,w,S):t.setAttribute(w,S),He(t)?B(t):vt(i.removed)}catch{Z(w,t)}}X(L.afterSanitizeAttributes,t,null)},os=function c(t){let s=null;const r=yt(t);for(X(L.beforeSanitizeShadowDOM,t,null);s=r.nextNode();)X(L.uponSanitizeShadowNode,s,null),Nt(s),wt(s),s.content instanceof f&&c(s.content);X(L.afterSanitizeShadowDOM,t,null)};return i.sanitize=function(c){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=null,r=null,g=null,R=null;if(Fe=!c,Fe&&(c="<!-->"),typeof c!="string"&&!bt(c))if(typeof c.toString=="function"){if(c=c.toString(),typeof c!="string")throw pe("dirty is not a string, aborting")}else throw pe("toString is not a function");if(!i.isSupported)return c;if(De||Ue(t),i.removed=[],typeof c=="string"&&(ce=!1),ce){if(c.nodeName){const $=_(c.nodeName);if(!j[$]||le[$])throw pe("root node is forbidden and cannot be sanitized in-place")}}else if(c instanceof A)s=gt("<!---->"),r=s.ownerDocument.importNode(c,!0),r.nodeType===he.element&&r.nodeName==="BODY"||r.nodeName==="HTML"?s=r:s.appendChild(r);else{if(!se&&!te&&!Q&&c.indexOf("<")===-1)return b&&Ne?b.createHTML(c):c;if(s=gt(c),!s)return se?null:Ne?V:""}s&&ke&&B(s.firstChild);const w=yt(ce?c:s);for(;g=w.nextNode();)Nt(g),wt(g),g.content instanceof f&&os(g.content);if(ce)return c;if(se){if(be)for(R=qt.call(s.ownerDocument);s.firstChild;)R.appendChild(s.firstChild);else R=s;return(v.shadowroot||v.shadowrootmode)&&(R=$t.call(o,R,!0)),R}let M=Q?s.outerHTML:s.innerHTML;return Q&&j["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&D(Wt,s.ownerDocument.doctype.name)&&(M="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+M),te&&Ae([Se,Ce,Re],$=>{M=ue(M,$," ")}),b&&Ne?b.createHTML(M):M},i.setConfig=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ue(c),De=!0},i.clearConfig=function(){ie=null,De=!1},i.isValidAttribute=function(c,t,s){ie||Ue({});const r=_(c),g=_(t);return Tt(r,g,s)},i.addHook=function(c,t){typeof t=="function"&&de(L[c],t)},i.removeHook=function(c,t){if(t!==void 0){const s=Ls(L[c],t);return s===-1?void 0:Ds(L[c],s,1)[0]}return vt(L[c])},i.removeHooks=function(c){L[c]=[]},i.removeAllHooks=function(){L=Dt()},i}var Ks=Bt();function Qs({html:a,className:i,as:n="div"}){const o=Ks.sanitize(a,{ALLOWED_TAGS:["p","br","strong","b","em","i","u","s","h1","h2","h3","h4","h5","h6","ul","ol","li","a","blockquote","code","pre","table","thead","tbody","tr","th","td","span","div"],ALLOWED_ATTR:["href","target","rel","class","id"],ALLOW_DATA_ATTR:!1});return e.jsx(n,{className:i,dangerouslySetInnerHTML:{__html:o}})}const kt=[{id:"visa-application",title:"Complete Visa Application Guide",description:"Step-by-step walkthrough of the French visa application process, from choosing the right visa type to attending your appointment.",category:"Visa & Immigration",readTime:"25 min",difficulty:"beginner",featured:!0,icon:Pt,sections:["Choosing the right visa type","Required documents checklist","Filling out the application form","Booking your appointment","What to expect at the consulate","After approval: next steps"]},{id:"housing-france",title:"Finding Housing in France",description:"Navigate the French rental market with confidence. Learn about dossier requirements, guarantor options, and tenant rights.",category:"Housing",readTime:"20 min",difficulty:"intermediate",featured:!0,icon:ds,sections:["Understanding the rental market","Building your dossier locatif","Guarantor options (Visale, GLI)","Viewing apartments","Signing your lease","Tenant rights and responsibilities"]},{id:"banking-finance",title:"Banking & Finance Setup",description:"Open a French bank account, understand the banking system, and manage your finances as an expat.",category:"Finance",readTime:"15 min",difficulty:"beginner",icon:us,sections:["Choosing a bank (traditional vs online)","Documents needed to open an account","Understanding French banking fees","Setting up automatic payments","International transfers","Tax considerations"]},{id:"healthcare-system",title:"French Healthcare System",description:"Understand how French healthcare works, register with CPAM, and choose complementary health insurance (mutuelle).",category:"Healthcare",readTime:"18 min",difficulty:"intermediate",featured:!0,icon:Ts,sections:["How French healthcare works","Registering with CPAM","Getting your Carte Vitale","Choosing a mutuelle","Finding doctors and specialists","Pharmacy system"]},{id:"working-france",title:"Working in France",description:"Employment contracts, workplace culture, employee rights, and setting up as a freelancer or entrepreneur.",category:"Employment",readTime:"22 min",difficulty:"intermediate",icon:Es,sections:["Types of employment contracts","Understanding your payslip","Employee rights and benefits","Setting up as auto-entrepreneur","Workplace culture tips","Networking and job hunting"]},{id:"education-schools",title:"Education & Schools",description:"Navigate the French education system for your children, from maternelle to university options.",category:"Education",readTime:"16 min",difficulty:"beginner",icon:ws,sections:["French education system overview","Public vs private schools","International schools","Enrolling your child","After-school activities","Higher education options"]},{id:"driving-transport",title:"Driving & Transportation",description:"Exchange your driving license, understand French driving rules, and navigate public transportation.",category:"Transportation",readTime:"14 min",difficulty:"beginner",icon:_s,sections:["Exchanging your driving license","Buying or leasing a car","Car insurance requirements","Public transportation options","Getting a Navigo pass","French driving rules"]},{id:"social-security",title:"Social Security & Benefits",description:"Register for French social security, understand your contributions, and access family benefits.",category:"Administration",readTime:"20 min",difficulty:"advanced",icon:Gt,sections:["Social security system overview","Registration process","Understanding contributions","Family benefits (CAF)","Retirement system","Unemployment benefits"]},{id:"family-relocation",title:"Relocating with Family",description:"Special considerations when moving to France with spouse and children, including visa requirements and settling in.",category:"Family",readTime:"18 min",difficulty:"intermediate",icon:ps,sections:["Family visa requirements","Spouse work authorization","Childcare options","Family healthcare coverage","Activities and integration","Support networks"]}],Zs=[{id:"all",label:"All Guides"},{id:"Visa & Immigration",label:"Visa & Immigration"},{id:"Housing",label:"Housing"},{id:"Finance",label:"Finance"},{id:"Healthcare",label:"Healthcare"},{id:"Employment",label:"Employment"},{id:"Education",label:"Education"},{id:"Transportation",label:"Transportation"},{id:"Administration",label:"Administration"},{id:"Family",label:"Family"}],Yt={beginner:"bg-green-100 text-green-700",intermediate:"bg-yellow-100 text-yellow-700",advanced:"bg-red-100 text-red-700"};function Na(){const[a,i]=U.useState(""),[n,o]=U.useState("all"),[m,f]=U.useState(null),[x,A]=U.useState(null),{setActiveView:p}=ls(),{data:u,isLoading:h}=cs(),{data:N}=Mt(),{data:I}=ms(),T=kt.filter(l=>{const C=a===""||l.title.toLowerCase().includes(a.toLowerCase())||l.description.toLowerCase().includes(a.toLowerCase()),z=n==="all"||l.category===n;return C&&z}),y=kt.filter(l=>l.featured),H=(()=>{if(!N)return[];const l=[];return N.visa_type&&N.visa_type!=="undecided"&&l.push({type:"visa-application",title:"Your Visa Application Guide",description:`Personalized guide for your ${N.visa_type} visa application`,icon:Pt}),(N.birth_state||N.spouse_birth_state||N.marriage_state)&&l.push({type:"apostille",title:"Your Apostille Guide",description:"State-specific apostille information for your documents",icon:Gt}),N.has_pets&&N.has_pets!=="no"&&l.push({type:"pet-relocation",title:"Your Pet Relocation Guide",description:`Personalized guide for relocating with ${N.has_pets}`,icon:Ss}),l})();return x?e.jsx(ia,{guideType:x,onBack:()=>A(null)}):m?e.jsx(sa,{guide:m,onBack:()=>f(null)}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relocation Guides"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive guides to help you navigate every aspect of moving to France"})]}),H.length>0&&a===""&&n==="all"&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-purple-600"}),"Personalized for You"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:H.map(l=>e.jsx(Js,{guide:l,onClick:()=>A(l.type)},l.type))})]}),I&&I.percentage<50&&a===""&&n==="all"&&e.jsx("div",{className:"mb-8 card p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"Complete your profile for personalized guides"}),e.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["Fill out your profile to get customized guides based on your visa type, location, and personal circumstances. Your profile is currently ",I.percentage,"% complete."]}),e.jsx("button",{onClick:()=>p("settings"),className:"text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:"Complete your profile"})]})]})}),e.jsx("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(fs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search guides...",value:a,onChange:l=>i(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),e.jsx("div",{className:"mb-8 flex flex-wrap gap-2",children:Zs.map(l=>e.jsx("button",{onClick:()=>o(l.id),className:ge("px-4 py-2 rounded-full text-sm font-medium transition-colors",n===l.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:l.label},l.id))}),a===""&&n==="all"&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-yellow-500"}),"Featured Guides"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map(l=>e.jsx(ta,{guide:l,onClick:()=>f(l)},l.id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ke,{className:"w-5 h-5 text-primary-600"}),n==="all"?"All Guides":n,e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",T.length,")"]})]}),T.length===0?e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(Ke,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No guides found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(l=>e.jsx(ea,{guide:l,onClick:()=>f(l)},l.id))})]})]})}function Js({guide:a,onClick:i}){const n=a.icon;return e.jsxs("button",{onClick:i,className:"card p-6 text-left bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200 hover:shadow-md transition-shadow group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(n,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),"Personalized"]})]}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-purple-700 transition-colors",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Based on your profile"}),e.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-purple-600 group-hover:gap-2 transition-all",children:["View guide",e.jsx(Ft,{className:"w-4 h-4"})]})]})]})}function ea({guide:a,onClick:i}){const n=a.icon;return e.jsx("button",{onClick:i,className:"card p-5 text-left hover:shadow-md transition-shadow group",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-primary-50 rounded-lg group-hover:bg-primary-100 transition-colors",children:e.jsx(n,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 group-hover:text-primary-600 transition-colors",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:a.description}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(tt,{className:"w-3 h-3"}),a.readTime]}),e.jsx("span",{className:ge("px-2 py-0.5 rounded-full",Yt[a.difficulty]),children:a.difficulty})]})]}),e.jsx(oe,{className:"w-5 h-5 text-gray-400 group-hover:text-primary-600 transition-colors"})]})})}function ta({guide:a,onClick:i}){const n=a.icon;return e.jsxs("button",{onClick:i,className:"card p-6 text-left bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200 hover:shadow-md transition-shadow group",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(n,{className:"w-5 h-5 text-primary-600"})}),e.jsx("span",{className:"text-xs font-medium text-primary-600",children:a.category})]}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-primary-700 transition-colors",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(tt,{className:"w-3 h-3"}),a.readTime]}),e.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-primary-600 group-hover:gap-2 transition-all",children:["Read guide",e.jsx(Ft,{className:"w-4 h-4"})]})]})]})}function sa({guide:a,onBack:i}){const n=a.icon,[o,m]=U.useState([]),[f,x]=U.useState(""),[A,p]=U.useState(null),[u,h]=U.useState(!1),N=U.useRef(null),I=U.useRef(null),T=ys();U.useEffect(()=>{o.length>0&&!u&&N.current&&setTimeout(()=>{var l;(l=N.current)==null||l.scrollIntoView({behavior:"smooth",block:"start"})},100)},[o,u]);const y=na(a.id),F=async l=>{const C=l||f.trim();if(!C||T.isPending)return;const z={id:Date.now().toString(),role:"user",content:C,timestamp:new Date().toISOString()};m(b=>[...b,z]),x(""),h(!0);try{const b=await T.mutateAsync({message:C,context:a.id,include_practice:!0});if(b.success&&b.message){const V={id:(Date.now()+1).toString(),role:"assistant",content:b.message,timestamp:new Date().toISOString(),sources:b.sources};m(K=>[...K,V])}}catch{const V={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date().toISOString()};m(K=>[...K,V])}finally{h(!1)}},H=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),F())};return e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[e.jsx(oe,{className:"w-4 h-4 rotate-180"}),"Back to guides"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-12rem)]",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6 overflow-y-auto",children:[e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-primary-50 rounded-xl",children:e.jsx(n,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-primary-600",children:a.category}),e.jsx("span",{className:ge("px-2 py-0.5 rounded-full text-xs",Yt[a.difficulty]),children:a.difficulty})]}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]})}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Guide Sections"}),e.jsx("div",{className:"space-y-1",children:a.sections.map((l,C)=>e.jsxs("button",{onClick:()=>{p(C),F(`Tell me about "${l}" for ${a.title.toLowerCase()}`)},className:ge("w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors",A===C?"bg-primary-50 text-primary-700":"hover:bg-gray-50 text-gray-700"),children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-xs font-medium flex-shrink-0",children:C+1}),e.jsx("span",{className:"text-sm",children:l})]},C))})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-yellow-500"}),"Quick Questions"]}),e.jsx("div",{className:"space-y-2",children:y.map((l,C)=>e.jsx("button",{onClick:()=>F(l),className:"w-full text-left text-sm text-gray-600 hover:text-primary-600 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:l},C))})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card h-full flex flex-col",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:e.jsx(We,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Guide Assistant"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ask questions about ",a.title.toLowerCase()]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:o.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-50 flex items-center justify-center mb-4",children:e.jsx(bs,{className:"w-8 h-8 text-primary-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Start a conversation"}),e.jsx("p",{className:"text-sm text-gray-600 max-w-sm mb-4",children:"Click on a section from the guide, ask a quick question, or type your own question below."}),e.jsx("p",{className:"text-xs text-gray-500",children:"I can help you understand requirements, timelines, and next steps."})]}):e.jsxs("div",{className:"space-y-4",children:[o.map((l,C)=>{const z=l.role==="assistant"&&C===o.length-1;return l.role==="user"?e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("div",{className:"max-w-[80%] rounded-2xl rounded-tr-sm px-4 py-3 bg-primary-600 text-white",children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:l.content})}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Ns,{className:"w-4 h-4 text-white"})})]},l.id):e.jsxs("div",{ref:z?N:void 0,className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center flex-shrink-0",children:e.jsx(We,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"flex-1 bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:e.jsx("div",{className:"px-5 py-4",children:e.jsx(aa,{content:l.content})})})]},l.id)}),u&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center flex-shrink-0",children:e.jsx(We,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-tl-sm px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 animate-spin text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("textarea",{ref:I,value:f,onChange:l=>x(l.target.value),onKeyPress:H,placeholder:"Ask a question about this guide...",rows:1,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl resize-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",disabled:T.isPending}),e.jsx("button",{onClick:()=>F(),disabled:!f.trim()||T.isPending,className:ge("px-4 py-3 rounded-xl transition-colors flex items-center justify-center",f.trim()&&!T.isPending?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:e.jsx(vs,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send • Shift+Enter for new line"})]})]})})]})]})}function aa({content:a}){const i=a.split(`
`),n=[];let o=[],m=null;const f=A=>{const p=[];let u=A,h=0;for(;u.length>0;){const N=u.match(/\[([^\]]+)\]\(([^)]+)\)/),I=u.match(/\*\*([^*]+)\*\*/),T=[N?{type:"link",match:N,index:u.indexOf(N[0])}:null,I?{type:"bold",match:I,index:u.indexOf(I[0])}:null].filter(Boolean).sort((F,H)=>((F==null?void 0:F.index)??1/0)-((H==null?void 0:H.index)??1/0));if(T.length===0||T[0]===null){p.push(u);break}const y=T[0];y.index>0&&p.push(u.slice(0,y.index)),y.type==="link"&&y.match?(p.push(e.jsx("a",{href:y.match[2],target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 underline font-medium",children:y.match[1]},h++)),u=u.slice(y.index+y.match[0].length)):y.type==="bold"&&y.match&&(p.push(e.jsx("strong",{className:"font-semibold text-gray-900",children:y.match[1]},h++)),u=u.slice(y.index+y.match[0].length))}return e.jsx(e.Fragment,{children:p})},x=()=>{if(o.length>0){const A=m==="ol";n.push(A?e.jsx("ol",{className:"my-3 ml-5 space-y-1.5 list-decimal text-sm",children:o.map((p,u)=>e.jsx("li",{className:"text-gray-700 leading-relaxed pl-1",children:p.formatted},u))},n.length):e.jsx("ul",{className:"my-3 ml-5 space-y-1.5 text-sm",children:o.map((p,u)=>e.jsxs("li",{className:"text-gray-700 leading-relaxed flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-500 mt-0.5",children:"•"}),e.jsx("span",{children:p.formatted})]},u))},n.length)),o=[],m=null}};return i.forEach(A=>{const p=A.trim();if(p.startsWith("## "))x(),n.push(e.jsx("h3",{className:"text-base font-semibold text-gray-900 mt-4 mb-2 pb-1 border-b border-gray-100",children:f(p.slice(3))},n.length));else if(p.startsWith("### "))x(),n.push(e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mt-3 mb-1.5",children:f(p.slice(4))},n.length));else if(p.startsWith("**")&&p.endsWith("**")&&!p.slice(2,-2).includes("**"))x(),n.push(e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mt-3 mb-1.5",children:p.slice(2,-2)},n.length));else if(p.match(/^[\-\*•]\s/)){m!=="ul"&&x(),m="ul";const u=p.replace(/^[\-\*•]\s/,"");o.push({text:u,formatted:f(u)})}else if(p.match(/^\d+\.\s/)){m!=="ol"&&x(),m="ol";const u=p.replace(/^\d+\.\s/,"");o.push({text:u,formatted:f(u)})}else p?(x(),n.push(e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-2",children:f(p)},n.length))):x()}),x(),e.jsx("div",{className:"guide-message-content",children:n})}function na(a){return{"visa-application":["What documents do I need for my visa application?","How long does the visa process take?","What are the financial requirements?","Can I work while my visa is being processed?"],housing:["What documents do renters need in France?","How do I find a guarantor (garant)?","What is a dossier de location?","Should I buy or rent when first arriving?"],healthcare:["How do I register for the French healthcare system?","What is a Carte Vitale and how do I get one?","Do I need private health insurance?","How do I find an English-speaking doctor?"],banking:["Which French bank should I choose?","What documents do I need to open an account?","Can I open an account before moving?","How do transfers from the US work?"],taxes:["When do I become a French tax resident?","How does the US-France tax treaty work?","Do I need to file taxes in both countries?","What deductions can I claim?"],driving:["Can I drive with my US license in France?","How do I exchange my license?","Do I need an international driving permit?","What are the rules for buying a car?"]}[a]||["What are the first steps I should take?","What documents will I need?","How long does this process typically take?","What are common mistakes to avoid?"]}function ia({guideType:a,onBack:i}){var p,u;const{data:n,isLoading:o,error:m}=hs(a),{data:f}=Mt(),x=xs(),A=()=>{x.mutate(a)};return o?e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[e.jsx(oe,{className:"w-4 h-4 rotate-180"}),"Back to guides"]}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(xe,{className:"w-8 h-8 text-primary-600 animate-spin"})})]}):m?e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[e.jsx(oe,{className:"w-4 h-4 rotate-180"}),"Back to guides"]}),e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(Qe,{className:"w-12 h-12 text-red-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load guide"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"We could not load your personalized guide. Please try again."}),e.jsx("button",{onClick:A,disabled:x.isPending,className:"btn-primary",children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4"}),"Generate AI Guide"]})})]})]}):n?e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[e.jsx(oe,{className:"w-4 h-4 rotate-180"}),"Back to guides"]}),e.jsxs("div",{className:"max-w-3xl",children:[e.jsx("div",{className:"card p-6 mb-6 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-4 bg-white rounded-xl shadow-sm",children:e.jsx(J,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs font-medium rounded-full",children:"Personalized"}),((p=n.metadata)==null?void 0:p.last_updated)&&e.jsxs("span",{className:"text-xs text-purple-600",children:["Updated ",new Date(n.metadata.last_updated).toLocaleDateString()]})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title}),e.jsx("p",{className:"text-gray-700",children:n.description})]})]}),!n.is_personalized&&e.jsx("button",{onClick:A,disabled:x.isPending,className:"btn-primary whitespace-nowrap",children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4"}),"Regenerate"]})})]})}),a==="apostille"&&((u=n.metadata)==null?void 0:u.states)&&n.metadata.states.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your State-Specific Information"}),e.jsx("div",{className:"space-y-4",children:n.metadata.states.map(h=>e.jsxs("div",{className:"card p-5",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(gs,{className:"w-4 h-4 text-primary-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:h.state_name})]}),e.jsx("p",{className:"text-sm text-gray-600",children:h.document})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Agency"}),e.jsx("p",{className:"text-sm text-gray-900",children:h.agency})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Method"}),e.jsx("p",{className:"text-sm text-gray-900",children:h.method})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Cost"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(As,{className:"w-3 h-3 text-green-600"}),e.jsx("p",{className:"text-sm text-gray-900",children:h.cost})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Processing Time"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tt,{className:"w-3 h-3 text-blue-600"}),e.jsx("p",{className:"text-sm text-gray-900",children:h.processing_time})]})]})]}),h.website&&e.jsxs("a",{href:h.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700 font-medium",children:["Visit agency website",e.jsx(js,{className:"w-3 h-3"})]}),h.notes&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-yellow-800",children:h.notes})})]},h.state))})]}),n.sections&&n.sections.length>0&&e.jsx("div",{className:"space-y-6",children:n.sections.map((h,N)=>e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center text-sm font-semibold flex-shrink-0",children:N+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:h.title}),e.jsx(Qs,{html:h.content,className:"prose prose-sm max-w-none text-gray-700"}),h.tips&&h.tips.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Tips"]}),e.jsx("ul",{className:"space-y-1",children:h.tips.map((I,T)=>e.jsx("li",{className:"text-sm text-blue-800",children:I},T))})]}),h.warnings&&h.warnings.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-yellow-900 mb-2 flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Important Notes"]}),e.jsx("ul",{className:"space-y-1",children:h.warnings.map((I,T)=>e.jsx("li",{className:"text-sm text-yellow-800",children:I},T))})]})]})]})},h.id))})]})]}):e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[e.jsx(oe,{className:"w-4 h-4 rotate-180"}),"Back to guides"]}),e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(Ke,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Guide not available"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"This personalized guide has not been generated yet."}),e.jsx("button",{onClick:A,disabled:x.isPending,className:"btn-primary",children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4"}),"Generate AI Guide"]})})]})]})}export{Na as default};
