const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TasksView-Q5TFqmsf.js","./vendor-query-D8MH73Ff.js","./vendor-react-F9Y4d3HK.js","./vendor-utils-C5RVuWu4.js","./VirtualList-DcWD11en.js","./vendor-virtual-Bs6oCvg1.js","./filter-c_ho1JtI.js","./circle-B4PsRUwg.js","./more-vertical-LaodWpaS.js","./grip-vertical-CJ-b-72a.js","./loader-2-CUQPaSuF.js","./flag-Dzn3baXT.js","./trash-2-BTYCr3Rl.js","./DocumentsView-CC68fNod.js","./alert-circle-CTcbl4EU.js","./shield-ChLJZlPZ.js","./external-link-lJaUD71B.js","./chevron-up-CaCrPFWh.js","./chevron-down-BcCzYec3.js","./MessagesView-D-nDN2Wa.js","./pen-BCSLwzxx.js","./send-SlKjLodY.js","./arrow-left-Dblj1oXP.js","./check-circle-2-Bwq4qhAV.js","./TimelineView-GpnicOUa.js","./user-plus-B9KPOb01.js","./SettingsView-B2mjxhiy.js","./save-ZTEZGclP.js","./HelpView-Co5y52F2.js","./book-DQi8A1Oj.js","./plane-C1io6heD.js","./briefcase-BhUFh9b5.js","./graduation-cap-C-1H1-J_.js","./GuidesView-meyU5-qs.js","./heart-ByFUOhmO.js","./car-DegWCmK5.js","./dollar-sign-BrmDKVIJ.js","./FamilyView-BhZa24-Y.js","./ProfileView-CMglgFOl.js","./ChecklistsView-Ba24t6-v.js","./GlossaryView-CsXk44eq.js","./building-2-DFBM-DLc.js","./copy-Cnu1jrTK.js","./KnowledgeBaseChat-bhqeXctc.js","./building-Ca79vr3O.js","./MembershipView-BhYO3TVS.js","./ResearchView-CsIGMjac.js"])))=>i.map(i=>d[i]);
var he=Object.defineProperty;var ye=(e,t,r)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var I=(e,t,r)=>ye(e,typeof t!="symbol"?t+"":t,r);import{u as g,a as p,b as m,j as s,Q as pe,c as xe}from"./vendor-query-D8MH73Ff.js";import{a as ge,r as x,R as fe}from"./vendor-react-F9Y4d3HK.js";import{c as be,a as k}from"./vendor-utils-C5RVuWu4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var B={},X=ge;B.createRoot=X.createRoot,B.hydrateRoot=X.hydrateRoot;const ve="modulepreload",ke=function(e,t){return new URL(e,t).href},Y={},j=function(t,r,a){let o=Promise.resolve();if(r&&r.length>0){const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(r.map(h=>{if(h=ke(h,a),h in Y)return;Y[h]=!0;const y=h.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(!!a)for(let N=c.length-1;N>=0;N--){const S=c[N];if(S.href===h&&(!y||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${b}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":ve,y||(w.as="script"),w.crossOrigin="",w.href=h,f&&w.setAttribute("nonce",f),document.head.appendChild(w),y)return new Promise((N,S)=>{w.addEventListener("load",N),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};function R(){return window.fraPortalData||{apiUrl:"/wp-json/fra-portal/v1",nonce:"",userId:0,siteUrl:"",pluginUrl:"",isAdmin:!1}}async function n(e,t={}){const r=R(),a=`${r.apiUrl}${e}`,{signal:o,...l}=t,c=await fetch(a,{...l,signal:o,headers:{"Content-Type":"application/json","X-WP-Nonce":r.nonce,...l.headers},credentials:"same-origin"});if(!c.ok){const d=await c.json().catch(()=>({message:"An error occurred"}));throw new Error(d.message||`HTTP error ${c.status}`)}return c.json()}function je(e,t={}){const r=new AbortController;return{promise:n(e,{...t,signal:r.signal}),abort:()=>r.abort()}}const ne={get:()=>n("/dashboard"),dismissWelcomeBanner:()=>n("/welcome-banner/dismiss",{method:"POST"})},we={list:()=>n("/projects"),get:e=>n(`/projects/${e}`),create:e=>n("/projects",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>n(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>n(`/projects/${e}`,{method:"DELETE"})},E={list:(e,t)=>{const r=new URLSearchParams;t!=null&&t.stage&&r.set("stage",t.stage),t!=null&&t.status&&r.set("status",t.status),t!=null&&t.task_type&&r.set("task_type",t.task_type);const a=r.toString();return n(`/projects/${e}/tasks${a?`?${a}`:""}`)},get:e=>n(`/tasks/${e}`),create:(e,t)=>n(`/projects/${e}/tasks`,{method:"POST",body:JSON.stringify(t)}),update:(e,t)=>n(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateStatus:(e,t)=>n(`/tasks/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),delete:e=>n(`/tasks/${e}`,{method:"DELETE"}),reorder:e=>n("/tasks/reorder",{method:"POST",body:JSON.stringify({order:e})})},Ne={list:(e,t)=>{const r=new URLSearchParams;t!=null&&t.limit&&r.set("limit",String(t.limit)),t!=null&&t.offset&&r.set("offset",String(t.offset)),t!=null&&t.grouped&&r.set("grouped","true");const a=r.toString();return n(`/projects/${e}/activity${a?`?${a}`:""}`)}},$={me:()=>n("/me"),updateProfile:e=>n("/me",{method:"PUT",body:JSON.stringify(e)}),getSettings:()=>n("/me/settings"),updateSettings:e=>n("/me/settings",{method:"PUT",body:JSON.stringify(e)}),deleteAccount:e=>n("/account/delete",{method:"POST",body:JSON.stringify({confirmation:e})})},A={list:(e,t)=>{const r=new URLSearchParams;t!=null&&t.category&&r.set("category",t.category),t!=null&&t.file_type&&r.set("file_type",t.file_type);const a=r.toString();return n(`/projects/${e}/files${a?`?${a}`:""}`)},get:e=>n(`/files/${e}`),upload:async(e,t,r,a)=>{const o=R(),l=new FormData;l.append("file",t),r!=null&&r.category&&l.append("category",r.category),r!=null&&r.description&&l.append("description",r.description);const c=await fetch(`${o.apiUrl}/projects/${e}/files`,{method:"POST",headers:{"X-WP-Nonce":o.nonce},credentials:"same-origin",body:l,signal:a});if(!c.ok){const d=await c.json().catch(()=>({message:"Upload failed"}));throw new Error(d.message||`HTTP error ${c.status}`)}return c.json()},update:(e,t)=>n(`/files/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>n(`/files/${e}`,{method:"DELETE"}),download:e=>{const t=R();return`${t.apiUrl}/files/${e}/download?_wpnonce=${t.nonce}`}},O={list:(e,t)=>{const r=new URLSearchParams;t!=null&&t.task_id&&r.set("task_id",String(t.task_id)),t!=null&&t.pinned&&r.set("pinned","true");const a=r.toString();return n(`/projects/${e}/notes${a?`?${a}`:""}`)},get:e=>n(`/notes/${e}`),create:(e,t)=>n(`/projects/${e}/notes`,{method:"POST",body:JSON.stringify(t)}),update:(e,t)=>n(`/notes/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>n(`/notes/${e}`,{method:"DELETE"}),togglePin:e=>n(`/notes/${e}/pin`,{method:"PATCH"})},J={get:()=>n("/profile"),update:e=>n("/profile",{method:"PUT",body:JSON.stringify(e)}),getCompletion:()=>n("/profile/completion")},P={list:e=>{const t=new URLSearchParams;e&&t.set("visa_type",e);const r=t.toString();return n(`/checklists${r?`?${r}`:""}`)},get:e=>n(`/checklists/${e}`),updateItem:(e,t,r)=>n(`/checklists/${e}/items/${t}`,{method:"PUT",body:JSON.stringify(r)}),getTaskChecklist:e=>n(`/tasks/${e}/checklist`),updateTaskChecklistItem:(e,t,r)=>n(`/tasks/${e}/checklist/${t}`,{method:"PUT",body:JSON.stringify({completed:r})}),addTaskChecklistItem:(e,t)=>n(`/tasks/${e}/checklist`,{method:"POST",body:JSON.stringify({title:t})}),deleteTaskChecklistItem:(e,t)=>n(`/tasks/${e}/checklist/${t}`,{method:"DELETE"})},Se={getAll:()=>n("/glossary")},oe={verify:e=>n("/verify",{method:"POST",body:JSON.stringify(e)}),verifyFile:async(e,t,r)=>{const a=R(),o=new FormData;o.append("file",t),o.append("verification_type",r);const l=await fetch(`${a.apiUrl}/projects/${e}/verify`,{method:"POST",headers:{"X-WP-Nonce":a.nonce},credentials:"same-origin",body:o});if(!l.ok){const c=await l.json().catch(()=>({message:"Verification failed"}));throw new Error(c.message||`HTTP error ${l.status}`)}return l.json()},getHistory:e=>n(`/projects/${e}/verify/history`)},G={list:()=>n("/guides"),get:e=>n(`/guides/${e}`),getPersonalized:e=>n(`/guides/${e}/personalized`),generateAI:e=>n(`/guides/${e}/generate`,{method:"POST"})},W={send:(e,t)=>n("/chat",{method:"POST",body:JSON.stringify(e),signal:t}),sendCancellable:e=>je("/chat",{method:"POST",body:JSON.stringify(e)}),getCategories:()=>n("/chat/categories"),searchTopics:(e,t)=>n(`/chat/search?q=${encodeURIComponent(e)}`,{signal:t})},T={getInfo:()=>n("/membership"),getSubscriptions:()=>n("/membership/subscriptions"),getPayments:()=>n("/membership/payments"),cancelSubscription:e=>n(`/membership/subscriptions/${e}/cancel`,{method:"POST"}),suspendSubscription:e=>n(`/membership/subscriptions/${e}/suspend`,{method:"POST"}),resumeSubscription:e=>n(`/membership/subscriptions/${e}/resume`,{method:"POST"}),getUpgradeOptions:()=>n("/membership/upgrade-options")},Ce={searchCommunes:(e,t)=>{const r=new URLSearchParams;return e.department&&r.set("department",e.department),e.q&&r.set("q",e.q),e.limit&&r.set("limit",String(e.limit)),n(`/research/communes/search?${r.toString()}`,{signal:t})},generateReport:e=>n("/research/report/generate",{method:"POST",body:JSON.stringify(e)}),saveReport:e=>n(`/research/report/${e}/save`,{method:"POST"}),getSavedReports:()=>n("/research/saved")},M={getTickets:()=>n("/support/tickets"),getTicket:e=>n(`/support/tickets/${e}`),createTicket:e=>n("/support/tickets",{method:"POST",body:JSON.stringify(e)}),replyToTicket:(e,t)=>n(`/support/tickets/${e}/reply`,{method:"POST",body:JSON.stringify(t)}),deleteTicket:e=>n(`/support/tickets/${e}`,{method:"DELETE"}),getUnreadCount:()=>n("/support/unread-count")},V={getFeatureStatus:()=>n("/family/feature-status"),getAll:()=>n("/family"),get:e=>n(`/family/${e}`),create:e=>n("/family",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>n(`/family/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>n(`/family/${e}`,{method:"DELETE"})},i={dashboard:["dashboard"],projects:["projects"],project:e=>["project",e],tasks:(e,t)=>["tasks",e,t],task:e=>["task",e],taskChecklist:e=>["taskChecklist",e],activity:e=>["activity",e],user:["user"],userSettings:["userSettings"],files:(e,t)=>["files",e,t],file:e=>["file",e],notes:(e,t)=>["notes",e,t],note:e=>["note",e],profile:["profile"],profileCompletion:["profileCompletion"],checklists:e=>["checklists",e],checklist:e=>["checklist",e],documentTypes:["documentTypes"],generatedDocuments:e=>["generatedDocuments",e],glossary:["glossary"],glossarySearch:e=>["glossary","search",e],verificationHistory:e=>["verificationHistory",e],guides:["guides"],guide:e=>["guide",e],personalizedGuide:e=>["personalizedGuide",e],chatCategories:["chatCategories"],membership:["membership"],subscriptions:["subscriptions"],payments:["payments"],upgradeOptions:["upgradeOptions"],supportTickets:["supportTickets"],supportTicket:e=>["supportTicket",e],supportUnreadCount:["supportUnreadCount"],savedReports:["savedReports"],familyMembers:["familyMembers"],familyMember:e=>["familyMember",e],familyFeatureStatus:["familyFeatureStatus"]};function le(){return g({queryKey:i.dashboard,queryFn:ne.get,staleTime:3e4})}function Te(){const e=p();return m({mutationFn:ne.dismissWelcomeBanner,onSuccess:()=>{e.setQueryData(i.dashboard,t=>t&&{...t,welcome_banner:null})}})}function ce(){return g({queryKey:i.user,queryFn:$.me,staleTime:6e4*5})}function Ht(){const e=p();return m({mutationFn:t=>$.updateProfile(t),onSuccess:t=>{e.setQueryData(i.user,t)}})}function qe(){return g({queryKey:i.userSettings,queryFn:$.getSettings,staleTime:6e4*5})}function It(){const e=p();return m({mutationFn:t=>$.updateSettings(t),onSuccess:t=>{e.setQueryData(i.userSettings,t)}})}function Bt(){return m({mutationFn:e=>$.deleteAccount(e)})}function _e(){const e=p();return m({mutationFn:({id:t,data:r})=>we.update(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:i.dashboard}),e.invalidateQueries({queryKey:i.projects}),e.setQueryData(i.project(t.id),t)}})}function Jt(e,t){return g({queryKey:i.tasks(e,t),queryFn:()=>E.list(e,t),enabled:e>0})}function Gt(e){const t=p();return m({mutationFn:r=>E.create(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:i.tasks(e)}),t.invalidateQueries({queryKey:i.dashboard})}})}function Wt(){const e=p();return m({mutationFn:({id:t,data:r})=>E.update(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:i.tasks(t.project_id)}),e.invalidateQueries({queryKey:i.dashboard}),e.setQueryData(i.task(t.id),t)}})}function Zt(){const e=p();return m({mutationFn:({id:t,status:r})=>E.updateStatus(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:i.tasks(t.project_id)}),e.invalidateQueries({queryKey:i.dashboard}),e.setQueryData(i.task(t.id),t)}})}function Xt(){const e=p();return m({mutationFn:({id:t,projectId:r})=>E.delete(t).then(a=>({...a,projectId:r})),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.tasks(r.projectId)}),e.invalidateQueries({queryKey:i.dashboard})}})}function Yt(e,t){return g({queryKey:i.activity(e),queryFn:()=>Ne.list(e,t),enabled:e>0})}function es(e,t){return g({queryKey:i.files(e,t),queryFn:()=>A.list(e,t),enabled:e>0})}function ts(e){const t=p();return m({mutationFn:({file:r,data:a})=>A.upload(e,r,a),onSuccess:()=>{t.invalidateQueries({queryKey:i.files(e)}),t.invalidateQueries({queryKey:i.dashboard})}})}function ss(){const e=p();return m({mutationFn:({id:t,data:r})=>A.update(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:i.files(t.project_id)}),e.setQueryData(i.file(t.id),t)}})}function rs(){const e=p();return m({mutationFn:({id:t,projectId:r})=>A.delete(t).then(a=>({...a,projectId:r})),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.files(r.projectId)}),e.invalidateQueries({queryKey:i.dashboard})}})}function as(){return{download:e=>{const t=A.download(e);window.open(t,"_blank")}}}function is(e,t){return g({queryKey:i.notes(e,t),queryFn:()=>O.list(e,t),enabled:e>0})}function ns(e){const t=p();return m({mutationFn:r=>O.create(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:i.notes(e)}),t.invalidateQueries({queryKey:i.activity(e)})}})}function os(){const e=p();return m({mutationFn:({id:t,data:r})=>O.update(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:i.notes(t.project_id)}),e.setQueryData(i.note(t.id),t)}})}function ls(){const e=p();return m({mutationFn:({id:t,projectId:r})=>O.delete(t).then(a=>({...a,projectId:r})),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.notes(r.projectId)})}})}function cs(){const e=p();return m({mutationFn:t=>O.togglePin(t),onSuccess:t=>{e.invalidateQueries({queryKey:i.notes(t.project_id)}),e.setQueryData(i.note(t.id),t)}})}function ds(){return g({queryKey:i.profile,queryFn:J.get,staleTime:6e4*5})}function us(){const e=p();return m({mutationFn:t=>J.update(t),onSuccess:t=>{e.setQueryData(i.profile,t),e.invalidateQueries({queryKey:i.profileCompletion})}})}function ms(){return g({queryKey:i.profileCompletion,queryFn:J.getCompletion,staleTime:6e4})}function hs(e){return g({queryKey:i.checklists(e),queryFn:()=>P.list(e)})}function ys(){const e=p();return m({mutationFn:({checklistType:t,itemId:r,data:a})=>P.updateItem(t,r,a),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.checklist(r.checklistType)}),e.invalidateQueries({queryKey:i.checklists()})}})}function ps(e){return g({queryKey:i.taskChecklist(e),queryFn:()=>P.getTaskChecklist(e),enabled:e>0})}function xs(e){const t=p();return m({mutationFn:({itemId:r,completed:a})=>P.updateTaskChecklistItem(e,r,a),onSuccess:()=>{t.invalidateQueries({queryKey:i.taskChecklist(e)})}})}function gs(e){const t=p();return m({mutationFn:r=>P.addTaskChecklistItem(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:i.taskChecklist(e)})}})}function fs(e){const t=p();return m({mutationFn:r=>P.deleteTaskChecklistItem(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:i.taskChecklist(e)})}})}function bs(){return g({queryKey:i.glossary,queryFn:Se.getAll,staleTime:6e4*60})}function vs(e){const t=p();return m({mutationFn:({file:r,verificationType:a})=>oe.verifyFile(e,r,a),onSuccess:()=>{t.invalidateQueries({queryKey:i.verificationHistory(e)})}})}function ks(e){return g({queryKey:i.verificationHistory(e),queryFn:()=>oe.getHistory(e),enabled:e>0})}function js(){return g({queryKey:i.guides,queryFn:G.list,staleTime:6e4*5})}function ws(e){return g({queryKey:i.personalizedGuide(e),queryFn:()=>G.getPersonalized(e),enabled:!!e})}function Ns(){const e=p();return m({mutationFn:t=>G.generateAI(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.personalizedGuide(r)})}})}function Ss(){return g({queryKey:i.chatCategories,queryFn:W.getCategories,staleTime:6e4*60})}function Cs(){return m({mutationFn:e=>W.send(e)})}function Ts(e){return g({queryKey:["chatSearch",e],queryFn:()=>W.searchTopics(e),enabled:e.length>=2})}function qs(){return g({queryKey:i.membership,queryFn:T.getInfo,staleTime:6e4*5})}function _s(){return g({queryKey:i.subscriptions,queryFn:T.getSubscriptions})}function Ps(){return g({queryKey:i.payments,queryFn:T.getPayments})}function Ms(){const e=p();return m({mutationFn:t=>T.cancelSubscription(t),onSuccess:()=>{e.invalidateQueries({queryKey:i.subscriptions}),e.invalidateQueries({queryKey:i.membership})}})}function Fs(){const e=p();return m({mutationFn:t=>T.suspendSubscription(t),onSuccess:()=>{e.invalidateQueries({queryKey:i.subscriptions}),e.invalidateQueries({queryKey:i.membership})}})}function Es(){const e=p();return m({mutationFn:t=>T.resumeSubscription(t),onSuccess:()=>{e.invalidateQueries({queryKey:i.subscriptions}),e.invalidateQueries({queryKey:i.membership})}})}function $s(){return g({queryKey:i.upgradeOptions,queryFn:T.getUpgradeOptions,staleTime:6e4*60})}function As(){return g({queryKey:i.supportTickets,queryFn:M.getTickets,staleTime:3e4})}function Os(e){return g({queryKey:i.supportTicket(e||0),queryFn:()=>M.getTicket(e),enabled:!!e,staleTime:1e4})}function Ds(){return g({queryKey:i.supportUnreadCount,queryFn:M.getUnreadCount,staleTime:3e4,refetchInterval:6e4})}function Ls(){const e=p();return m({mutationFn:M.createTicket,onSuccess:()=>{e.invalidateQueries({queryKey:i.supportTickets}),e.invalidateQueries({queryKey:i.supportUnreadCount})}})}function Ks(){const e=p();return m({mutationFn:({ticketId:t,content:r})=>M.replyToTicket(t,{content:r}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.supportTickets}),e.invalidateQueries({queryKey:i.supportTicket(r.ticketId)})}})}function Rs(){const e=p();return m({mutationFn:M.deleteTicket,onSuccess:()=>{e.invalidateQueries({queryKey:i.supportTickets}),e.invalidateQueries({queryKey:i.supportUnreadCount})}})}function Us(){return g({queryKey:i.savedReports,queryFn:Ce.getSavedReports,staleTime:6e4})}function Qs(){return g({queryKey:i.familyMembers,queryFn:V.getAll,staleTime:3e4})}function Vs(){const e=p();return m({mutationFn:V.create,onSuccess:()=>{e.invalidateQueries({queryKey:i.familyMembers})}})}function zs(){const e=p();return m({mutationFn:({memberId:t,data:r})=>V.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:i.familyMembers})}})}function Hs(){const e=p();return m({mutationFn:V.delete,onSuccess:()=>{e.invalidateQueries({queryKey:i.familyMembers})}})}const Pe={colors:{primary:"#22c55e",secondary:"#3b82f6",accent:"#f59e0b",sidebarBg:"#1f2937",sidebarText:"#ffffff",headerBg:"#ffffff"},layout:{showWpHeader:!1,showWpFooter:!1,showPromoBanner:!1,sidebarPosition:"left",sidebarCollapsed:!1},branding:{title:"Members Portal",logoUrl:""},features:{notifications:!0,fileUpload:!0},menu:[{id:"dashboard",label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{id:"tasks",label:"Tasks",icon:"CheckSquare",path:"/tasks"},{id:"checklists",label:"Checklists",icon:"ClipboardList",path:"/checklists"},{id:"timeline",label:"Timeline",icon:"Calendar",path:"/timeline"},{id:"messages",label:"Messages",icon:"MessageSquare",path:"/messages"},{id:"research",label:"Explore France",icon:"MapPin",path:"/research"},{id:"chat",label:"Ask AI",icon:"Bot",path:"/chat"},{id:"documents",label:"Documents",icon:"FileText",path:"/documents"},{id:"guides",label:"Guides",icon:"BookOpen",path:"/guides"},{id:"glossary",label:"Glossary",icon:"BookMarked",path:"/glossary"},{id:"files",label:"Files",icon:"FolderOpen",path:"/files"},{id:"profile",label:"My Profile",icon:"User",path:"/profile"},{id:"family",label:"Family Members",icon:"Users",path:"/family"},{id:"membership",label:"Membership",icon:"CreditCard",path:"/membership"},{id:"settings",label:"Settings",icon:"Settings",path:"/settings"},{id:"help",label:"Help",icon:"HelpCircle",path:"/help"}],customCss:""},Me=()=>typeof window<"u"&&window.PORTAL_SETTINGS?window.PORTAL_SETTINGS:Pe,D=be((e,t)=>{const r=Me();return{user:null,setUser:a=>e({user:a}),currentProject:null,setCurrentProject:a=>e({currentProject:a}),settings:r,updateSettings:a=>e(o=>({settings:{...o.settings,...a}})),sidebarCollapsed:r.layout.sidebarCollapsed,toggleSidebar:()=>e(a=>({sidebarCollapsed:!a.sidebarCollapsed})),setSidebarCollapsed:a=>e({sidebarCollapsed:a}),activeView:"dashboard",setActiveView:a=>e({activeView:a}),settingsTab:null,setSettingsTab:a=>e({settingsTab:a}),taskFilters:{stage:null,status:null,taskType:null},setTaskFilters:a=>e(o=>({taskFilters:{...o.taskFilters,...a}})),resetTaskFilters:()=>e({taskFilters:{stage:null,status:null,taskType:null}}),activeModal:null,modalData:null,openModal:(a,o=null)=>e({activeModal:a,modalData:o}),closeModal:()=>e({activeModal:null,modalData:null}),getMenuItems:()=>t().settings.menu,isMenuItemVisible:a=>t().settings.menu.some(o=>o.id===a)}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),u=(e,t)=>{const r=x.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:f,...h},y)=>x.createElement("svg",{ref:y,...Fe,width:o,height:o,stroke:a,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Ee(e)}`,d].join(" "),...h},[...t.map(([b,v])=>x.createElement(b,v)),...Array.isArray(f)?f:[f]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=u("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=u("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=u("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=u("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=u("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=u("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=u("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=u("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=u("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=u("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=u("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=u("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=u("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=u("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=u("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=u("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=u("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=u("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=u("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=u("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=u("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=u("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=u("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=u("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=u("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=u("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=u("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=u("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=u("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=u("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=u("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=u("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=u("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=u("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=u("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=u("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class at extends x.Component{constructor(r){super(r);I(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});I(this,"handleGoHome",()=>{this.setState({hasError:!1,error:null}),window.location.hash="#dashboard",window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("ErrorBoundary caught an error:",r,a),this.props.onError&&this.props.onError(r,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx(it,{error:this.state.error,onRetry:this.handleRetry,onGoHome:this.handleGoHome}):this.props.children}}function it({error:e,onRetry:t,onGoHome:r}){return s.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",role:"alert","aria-live":"assertive",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(q,{className:"w-8 h-8 text-red-600","aria-hidden":"true"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try again or return to the dashboard."}),e&&!1,s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsxs("button",{onClick:t,className:"btn btn-primary flex items-center gap-2",children:[s.jsx(Ze,{className:"w-4 h-4","aria-hidden":"true"}),"Try Again"]}),s.jsxs("button",{onClick:r,className:"btn btn-secondary flex items-center gap-2",children:[s.jsx(Be,{className:"w-4 h-4","aria-hidden":"true"}),"Go to Dashboard"]})]})]})})}const nt={LayoutDashboard:ue,CheckSquare:Ke,FileText:Z,MessageSquare:Q,Users:rt,Settings:Ye,HelpCircle:Ie,FolderOpen:te,FolderKanban:te,BookOpen:De,Calendar:U,ClipboardList:Ve,BookMarked:Oe,Bot:Le,User:F,CreditCard:ze,MapPin:Ge,Headphones:He},L={project:["dashboard","tasks","checklists","timeline","messages"],resources:["research","chat","documents","guides","glossary","files"],account:["profile","family","membership","support","settings","help"]},ot=e=>e?{project:[...e.project,...L.project.filter(t=>!e.project.includes(t))],resources:[...e.resources,...L.resources.filter(t=>!e.resources.includes(t))],account:[...e.account,...L.account.filter(t=>!e.account.includes(t))]}:L,lt=(e,t)=>{const r=ot(t),a=[{id:"project",label:"PROJECT",itemIds:r.project},{id:"resources",label:"RESOURCES",itemIds:r.resources},{id:"account",label:"ACCOUNT",itemIds:r.account}],o=e.reduce((l,c)=>(l[c.id]=c,l),{});return a.map(l=>({...l,items:l.itemIds.map(c=>o[c]).filter(c=>c!==void 0)})).filter(l=>l.items.length>0)};function ct(){const{sidebarCollapsed:e,toggleSidebar:t,activeView:r,setActiveView:a,settings:o}=D(),{data:l}=qe(),c=o.menu,d=lt(c,l==null?void 0:l.menu_order),f={"--sidebar-bg":o.colors.sidebarBg,"--sidebar-text":o.colors.sidebarText};return s.jsxs("aside",{className:k("sidebar flex flex-col",e?"sidebar-collapsed":"sidebar-expanded"),style:f,children:[s.jsxs("div",{className:"flex items-center h-16 px-4 border-b border-gray-700/50",children:[!e&&s.jsxs("div",{className:"flex items-center gap-3",children:[o.branding.logoUrl?s.jsx("img",{src:o.branding.logoUrl,alt:o.branding.title,className:"h-8 w-auto"}):s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:o.colors.primary},children:s.jsx("span",{className:"text-white font-bold text-sm",children:"R2F"})}),s.jsx("span",{className:"font-semibold text-sidebar-textActive",children:o.branding.title})]}),e&&s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{backgroundColor:o.colors.primary},children:s.jsx("span",{className:"text-white font-bold text-sm",children:"R"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4 scrollbar-thin",children:d.map(h=>s.jsxs("div",{className:"mb-6",children:[!e&&s.jsx("h3",{className:"px-4 mb-2 text-xs font-semibold text-sidebar-text/60 uppercase tracking-wider",children:h.label}),s.jsx("ul",{className:"space-y-1 px-2",children:h.items.map(y=>{const b=nt[y.icon]||ue,v=r===y.id,w=()=>{y.id==="dashboard"?window.location.reload():a(y.id)};return s.jsx("li",{children:s.jsxs("button",{onClick:w,className:k("nav-item w-full",v&&"nav-item-active",e&&"justify-center px-2"),title:e?y.label:void 0,children:[s.jsx(b,{className:"w-5 h-5 flex-shrink-0"}),!e&&s.jsx("span",{children:y.label})]})},y.id)})})]},h.id))}),s.jsx("button",{onClick:t,className:"flex items-center justify-center h-12 border-t border-gray-700/50 text-sidebar-text hover:text-sidebar-textActive transition-colors",title:e?"Expand sidebar":"Collapse sidebar",children:e?s.jsx(Qe,{className:"w-5 h-5"}):s.jsxs(s.Fragment,{children:[s.jsx(Ue,{className:"w-5 h-5"}),s.jsx("span",{className:"ml-2 text-sm",children:"Collapse"})]})})]})}const dt={dashboard:"Dashboard",tasks:"Tasks",timeline:"Timeline",messages:"Messages",documents:"Documents",guides:"Guides",files:"Files",family:"Family Members",settings:"Settings",help:"Help & Support",profile:"My Profile",checklists:"Checklists",glossary:"Glossary",chat:"Ask AI",membership:"Membership"};function ut(){var h,y;const{activeView:e}=D(),{data:t}=ce(),{data:r}=le(),[a,o]=x.useState(!1),l=x.useRef(null),c=dt[e]||"Dashboard";x.useEffect(()=>{const b=v=>{l.current&&!l.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const d=[];(h=r==null?void 0:r.task_stats)!=null&&h.overdue&&r.task_stats.overdue>0&&d.push({id:"overdue",type:"warning",title:`${r.task_stats.overdue} Overdue Task${r.task_stats.overdue>1?"s":""}`,message:"You have tasks that need immediate attention",time:"Now"}),r!=null&&r.upcoming_tasks&&r.upcoming_tasks.length>0&&d.push({id:"upcoming",type:"info",title:"Upcoming Deadlines",message:`${r.upcoming_tasks.length} tasks due soon`,time:"Today"}),(y=r==null?void 0:r.project)!=null&&y.days_until_move&&r.project.days_until_move<=30&&d.push({id:"move-date",type:"info",title:"Move Date Approaching",message:`${r.project.days_until_move} days until your move`,time:"Reminder"});const f=d.length;return s.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:c})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative hidden md:block",children:[s.jsx(Xe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 pl-10 pr-4 py-2 bg-gray-100 border-0 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"relative",ref:l,children:[s.jsxs("button",{onClick:()=>o(!a),className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors","aria-label":`Notifications${f>0?` (${f} new)`:""}`,children:[s.jsx(Ae,{className:"w-5 h-5"}),f>0&&s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),s.jsx("button",{onClick:()=>o(!1),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(z,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:d.map(b=>s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:b.type==="warning"?s.jsx(q,{className:"w-5 h-5 text-yellow-500"}):b.type==="success"?s.jsx(_,{className:"w-5 h-5 text-green-500"}):s.jsx(Je,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:b.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:b.time})]})]})},b.id))}):s.jsxs("div",{className:"px-4 py-8 text-center",children:[s.jsx(_,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"You're all caught up!"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"No new notifications"})]})})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[t!=null&&t.avatar_url?s.jsx("img",{src:t.avatar_url,alt:t.display_name,className:"w-8 h-8 rounded-full"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(F,{className:"w-4 h-4 text-gray-500"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.display_name)||"Loading..."}),s.jsx("p",{className:"text-xs text-gray-500",children:t!=null&&t.is_member?"Member":"Free"})]})]})]})]})}function mt({stages:e,className:t}){return s.jsxs("div",{className:k("card",t),children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Progress Tracker"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200",children:s.jsx("div",{className:"h-full bg-primary-500 transition-all duration-500",style:{width:`${ht(e)}%`}})}),s.jsx("div",{className:"relative flex justify-between",children:e.map((r,a)=>s.jsxs("div",{className:"flex flex-col items-center",style:{width:`${100/e.length}%`},children:[s.jsx("div",{className:k("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all z-10",r.status==="completed"&&"bg-primary-500 border-primary-500",r.status==="current"&&"bg-white border-primary-500",r.status==="upcoming"&&"bg-white border-gray-300"),children:r.status==="completed"?s.jsx(Re,{className:"w-5 h-5 text-white"}):s.jsx("span",{className:k("text-sm font-medium",r.status==="current"?"text-primary-500":"text-gray-400"),children:a+1})}),s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("p",{className:k("text-sm font-medium",r.status==="completed"&&"text-primary-600",r.status==="current"&&"text-gray-900",r.status==="upcoming"&&"text-gray-400"),children:r.title}),r.total>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[r.completed,"/",r.total," tasks"]})]}),r.status==="current"&&r.total>0&&s.jsxs("div",{className:"mt-2 w-full max-w-[80px]",children:[s.jsx("div",{className:"progress-bar h-1",children:s.jsx("div",{className:"progress-bar-fill",style:{width:`${r.percentage}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 text-center mt-1",children:[r.percentage,"%"]})]})]},r.slug))})]})})]})}function ht(e){const t=e.filter(l=>l.status==="completed").length,r=e.find(l=>l.status==="current"),a=e.findIndex(l=>l.status==="current");if(e.length===0)return 0;const o=t/e.length*100;if(r&&a>=0){const l=100/e.length,c=r.percentage/100*l;return o+c}return o}function re({task:e,onClick:t}){const r={todo:"status-todo",in_progress:"status-in-progress",waiting:"status-waiting",done:"status-done"},a={low:"priority-low",medium:"priority-medium",high:"priority-high",urgent:"priority-urgent"};return s.jsxs("div",{onClick:t,className:k("flex items-center justify-between p-3 rounded-lg border transition-colors",e.is_overdue?"border-red-200 bg-red-50":"border-gray-200 bg-white hover:bg-gray-50",t&&"cursor-pointer"),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),e.is_overdue&&s.jsx(q,{className:"w-4 h-4 text-red-500 flex-shrink-0"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsx("span",{className:k("badge text-xs",r[e.status]),children:e.status_label}),s.jsx("span",{className:k("badge text-xs",a[e.priority]),children:e.priority_label}),e.due_date&&s.jsxs("span",{className:k("flex items-center gap-1 text-xs",e.is_overdue?"text-red-600":"text-gray-500"),children:[s.jsx(U,{className:"w-3 h-3"}),yt(e.due_date,e.days_until_due)]})]})]}),e.task_type==="team"&&s.jsx("span",{className:"badge badge-blue text-xs ml-2",children:"Team"})]})}function yt(e,t){return t===null?new Date(e).toLocaleDateString():t===0?"Today":t===1?"Tomorrow":t===-1?"Yesterday":t<0?`${Math.abs(t)} days ago`:t<=7?`In ${t} days`:new Date(e).toLocaleDateString()}const pt={"check-circle":_,"plus-circle":se,pencil:We,trash:tt,"arrows-right-left":$e,"arrow-up-tray":st,"document-text":Z,"chat-bubble-bottom-center-text":Q,"user-plus":F,user:F,envelope:Q,"arrow-right":de,"folder-plus":se};function xt({activities:e}){return s.jsxs("div",{className:"card h-full",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),s.jsx("div",{className:"card-body overflow-y-auto max-h-[500px] scrollbar-thin",children:e.length>0?s.jsx("div",{className:"space-y-4",children:e.map(t=>s.jsx(gt,{activity:t},t.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Q,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No recent activity"})]})})]})}function gt({activity:e}){const t=pt[e.action_icon]||_;return s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:e.user_avatar?s.jsx("img",{src:e.user_avatar,alt:e.user_name,className:"w-8 h-8 rounded-full"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(F,{className:"w-4 h-4 text-gray-500"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t,{className:"w-4 h-4 text-gray-400"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[s.jsx("span",{className:"font-medium",children:e.user_name})," ",s.jsx("span",{className:"text-gray-600",children:e.action_label.toLowerCase()})]})]}),e.description&&e.description!==e.action_label&&s.jsx("p",{className:"text-sm text-gray-600 mt-0.5 truncate",children:e.description}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.relative_time})]})]})}function ft({banner:e}){const[t,r]=x.useState(!0),a=Te(),o=async()=>{r(!1);try{await a.mutateAsync()}catch(l){console.error("Failed to dismiss banner:",l)}};return t?s.jsx("div",{className:"rounded-lg border-2 p-4 md:p-5 mb-6",style:{backgroundColor:e.bg_color,borderColor:e.border_color},role:"region","aria-label":"Welcome message",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:e.border_color},children:s.jsx(et,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:e.message})]})]}),s.jsx("button",{onClick:o,className:"flex-shrink-0 p-1.5 rounded-full hover:bg-black/10 transition-colors","aria-label":"Dismiss welcome message",disabled:a.isPending,children:s.jsx(z,{className:"w-5 h-5 text-gray-600"})})]})}):null}const bt={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw]"};function vt({isOpen:e,onClose:t,title:r,size:a="md",children:o,footer:l,showHeader:c=!0}){const d=x.useRef(null);x.useEffect(()=>{const h=y=>{y.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",h),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",h),document.body.style.overflow="unset"}},[e,t]);const f=h=>{h.target===d.current&&t()};return e?s.jsx("div",{ref:d,onClick:f,className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-in fade-in duration-200",children:s.jsxs("div",{className:k("w-full bg-white rounded-xl shadow-xl animate-in zoom-in-95 duration-200",bt[a]),children:[c&&r&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r}),s.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(z,{className:"w-5 h-5"})})]}),s.jsx("div",{className:k(c&&r?"px-6 py-4":"",!c&&"relative"),children:o}),l&&s.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:l})]})}):null}const kt={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};function Is({isOpen:e,onClose:t,title:r,children:a,footer:o,side:l="right",width:c="md"}){const d=x.useRef(null);x.useEffect(()=>{const h=y=>{y.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",h),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",h),document.body.style.overflow="unset"}},[e,t]);const f=h=>{h.target===d.current&&t()};return e?s.jsx("div",{ref:d,onClick:f,className:"fixed inset-0 z-50 bg-black/50 animate-in fade-in duration-200",children:s.jsxs("div",{className:k("fixed inset-y-0 w-full bg-white shadow-xl flex flex-col",kt[c],l==="right"?"right-0 animate-in slide-in-from-right":"left-0 animate-in slide-in-from-left","duration-300"),children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r||"Details"}),s.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(z,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:a}),o&&s.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:o})]})}):null}function ae(){const{data:e,isLoading:t,error:r}=le(),{setActiveView:a,setSettingsTab:o}=D(),[l,c]=x.useState(!1),[d,f]=x.useState(""),h=_e();if(t)return s.jsx(jt,{});if(r)return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"card p-8 text-center",children:[s.jsx(q,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),s.jsx("p",{className:"text-gray-600",children:r.message})]})});if(!e)return null;const{project:y,stages:b,task_stats:v,profile_visa_label:w,welcome_banner:N,upcoming_tasks:S,overdue_tasks:H,recent_activity:me}=e;return s.jsxs("div",{className:"p-6 space-y-6",children:[N&&s.jsx(ft,{banner:N}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:y.title}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[w?s.jsx("span",{children:w}):s.jsxs("button",{onClick:()=>{o("visa-profile"),a("settings")},className:"inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 hover:underline",children:[s.jsx(Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Set your visa type in your profile"})]}),y.target_move_date&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx(U,{className:"w-4 h-4 inline-block mr-1"}),y.days_until_move!==null&&y.days_until_move>0?s.jsxs("span",{children:[y.days_until_move," days until move"]}):s.jsxs("span",{children:["Move date: ",new Date(y.target_move_date).toLocaleDateString()]})]})]})]}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>{f(y.target_move_date||""),c(!0)},children:[s.jsx(U,{className:"w-4 h-4"}),"Update Move Date"]})]}),s.jsx(vt,{isOpen:l,onClose:()=>c(!1),title:"Update Move Date",size:"sm",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{d&&y.id&&h.mutate({id:y.id,data:{target_move_date:d}},{onSuccess:()=>{c(!1)}})},disabled:h.isPending,children:h.isPending?"Saving...":"Save"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"When are you planning to move to France? This helps us prioritize your tasks and deadlines."}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"move-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Move Date"}),s.jsx("input",{id:"move-date",type:"date",value:d,onChange:C=>f(C.target.value),className:"input",min:new Date().toISOString().split("T")[0]})]})]})}),s.jsx(mt,{stages:b}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(K,{label:"Tasks Completed",value:`${v.completed}/${v.total}`,subtext:`${v.percentage}% complete`,icon:_,color:"green",onClick:()=>a("tasks")}),s.jsx(K,{label:"In Progress",value:v.in_progress,subtext:"Tasks being worked on",icon:ee,color:"blue",onClick:()=>a("tasks")}),s.jsx(K,{label:"To Do",value:v.todo,subtext:"Tasks remaining",icon:ee,color:"gray",onClick:()=>a("tasks")}),s.jsx(K,{label:"Overdue",value:v.overdue,subtext:v.overdue>0?"Need attention!":"All on track",icon:q,color:v.overdue>0?"red":"green",onClick:()=>a("tasks")})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[H.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[s.jsx(q,{className:"w-5 h-5"}),"Overdue Tasks"]}),s.jsx("span",{className:"badge badge-red",children:H.length})]}),s.jsx("div",{className:"card-body space-y-3",children:H.slice(0,5).map(C=>s.jsx(re,{task:C},C.id))})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Tasks"}),s.jsxs("button",{onClick:()=>a("tasks"),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:["View all",s.jsx(de,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"card-body",children:S.length>0?s.jsx("div",{className:"space-y-3",children:S.map(C=>s.jsx(re,{task:C},C.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(_,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No upcoming tasks due soon!"})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(xt,{activities:me})})]})]})}function K({label:e,value:t,subtext:r,icon:a,color:o,onClick:l}){const c={green:"bg-green-50 text-green-600",blue:"bg-blue-50 text-blue-600",gray:"bg-gray-50 text-gray-600",red:"bg-red-50 text-red-600",yellow:"bg-yellow-50 text-yellow-600"};return s.jsx("button",{type:"button",onClick:l,className:"card p-5 w-full text-left hover:shadow-md transition-shadow cursor-pointer","aria-label":`${e}: ${t}. ${r}. Click to view tasks.`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),s.jsx("div",{className:k("p-2 rounded-lg",c[o]),children:s.jsx(a,{className:"w-5 h-5"})})]})})}function jt(){return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"h-20 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-40 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>s.jsx("div",{className:"h-28 bg-gray-200 rounded-lg animate-pulse"},e))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 h-96 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg animate-pulse"})]})]})}const wt=x.lazy(()=>j(()=>import("./TasksView-Q5TFqmsf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url)),Nt=x.lazy(()=>j(()=>import("./DocumentsView-CC68fNod.js"),__vite__mapDeps([13,1,2,3,14,4,5,8,15,12,16,17,18,6]),import.meta.url)),St=x.lazy(()=>j(()=>import("./MessagesView-D-nDN2Wa.js"),__vite__mapDeps([19,1,2,3,8,20,12,21,22,10,23,14]),import.meta.url)),Ct=x.lazy(()=>j(()=>import("./TimelineView-GpnicOUa.js"),__vite__mapDeps([24,1,2,3,25,11,7]),import.meta.url)),Tt=x.lazy(()=>j(()=>import("./SettingsView-B2mjxhiy.js"),__vite__mapDeps([26,1,2,3,10,27,12,17,18,9]),import.meta.url)),qt=x.lazy(()=>j(()=>import("./HelpView-Co5y52F2.js"),__vite__mapDeps([28,1,2,3,18,29,14,16,30,31,32]),import.meta.url)),_t=x.lazy(()=>j(()=>import("./GuidesView-meyU5-qs.js"),__vite__mapDeps([33,1,2,3,34,31,32,35,15,14,10,36,16,21]),import.meta.url)),Pt=x.lazy(()=>j(()=>import("./FamilyView-BhZa24-Y.js"),__vite__mapDeps([37,1,2,3,14,25,34,20,12,11]),import.meta.url)),Mt=x.lazy(()=>j(()=>import("./ProfileView-CMglgFOl.js"),__vite__mapDeps([38,1,2,3,10,27,14,31,36,17,18]),import.meta.url)),Ft=x.lazy(()=>j(()=>import("./ChecklistsView-Ba24t6-v.js"),__vite__mapDeps([39,1,2,3,23,7,17,18,20,6,30]),import.meta.url)),Et=x.lazy(()=>j(()=>import("./GlossaryView-CsXk44eq.js"),__vite__mapDeps([40,1,2,3,29,14,41,34,18,42]),import.meta.url)),$t=x.lazy(()=>j(()=>import("./KnowledgeBaseChat-bhqeXctc.js"),__vite__mapDeps([43,1,2,3,10,44,35,36,34,42,14,21]),import.meta.url)),At=x.lazy(()=>j(()=>import("./MembershipView-BhYO3TVS.js"),__vite__mapDeps([45,1,2,3,14,10]),import.meta.url)),Ot=x.lazy(()=>j(()=>import("./ResearchView-CsIGMjac.js"),__vite__mapDeps([46,1,2,22,41,10,44,14,27,3]),import.meta.url));function Dt(){return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-3",role:"status","aria-label":"Loading view"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})]})})}function Lt(){const{activeView:e}=D();if(e==="dashboard")return s.jsx(ae,{});const t=()=>{switch(e){case"tasks":return s.jsx(wt,{});case"messages":return s.jsx(St,{});case"documents":case"files":return s.jsx(Nt,{});case"timeline":return s.jsx(Ct,{});case"guides":return s.jsx(_t,{});case"family":return s.jsx(Pt,{});case"settings":return s.jsx(Tt,{});case"help":return s.jsx(qt,{});case"profile":return s.jsx(Mt,{});case"checklists":return s.jsx(Ft,{});case"glossary":return s.jsx(Et,{});case"chat":return s.jsx($t,{});case"membership":return s.jsx(At,{});case"research":return s.jsx(Ot,{});default:return s.jsx(ae,{})}};return s.jsx(x.Suspense,{fallback:s.jsx(Dt,{}),children:s.jsx(t,{})})}function Kt(){const{sidebarCollapsed:e,setUser:t}=D(),{data:r}=ce();return x.useEffect(()=>{r&&t(r)},[r,t]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ct,{}),s.jsxs("div",{className:k("transition-all duration-300",e?"ml-16":"ml-64"),children:[s.jsx(ut,{}),s.jsx("main",{className:"min-h-[calc(100vh-4rem)]",children:s.jsx(at,{children:s.jsx(Lt,{})})})]})]})}const Rt=new pe({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),ie=document.getElementById("fra-portal-root");ie&&B.createRoot(ie).render(s.jsx(fe.StrictMode,{children:s.jsx(xe,{client:Rt,children:s.jsx(Kt,{})})}));export{Ht as $,q as A,Ge as B,_ as C,Is as D,cs as E,Z as F,ls as G,os as H,ns as I,Ds as J,He as K,is as L,Q as M,As as N,Je as O,se as P,Ls as Q,Os as R,Xe as S,Ks as T,F as U,Rs as V,Yt as W,z as X,Ye as Y,Ae as Z,ce as _,ee as a,Bt as a0,Re as a1,ds as a2,ms as a3,us as a4,qe as a5,It as a6,rt as a7,ze as a8,Le as a9,$s as aA,Ms as aB,Fs as aC,Es as aD,Ce as aE,Ze as aF,Oe as aa,Ve as ab,Ie as ac,De as ad,ue as ae,Qe as af,Be as ag,js as ah,et as ai,ws as aj,Ns as ak,Cs as al,de as am,Qs as an,Vs as ao,zs as ap,Hs as aq,hs as ar,ys as as,bs as at,Ss as au,Ue as av,Ts as aw,qs as ax,_s as ay,Ps as az,U as b,u as c,xs as d,gs as e,fs as f,Ke as g,Wt as h,Zt as i,Xt as j,Gt as k,vt as l,D as m,le as n,Jt as o,ts as p,st as q,te as r,rs as s,ss as t,ps as u,as as v,vs as w,ks as x,Us as y,es as z};
