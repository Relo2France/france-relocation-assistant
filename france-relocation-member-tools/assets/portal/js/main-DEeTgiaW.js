const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TasksView-CD0kWrwB.js","./vendor-query-BibhOhig.js","./vendor-react-BNGOmyOO.js","./vendor-utils-C-JT--wB.js","./useVirtualization-BdRDNN-_.js","./vendor-virtual-DbiAVFxH.js","./filter-eFxrGWDm.js","./circle-P4G_l_6N.js","./more-vertical-CofplqNX.js","./grip-vertical-BNNgzttc.js","./loader-2-BFHtu5DA.js","./flag-BZNacqCz.js","./trash-2-C34N9u49.js","./DocumentsView-DFP650jr.js","./alert-circle-CWwZcuG0.js","./shield-alert-8SpegeXt.js","./shield-BI6kvuzv.js","./external-link-DOcZn8JB.js","./chevron-up-Cfd6qbC5.js","./chevron-down-ClTURvin.js","./MessagesView-DCa9tgyZ.js","./pen-C4b5dRzq.js","./send-BH8PWKtk.js","./arrow-left-CA6BTx3y.js","./check-circle-2-Bzea7gL4.js","./TimelineView-JSrU-1cn.js","./user-plus-BjEmBoEd.js","./SettingsView-DmhH_ecH.js","./save-BKkNk48c.js","./HelpView-Bo1JUCag.js","./book-BqeQzlik.js","./plane-Bbc10Yr5.js","./briefcase-Bcurdjnw.js","./graduation-cap-DHX6GV2o.js","./GuidesView-Dg9l3AOe.js","./heart-DXhe7wHV.js","./car-kdw--FlY.js","./dollar-sign-CdVUxiZH.js","./FamilyView-CNX3L45e.js","./lock-DYpC35XB.js","./ProfileView-BWiJzE_p.js","./ChecklistsView-BIrhyKqp.js","./GlossaryView-DVRHz6X6.js","./building-2-Ddo4kfDN.js","./copy-a4TU4ExC.js","./KnowledgeBaseChat-DbkI_Gn2.js","./building-bg-BBdas.js","./lightbulb-Cc9ECO-l.js","./MembershipView-C88AqAqT.js","./x-circle-BxVs9Wbh.js","./ResearchView-C6yAimFU.js","./string-B_3o-8jJ.js","./SchengenDashboard-CCqCTXaN.js"])))=>i.map(i=>d[i]);
var Se=Object.defineProperty;var je=(e,t,n)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var B=(e,t,n)=>je(e,typeof t!="symbol"?t+"":t,n);import{u as y,a as u,b as l,j as s,Q as we,c as Ne}from"./vendor-query-BibhOhig.js";import{a as Te,r as m,R as Ce}from"./vendor-react-BNGOmyOO.js";import{c as qe,a as N}from"./vendor-utils-C-JT--wB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Y={},ae=Te;Y.createRoot=ae.createRoot,Y.hydrateRoot=ae.hydrateRoot;const Ee="modulepreload",Fe=function(e,t){return new URL(e,t).href},ie={},q=function(t,n,a){let o=Promise.resolve();if(n&&n.length>0){const d=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),v=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=Promise.allSettled(n.map(f=>{if(f=Fe(f,a),f in ie)return;ie[f]=!0;const g=f.endsWith(".css"),S=g?'[rel="stylesheet"]':"";if(!!a)for(let T=d.length-1;T>=0;T--){const F=d[T];if(F.href===f&&(!g||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${S}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Ee,g||(w.as="script"),w.crossOrigin="",w.href=f,v&&w.setAttribute("nonce",v),document.head.appendChild(w),g)return new Promise((T,F)=>{w.addEventListener("load",T),w.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return t().catch(c)})},Z=1e3,J=60*Z,_e=60*J,x={DYNAMIC:10*Z,DEFAULT:30*Z,SHORT:J,MEDIUM:5*J,LONG:_e},X={SUPPORT_UNREAD:J},Me={MIN_QUERY_LENGTH:2};function ee(){return window.fraPortalData||{apiUrl:"/wp-json/fra-portal/v1",nonce:"",userId:0,siteUrl:"",pluginUrl:"",isAdmin:!1}}async function r(e,t={}){const n=ee(),a=`${n.apiUrl}${e}`,{signal:o,...c}=t,d=await fetch(a,{...c,signal:o,headers:{"Content-Type":"application/json","X-WP-Nonce":n.nonce,...c.headers},credentials:"same-origin"});if(!d.ok){const p=await d.json().catch(()=>({message:"An error occurred"}));throw new Error(p.message||`HTTP error ${d.status}`)}return d.json()}async function te(e,t,n){const a=ee(),o=`${a.apiUrl}${e}`,c=await fetch(o,{method:"POST",headers:{"X-WP-Nonce":a.nonce},credentials:"same-origin",body:t,signal:n});if(!c.ok){const d=await c.json().catch(()=>({message:"Request failed"}));throw new Error(d.message||`HTTP error ${c.status}`)}return c.json()}function Pe(e,t={}){const n=new AbortController;return{promise:r(e,{...t,signal:n.signal}),abort:()=>n.abort()}}const ye={get:()=>r("/dashboard"),dismissWelcomeBanner:()=>r("/welcome-banner/dismiss",{method:"POST"})},De={list:()=>r("/projects"),get:e=>r(`/projects/${e}`),create:e=>r("/projects",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>r(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>r(`/projects/${e}`,{method:"DELETE"})},K={list:(e,t)=>{const n=new URLSearchParams;t!=null&&t.stage&&n.set("stage",t.stage),t!=null&&t.status&&n.set("status",t.status),t!=null&&t.task_type&&n.set("task_type",t.task_type);const a=n.toString();return r(`/projects/${e}/tasks${a?`?${a}`:""}`)},get:e=>r(`/tasks/${e}`),create:(e,t)=>r(`/projects/${e}/tasks`,{method:"POST",body:JSON.stringify(t)}),update:(e,t)=>r(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateStatus:(e,t)=>r(`/tasks/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),delete:e=>r(`/tasks/${e}`,{method:"DELETE"}),reorder:e=>r("/tasks/reorder",{method:"POST",body:JSON.stringify({order:e})})},Oe={list:(e,t)=>{const n=new URLSearchParams;t!=null&&t.limit&&n.set("limit",String(t.limit)),t!=null&&t.offset&&n.set("offset",String(t.offset)),t!=null&&t.grouped&&n.set("grouped","true");const a=n.toString();return r(`/projects/${e}/activity${a?`?${a}`:""}`)}},A={me:()=>r("/me"),updateProfile:e=>r("/me",{method:"PUT",body:JSON.stringify(e)}),getSettings:()=>r("/me/settings"),updateSettings:e=>r("/me/settings",{method:"PUT",body:JSON.stringify(e)}),deleteAccount:e=>r("/account/delete",{method:"POST",body:JSON.stringify({confirmation:e})})},U={list:(e,t)=>{const n=new URLSearchParams;t!=null&&t.category&&n.set("category",t.category),t!=null&&t.file_type&&n.set("file_type",t.file_type);const a=n.toString();return r(`/projects/${e}/files${a?`?${a}`:""}`)},get:e=>r(`/files/${e}`),upload:(e,t,n,a)=>{const o=new FormData;return o.append("file",t),n!=null&&n.category&&o.append("category",n.category),n!=null&&n.description&&o.append("description",n.description),te(`/projects/${e}/files`,o,a)},update:(e,t)=>r(`/files/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>r(`/files/${e}`,{method:"DELETE"}),download:e=>{const t=ee();return`${t.apiUrl}/files/${e}/download?_wpnonce=${t.nonce}`}},Q={list:(e,t)=>{const n=new URLSearchParams;t!=null&&t.task_id&&n.set("task_id",String(t.task_id)),t!=null&&t.pinned&&n.set("pinned","true");const a=n.toString();return r(`/projects/${e}/notes${a?`?${a}`:""}`)},get:e=>r(`/notes/${e}`),create:(e,t)=>r(`/projects/${e}/notes`,{method:"POST",body:JSON.stringify(t)}),update:(e,t)=>r(`/notes/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>r(`/notes/${e}`,{method:"DELETE"}),togglePin:e=>r(`/notes/${e}/pin`,{method:"PATCH"})},G={get:()=>r("/profile"),update:e=>r("/profile",{method:"PUT",body:JSON.stringify(e)}),getCompletion:()=>r("/profile/completion"),reset:e=>r("/profile/reset",{method:"POST",body:JSON.stringify({confirmation:e})})},D={list:e=>{const t=new URLSearchParams;e&&t.set("visa_type",e);const n=t.toString();return r(`/checklists${n?`?${n}`:""}`)},get:e=>r(`/checklists/${e}`),updateItem:(e,t,n)=>r(`/checklists/${e}/items/${t}`,{method:"PUT",body:JSON.stringify(n)}),getTaskChecklist:e=>r(`/tasks/${e}/checklist`),updateTaskChecklistItem:(e,t,n)=>r(`/tasks/${e}/checklist/${t}`,{method:"PUT",body:JSON.stringify({completed:n})}),addTaskChecklistItem:(e,t)=>r(`/tasks/${e}/checklist`,{method:"POST",body:JSON.stringify({title:t})}),deleteTaskChecklistItem:(e,t)=>r(`/tasks/${e}/checklist/${t}`,{method:"DELETE"})},Le={getAll:()=>r("/glossary")},he={verify:e=>r("/verify",{method:"POST",body:JSON.stringify(e)}),verifyFile:(e,t,n)=>{const a=new FormData;return a.append("file",t),a.append("verification_type",n),te(`/projects/${e}/verify`,a)},getHistory:e=>r(`/projects/${e}/verify/history`)},se={list:()=>r("/guides"),get:e=>r(`/guides/${e}`),getPersonalized:e=>r(`/guides/${e}/personalized`),generateAI:e=>r(`/guides/${e}/generate`,{method:"POST"})},ne={send:(e,t)=>r("/chat",{method:"POST",body:JSON.stringify(e),signal:t}),sendCancellable:e=>Pe("/chat",{method:"POST",body:JSON.stringify(e)}),getCategories:()=>r("/chat/categories"),searchTopics:(e,t)=>r(`/chat/search?q=${encodeURIComponent(e)}`,{signal:t})},_={getInfo:()=>r("/membership"),getSubscriptions:()=>r("/membership/subscriptions"),getPayments:()=>r("/membership/payments"),cancelSubscription:e=>r(`/membership/subscriptions/${e}/cancel`,{method:"POST"}),suspendSubscription:e=>r(`/membership/subscriptions/${e}/suspend`,{method:"POST"}),resumeSubscription:e=>r(`/membership/subscriptions/${e}/resume`,{method:"POST"}),getUpgradeOptions:()=>r("/membership/upgrade-options")},Ke={searchCommunes:(e,t)=>{const n=new URLSearchParams;return e.department&&n.set("department",e.department),e.q&&n.set("q",e.q),e.limit&&n.set("limit",String(e.limit)),r(`/research/communes/search?${n.toString()}`,{signal:t})},generateReport:e=>r("/research/report/generate",{method:"POST",body:JSON.stringify(e)}),saveReport:e=>r(`/research/report/${e}/save`,{method:"POST"}),getSavedReports:()=>r("/research/saved")},O={getTickets:()=>r("/support/tickets"),getTicket:e=>r(`/support/tickets/${e}`),createTicket:e=>r("/support/tickets",{method:"POST",body:JSON.stringify(e)}),replyToTicket:(e,t)=>r(`/support/tickets/${e}/reply`,{method:"POST",body:JSON.stringify(t)}),deleteTicket:e=>r(`/support/tickets/${e}`,{method:"DELETE"}),getUnreadCount:()=>r("/support/unread-count")},W={getFeatureStatus:()=>r("/family/feature-status"),getAll:()=>r("/family"),get:e=>r(`/family/${e}`),create:e=>r("/family",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>r(`/family/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>r(`/family/${e}`,{method:"DELETE"})},h={getTrips:()=>r("/schengen/trips"),getTrip:e=>r(`/schengen/trips/${e}`),createTrip:e=>r("/schengen/trips",{method:"POST",body:JSON.stringify({start_date:e.startDate,end_date:e.endDate,country:e.country,category:e.category,notes:e.notes})}),updateTrip:(e,t)=>r(`/schengen/trips/${e}`,{method:"PUT",body:JSON.stringify({...t.startDate!==void 0&&{start_date:t.startDate},...t.endDate!==void 0&&{end_date:t.endDate},...t.country!==void 0&&{country:t.country},...t.category!==void 0&&{category:t.category},...t.notes!==void 0&&{notes:t.notes}})}),deleteTrip:e=>r(`/schengen/trips/${e}`,{method:"DELETE"}),getSummary:()=>r("/schengen/summary"),getSettings:()=>r("/schengen/settings"),updateSettings:e=>r("/schengen/settings",{method:"PUT",body:JSON.stringify(e)}),getFeatureStatus:()=>r("/schengen/feature-status"),simulateTrip:e=>r("/schengen/simulate",{method:"POST",body:JSON.stringify({start_date:e.startDate,end_date:e.endDate})}),generateReport:()=>r("/schengen/report"),testAlert:()=>r("/schengen/test-alert",{method:"POST"}),storeLocation:e=>r("/schengen/location",{method:"POST",body:JSON.stringify(e)}),getLocationHistory:e=>r("/schengen/location/history",{method:"GET",...e&&{headers:{"X-Query-Params":JSON.stringify(e)}}}),getTodayStatus:()=>r("/schengen/location/today"),geocode:(e,t)=>r("/schengen/location/geocode",{method:"POST",body:JSON.stringify({lat:e,lng:t})}),deleteLocation:e=>r(`/schengen/location/${e}`,{method:"DELETE"}),clearLocationHistory:()=>r("/schengen/location/clear",{method:"POST"}),getLocationSettings:()=>r("/schengen/location/settings"),updateLocationSettings:e=>r("/schengen/location/settings",{method:"PUT",body:JSON.stringify({trackingEnabled:e.tracking_enabled,dailyReminder:e.daily_reminder,autoDetect:e.auto_detect})}),detectFromIP:()=>r("/schengen/location/detect"),getCalendarProviders:()=>r("/schengen/calendar/providers"),getCalendarConnections:()=>r("/schengen/calendar/connections"),connectCalendar:e=>r("/schengen/calendar/connect",{method:"POST",body:JSON.stringify({provider:e})}),disconnectCalendar:e=>r(`/schengen/calendar/connections/${e}`,{method:"DELETE"}),syncCalendar:e=>r(`/schengen/calendar/connections/${e}/sync`,{method:"POST"}),getCalendarEvents:e=>r(`/schengen/calendar/events${e?`?status=${e}`:""}`),importCalendarEvents:e=>r("/schengen/calendar/events/import",{method:"POST",body:JSON.stringify({event_ids:e})}),skipCalendarEvents:e=>r("/schengen/calendar/events/skip",{method:"POST",body:JSON.stringify({event_ids:e})}),importICalFile:e=>{const t=new FormData;return t.append("file",e),te("/schengen/calendar/import-ical",t)},importTripsCSV:(e,t=!0)=>r("/schengen/trips/import",{method:"POST",body:JSON.stringify({csv:e,skip_duplicates:t})}),exportTripsCSV:()=>r("/schengen/trips/export"),getSuggestions:()=>r("/schengen/suggestions"),getSchengenFamilyMembers:()=>r("/schengen/family"),getSchengenFamilyMember:e=>r(`/schengen/family/${e}`),createSchengenFamilyMember:e=>r("/schengen/family",{method:"POST",body:JSON.stringify(e)}),updateSchengenFamilyMember:(e,t)=>r(`/schengen/family/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSchengenFamilyMember:e=>r(`/schengen/family/${e}`,{method:"DELETE"}),getSchengenFamilySummary:()=>r("/schengen/family/summary"),getJurisdictions:e=>r(e?`/schengen/jurisdictions?type=${e}`:"/schengen/jurisdictions"),getJurisdiction:e=>r(`/schengen/jurisdictions/${e}`),getTrackedJurisdictions:()=>r("/schengen/jurisdictions/tracked"),addTrackedJurisdiction:e=>r("/schengen/jurisdictions/tracked",{method:"POST",body:JSON.stringify({code:e})}),removeTrackedJurisdiction:e=>r(`/schengen/jurisdictions/tracked/${e}`,{method:"DELETE"}),getJurisdictionSummary:(e,t)=>r(t?`/schengen/jurisdictions/${e}/summary?date=${t}`:`/schengen/jurisdictions/${e}/summary`),getMultiJurisdictionSummary:()=>r("/schengen/jurisdictions/summary"),getNotifications:(e=!1)=>r(e?"/schengen/notifications?unread_only=true":"/schengen/notifications"),getNotificationUnreadCount:()=>r("/schengen/notifications/unread-count"),markNotificationRead:e=>r(`/schengen/notifications/${e}/read`,{method:"POST"}),markAllNotificationsRead:()=>r("/schengen/notifications/read-all",{method:"POST"}),deleteNotification:e=>r(`/schengen/notifications/${e}`,{method:"DELETE"}),getPushStatus:()=>r("/schengen/push/status"),subscribePush:e=>r("/schengen/push/subscribe",{method:"POST",body:JSON.stringify(e)}),unsubscribePush:e=>r("/schengen/push/unsubscribe",{method:"POST",body:JSON.stringify({endpoint:e})}),getVapidKey:()=>r("/schengen/push/vapid-key"),getNotificationPreferences:()=>r("/schengen/notifications/preferences"),updateNotificationPreferences:e=>r("/schengen/notifications/preferences",{method:"PUT",body:JSON.stringify(e)}),sendTestNotification:()=>r("/schengen/notifications/test",{method:"POST"}),getAnalytics:()=>r("/schengen/analytics")},i={dashboard:["dashboard"],projects:["projects"],project:e=>["project",e],tasks:(e,t)=>["tasks",e,t],task:e=>["task",e],taskChecklist:e=>["taskChecklist",e],activity:e=>["activity",e],user:["user"],userSettings:["userSettings"],files:(e,t)=>["files",e,t],file:e=>["file",e],notes:(e,t)=>["notes",e,t],note:e=>["note",e],profile:["profile"],profileCompletion:["profileCompletion"],checklists:e=>["checklists",e],checklist:e=>["checklist",e],documentTypes:["documentTypes"],generatedDocuments:e=>["generatedDocuments",e],glossary:["glossary"],glossarySearch:e=>["glossary","search",e],verificationHistory:e=>["verificationHistory",e],guides:["guides"],chatSearch:e=>["chatSearch",e],guide:e=>["guide",e],personalizedGuide:e=>["personalizedGuide",e],chatCategories:["chatCategories"],membership:["membership"],subscriptions:["subscriptions"],payments:["payments"],upgradeOptions:["upgradeOptions"],supportTickets:["supportTickets"],supportTicket:e=>["supportTicket",e],supportUnreadCount:["supportUnreadCount"],savedReports:["savedReports"],familyMembers:["familyMembers"],familyMember:e=>["familyMember",e],familyFeatureStatus:["familyFeatureStatus"],schengenTrips:["schengenTrips"],schengenTrip:e=>["schengenTrip",e],schengenSummary:["schengenSummary"],schengenSettings:["schengenSettings"],schengenFeatureStatus:["schengenFeatureStatus"],schengenLocationHistory:["schengenLocationHistory"],schengenLocationToday:["schengenLocationToday"],schengenLocationSettings:["schengenLocationSettings"]};function pe(){return y({queryKey:i.dashboard,queryFn:ye.get,staleTime:x.DEFAULT})}function Ae(){const e=u();return l({mutationFn:ye.dismissWelcomeBanner,onSuccess:()=>{e.setQueryData(i.dashboard,t=>t&&{...t,welcome_banner:null})}})}function ge(){return y({queryKey:i.user,queryFn:A.me,staleTime:x.MEDIUM})}function ls(){const e=u();return l({mutationFn:t=>A.updateProfile(t),onSuccess:t=>{e.setQueryData(i.user,t)}})}function Ue(){return y({queryKey:i.userSettings,queryFn:A.getSettings,staleTime:x.MEDIUM})}function us(){const e=u();return l({mutationFn:t=>A.updateSettings(t),onMutate:async t=>{await e.cancelQueries({queryKey:i.userSettings});const n=e.getQueryData(i.userSettings);return n&&e.setQueryData(i.userSettings,{...n,...t}),{previousSettings:n}},onError:(t,n,a)=>{a!=null&&a.previousSettings&&e.setQueryData(i.userSettings,a.previousSettings)},onSuccess:t=>{e.setQueryData(i.userSettings,t)}})}function ds(){return l({mutationFn:e=>A.deleteAccount(e)})}function ms(){const e=u();return l({mutationFn:t=>G.reset(t),onSuccess:()=>{e.invalidateQueries()}})}function Qe(){const e=u();return l({mutationFn:({id:t,data:n})=>De.update(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:i.dashboard}),e.invalidateQueries({queryKey:i.projects}),e.setQueryData(i.project(t.id),t)}})}function ys(e,t){return y({queryKey:i.tasks(e,t),queryFn:()=>K.list(e,t),enabled:e>0,staleTime:x.DEFAULT})}function hs(e){const t=u();return l({mutationFn:n=>K.create(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:i.tasks(e)}),t.invalidateQueries({queryKey:i.dashboard})}})}function ps(){const e=u();return l({mutationFn:({id:t,data:n})=>K.update(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:i.tasks(t.project_id)}),e.invalidateQueries({queryKey:i.dashboard}),e.setQueryData(i.task(t.id),t)}})}function gs(){const e=u();return l({mutationFn:({id:t,status:n})=>K.updateStatus(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:i.tasks(t.project_id)}),e.invalidateQueries({queryKey:i.dashboard}),e.setQueryData(i.task(t.id),t)}})}function fs(){const e=u();return l({mutationFn:({id:t,projectId:n})=>K.delete(t).then(a=>({...a,projectId:n})),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:i.tasks(n.projectId)}),e.invalidateQueries({queryKey:i.dashboard})}})}function xs(e,t){return y({queryKey:i.activity(e),queryFn:()=>Oe.list(e,t),enabled:e>0,staleTime:x.DYNAMIC})}function bs(e,t){return y({queryKey:i.files(e,t),queryFn:()=>U.list(e,t),enabled:e>0,staleTime:x.DEFAULT})}function vs(e){const t=u();return l({mutationFn:({file:n,data:a})=>U.upload(e,n,a),onSuccess:()=>{t.invalidateQueries({queryKey:i.files(e)}),t.invalidateQueries({queryKey:i.dashboard})}})}function ks(){const e=u();return l({mutationFn:({id:t,data:n})=>U.update(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:i.files(t.project_id)}),e.setQueryData(i.file(t.id),t)}})}function Ss(){const e=u();return l({mutationFn:({id:t,projectId:n})=>U.delete(t).then(a=>({...a,projectId:n})),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:i.files(n.projectId)}),e.invalidateQueries({queryKey:i.dashboard})}})}function js(){return{download:e=>{const t=U.download(e);window.open(t,"_blank")}}}function ws(e,t){return y({queryKey:i.notes(e,t),queryFn:()=>Q.list(e,t),enabled:e>0,staleTime:x.DEFAULT})}function Ns(e){const t=u();return l({mutationFn:n=>Q.create(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:i.notes(e)}),t.invalidateQueries({queryKey:i.activity(e)})}})}function Ts(){const e=u();return l({mutationFn:({id:t,data:n})=>Q.update(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:i.notes(t.project_id)}),e.setQueryData(i.note(t.id),t)}})}function Cs(){const e=u();return l({mutationFn:({id:t,projectId:n})=>Q.delete(t).then(a=>({...a,projectId:n})),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:i.notes(n.projectId)})}})}function qs(){const e=u();return l({mutationFn:t=>Q.togglePin(t),onSuccess:t=>{e.invalidateQueries({queryKey:i.notes(t.project_id)}),e.setQueryData(i.note(t.id),t)}})}function Es(){return y({queryKey:i.profile,queryFn:G.get,staleTime:x.MEDIUM})}function Fs(){const e=u();return l({mutationFn:t=>G.update(t),onMutate:async t=>{await e.cancelQueries({queryKey:i.profile});const n=e.getQueryData(i.profile);return n&&e.setQueryData(i.profile,{...n,...t}),{previousProfile:n}},onError:(t,n,a)=>{a!=null&&a.previousProfile&&e.setQueryData(i.profile,a.previousProfile)},onSuccess:t=>{e.setQueryData(i.profile,t),e.invalidateQueries({queryKey:i.profileCompletion})}})}function _s(){return y({queryKey:i.profileCompletion,queryFn:G.getCompletion,staleTime:x.SHORT})}function Ms(e){return y({queryKey:i.checklists(e),queryFn:()=>D.list(e),staleTime:x.SHORT})}function Ps(){const e=u();return l({mutationFn:({checklistType:t,itemId:n,data:a})=>D.updateItem(t,n,a),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:i.checklist(n.checklistType)}),e.invalidateQueries({queryKey:i.checklists()})}})}function Ds(e){return y({queryKey:i.taskChecklist(e),queryFn:()=>D.getTaskChecklist(e),enabled:e>0,staleTime:x.DEFAULT})}function Os(e){const t=u();return l({mutationFn:({itemId:n,completed:a})=>D.updateTaskChecklistItem(e,n,a),onSuccess:()=>{t.invalidateQueries({queryKey:i.taskChecklist(e)})}})}function Ls(e){const t=u();return l({mutationFn:n=>D.addTaskChecklistItem(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:i.taskChecklist(e)})}})}function Ks(e){const t=u();return l({mutationFn:n=>D.deleteTaskChecklistItem(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:i.taskChecklist(e)})}})}function As(){return y({queryKey:i.glossary,queryFn:Le.getAll,staleTime:x.LONG})}function Us(e){const t=u();return l({mutationFn:({file:n,verificationType:a})=>he.verifyFile(e,n,a),onSuccess:()=>{t.invalidateQueries({queryKey:i.verificationHistory(e)})}})}function Qs(e){return y({queryKey:i.verificationHistory(e),queryFn:()=>he.getHistory(e),enabled:e>0,staleTime:x.SHORT})}function Rs(){return y({queryKey:i.guides,queryFn:se.list,staleTime:x.MEDIUM})}function $s(e){return y({queryKey:i.personalizedGuide(e),queryFn:()=>se.getPersonalized(e),enabled:!!e,staleTime:x.MEDIUM})}function Is(){const e=u();return l({mutationFn:t=>se.generateAI(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:i.personalizedGuide(n)})}})}function Hs(){return y({queryKey:i.chatCategories,queryFn:ne.getCategories,staleTime:x.LONG})}function Js(){return l({mutationFn:e=>ne.send(e)})}function Vs(e){return y({queryKey:i.chatSearch(e),queryFn:()=>ne.searchTopics(e),enabled:e.length>=Me.MIN_QUERY_LENGTH,staleTime:x.DEFAULT})}function zs(){return y({queryKey:i.membership,queryFn:_.getInfo,staleTime:x.MEDIUM})}function Gs(){return y({queryKey:i.subscriptions,queryFn:_.getSubscriptions,staleTime:x.MEDIUM})}function Ws(){return y({queryKey:i.payments,queryFn:_.getPayments,staleTime:x.MEDIUM})}function Bs(){const e=u();return l({mutationFn:t=>_.cancelSubscription(t),onSuccess:()=>{e.invalidateQueries({queryKey:i.subscriptions}),e.invalidateQueries({queryKey:i.membership})}})}function Ys(){const e=u();return l({mutationFn:t=>_.suspendSubscription(t),onSuccess:()=>{e.invalidateQueries({queryKey:i.subscriptions}),e.invalidateQueries({queryKey:i.membership})}})}function Zs(){const e=u();return l({mutationFn:t=>_.resumeSubscription(t),onSuccess:()=>{e.invalidateQueries({queryKey:i.subscriptions}),e.invalidateQueries({queryKey:i.membership})}})}function Xs(){return y({queryKey:i.upgradeOptions,queryFn:_.getUpgradeOptions,staleTime:x.LONG})}function en(){return y({queryKey:i.supportTickets,queryFn:O.getTickets,staleTime:x.DEFAULT})}function tn(e){return y({queryKey:i.supportTicket(e||0),queryFn:()=>{if(!e)throw new Error("ticketId is required");return O.getTicket(e)},enabled:!!e,staleTime:x.DYNAMIC})}function sn(){return y({queryKey:i.supportUnreadCount,queryFn:O.getUnreadCount,staleTime:x.DEFAULT,refetchInterval:X.SUPPORT_UNREAD})}function nn(){const e=u();return l({mutationFn:O.createTicket,onSuccess:()=>{e.invalidateQueries({queryKey:i.supportTickets}),e.invalidateQueries({queryKey:i.supportUnreadCount})}})}function rn(){const e=u();return l({mutationFn:({ticketId:t,content:n})=>O.replyToTicket(t,{content:n}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:i.supportTickets}),e.invalidateQueries({queryKey:i.supportTicket(n.ticketId)})}})}function an(){const e=u();return l({mutationFn:O.deleteTicket,onSuccess:()=>{e.invalidateQueries({queryKey:i.supportTickets}),e.invalidateQueries({queryKey:i.supportUnreadCount})}})}function on(){return y({queryKey:i.savedReports,queryFn:Ke.getSavedReports,staleTime:x.SHORT})}function cn(){return y({queryKey:i.familyMembers,queryFn:W.getAll,staleTime:x.DEFAULT})}function ln(){const e=u();return l({mutationFn:W.create,onSuccess:()=>{e.invalidateQueries({queryKey:i.familyMembers})}})}function un(){const e=u();return l({mutationFn:({memberId:t,data:n})=>W.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:i.familyMembers})}})}function dn(){const e=u();return l({mutationFn:W.delete,onSuccess:()=>{e.invalidateQueries({queryKey:i.familyMembers})}})}function mn(){return y({queryKey:i.schengenTrips,queryFn:h.getTrips,staleTime:x.DEFAULT})}function yn(){return y({queryKey:i.schengenSettings,queryFn:h.getSettings,staleTime:x.MEDIUM})}function hn(){const e=u();return l({mutationFn:h.createTrip,onSuccess:()=>{e.invalidateQueries({queryKey:i.schengenTrips}),e.invalidateQueries({queryKey:i.schengenSummary})}})}function pn(){const e=u();return l({mutationFn:({id:t,data:n})=>h.updateTrip(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:i.schengenTrips}),e.invalidateQueries({queryKey:i.schengenSummary})}})}function gn(){const e=u();return l({mutationFn:h.deleteTrip,onSuccess:()=>{e.invalidateQueries({queryKey:i.schengenTrips}),e.invalidateQueries({queryKey:i.schengenSummary})}})}function fn(){const e=u();return l({mutationFn:t=>h.updateSettings(t),onSuccess:t=>{e.setQueryData(i.schengenSettings,t),e.invalidateQueries({queryKey:i.schengenSummary})}})}function xn(){return y({queryKey:i.schengenFeatureStatus,queryFn:h.getFeatureStatus,staleTime:x.MEDIUM})}function bn(){return l({mutationFn:h.simulateTrip})}function vn(){return l({mutationFn:h.generateReport})}function kn(){return l({mutationFn:h.testAlert})}function Sn(e){return y({queryKey:i.schengenLocationHistory,queryFn:()=>h.getLocationHistory(e),staleTime:x.DEFAULT})}function jn(){return y({queryKey:i.schengenLocationToday,queryFn:h.getTodayStatus,staleTime:x.DEFAULT})}function wn(){const e=u();return l({mutationFn:h.storeLocation,onSuccess:()=>{e.invalidateQueries({queryKey:i.schengenLocationHistory}),e.invalidateQueries({queryKey:i.schengenLocationToday})}})}function Nn(){const e=u();return l({mutationFn:h.deleteLocation,onSuccess:()=>{e.invalidateQueries({queryKey:i.schengenLocationHistory}),e.invalidateQueries({queryKey:i.schengenLocationToday})}})}function Tn(){const e=u();return l({mutationFn:h.clearLocationHistory,onSuccess:()=>{e.invalidateQueries({queryKey:i.schengenLocationHistory}),e.invalidateQueries({queryKey:i.schengenLocationToday})}})}function Cn(){return y({queryKey:["schengenIPDetection"],queryFn:h.detectFromIP,staleTime:x.MEDIUM,retry:1})}function qn(){return y({queryKey:["calendarProviders"],queryFn:h.getCalendarProviders,staleTime:x.LONG,throwOnError:!1})}function En(){return y({queryKey:["calendarConnections"],queryFn:h.getCalendarConnections,staleTime:x.DEFAULT,throwOnError:!1})}function Fn(){return l({mutationFn:h.connectCalendar,onSuccess:e=>{e.authUrl&&(window.location.href=e.authUrl)}})}function _n(){const e=u();return l({mutationFn:h.disconnectCalendar,onSuccess:()=>{e.invalidateQueries({queryKey:["calendarConnections"]}),e.invalidateQueries({queryKey:["calendarEvents"]})}})}function Mn(){const e=u();return l({mutationFn:h.syncCalendar,onSuccess:()=>{e.invalidateQueries({queryKey:["calendarConnections"]}),e.invalidateQueries({queryKey:["calendarEvents"]})}})}function Pn(e){return y({queryKey:["calendarEvents",e],queryFn:()=>h.getCalendarEvents(e),staleTime:x.DEFAULT,throwOnError:!1})}function Dn(){const e=u();return l({mutationFn:h.importCalendarEvents,onSuccess:()=>{e.invalidateQueries({queryKey:["calendarEvents"]}),e.invalidateQueries({queryKey:i.schengenTrips}),e.invalidateQueries({queryKey:i.schengenSummary})}})}function On(){const e=u();return l({mutationFn:h.skipCalendarEvents,onSuccess:()=>{e.invalidateQueries({queryKey:["calendarEvents"]})}})}function Ln(){const e=u();return l({mutationFn:h.importICalFile,onSuccess:()=>{e.invalidateQueries({queryKey:["calendarEvents"]})}})}function Kn(e){return y({queryKey:["jurisdictions",e],queryFn:()=>h.getJurisdictions(e),staleTime:x.LONG,throwOnError:!1})}function An(){return y({queryKey:["trackedJurisdictions"],queryFn:h.getTrackedJurisdictions,staleTime:x.DEFAULT,throwOnError:!1})}function Un(){const e=u();return l({mutationFn:h.addTrackedJurisdiction,onSuccess:()=>{e.invalidateQueries({queryKey:["trackedJurisdictions"]}),e.invalidateQueries({queryKey:["multiJurisdictionSummary"]})}})}function Qn(){const e=u();return l({mutationFn:h.removeTrackedJurisdiction,onSuccess:()=>{e.invalidateQueries({queryKey:["trackedJurisdictions"]}),e.invalidateQueries({queryKey:["multiJurisdictionSummary"]})}})}function Rn(){return y({queryKey:["multiJurisdictionSummary"],queryFn:h.getMultiJurisdictionSummary,staleTime:x.DEFAULT,throwOnError:!1})}function $n(e=!1){return y({queryKey:["notifications",e],queryFn:()=>h.getNotifications(e),staleTime:x.DYNAMIC,throwOnError:!1,refetchInterval:X.SUPPORT_UNREAD})}function In(){return y({queryKey:["notificationUnreadCount"],queryFn:h.getNotificationUnreadCount,staleTime:x.DYNAMIC,refetchInterval:X.SUPPORT_UNREAD})}function Hn(){const e=u();return l({mutationFn:h.markNotificationRead,onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["notificationUnreadCount"]})}})}function Jn(){const e=u();return l({mutationFn:h.markAllNotificationsRead,onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["notificationUnreadCount"]})}})}function Vn(){const e=u();return l({mutationFn:h.deleteNotification,onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["notificationUnreadCount"]})}})}function zn(){const e=u();return l({mutationFn:({csv:t,skipDuplicates:n=!0})=>h.importTripsCSV(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["schengenTrips"]}),e.invalidateQueries({queryKey:["schengenSummary"]})}})}function Gn(){return l({mutationFn:h.exportTripsCSV})}function Wn(){return y({queryKey:["schengenSuggestions"],queryFn:h.getSuggestions,staleTime:5*60*1e3,refetchOnWindowFocus:!1})}function Bn(){return y({queryKey:["schengenFamilyMembers"],queryFn:h.getSchengenFamilyMembers,staleTime:30*1e3})}function Yn(){return y({queryKey:["schengenFamilySummary"],queryFn:h.getSchengenFamilySummary,staleTime:30*1e3})}function Zn(){const e=u();return l({mutationFn:h.createSchengenFamilyMember,onSuccess:()=>{e.invalidateQueries({queryKey:["schengenFamilyMembers"]}),e.invalidateQueries({queryKey:["schengenFamilySummary"]})}})}function Xn(){const e=u();return l({mutationFn:({id:t,data:n})=>h.updateSchengenFamilyMember(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["schengenFamilyMembers"]}),e.invalidateQueries({queryKey:["schengenFamilySummary"]})}})}function er(){const e=u();return l({mutationFn:h.deleteSchengenFamilyMember,onSuccess:()=>{e.invalidateQueries({queryKey:["schengenFamilyMembers"]}),e.invalidateQueries({queryKey:["schengenFamilySummary"]}),e.invalidateQueries({queryKey:["schengenTrips"]})}})}function tr(){return y({queryKey:["schengenAnalytics"],queryFn:h.getAnalytics,staleTime:5*60*1e3,refetchOnWindowFocus:!1})}const Re={colors:{primary:"#22c55e",secondary:"#3b82f6",accent:"#f59e0b",sidebarBg:"#1f2937",sidebarText:"#ffffff",headerBg:"#ffffff"},layout:{showWpHeader:!1,showWpFooter:!1,showPromoBanner:!1,sidebarPosition:"left",sidebarCollapsed:!1},branding:{title:"Members Portal",logoUrl:""},features:{notifications:!0,fileUpload:!0},menu:[{id:"dashboard",label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{id:"tasks",label:"Tasks",icon:"CheckSquare",path:"/tasks"},{id:"checklists",label:"Checklists",icon:"ClipboardList",path:"/checklists"},{id:"timeline",label:"Timeline",icon:"Calendar",path:"/timeline"},{id:"messages",label:"Messages",icon:"MessageSquare",path:"/messages"},{id:"research",label:"Explore France",icon:"MapPin",path:"/research"},{id:"chat",label:"Ask AI",icon:"Bot",path:"/chat"},{id:"documents",label:"Documents",icon:"FileText",path:"/documents"},{id:"guides",label:"Guides",icon:"BookOpen",path:"/guides"},{id:"glossary",label:"Glossary",icon:"BookMarked",path:"/glossary"},{id:"schengen",label:"Schengen Tracker",icon:"Globe",path:"/schengen"},{id:"files",label:"Files",icon:"FolderOpen",path:"/files"},{id:"profile",label:"My Profile",icon:"User",path:"/profile"},{id:"family",label:"Family Members",icon:"Users",path:"/family"},{id:"membership",label:"Membership",icon:"CreditCard",path:"/membership"},{id:"settings",label:"Settings",icon:"Settings",path:"/settings"},{id:"help",label:"Help",icon:"HelpCircle",path:"/help"}],customCss:""},$e=()=>typeof window<"u"&&window.PORTAL_SETTINGS?window.PORTAL_SETTINGS:Re,Ie=()=>{if(typeof window<"u"){const t=new URLSearchParams(window.location.search).get("view");if(t)return t}return"dashboard"},R=qe((e,t)=>{const n=$e();return{user:null,setUser:a=>e({user:a}),currentProject:null,setCurrentProject:a=>e({currentProject:a}),settings:n,updateSettings:a=>e(o=>({settings:{...o.settings,...a}})),sidebarCollapsed:n.layout.sidebarCollapsed,toggleSidebar:()=>e(a=>({sidebarCollapsed:!a.sidebarCollapsed})),setSidebarCollapsed:a=>e({sidebarCollapsed:a}),activeView:Ie(),setActiveView:a=>e({activeView:a}),settingsTab:null,setSettingsTab:a=>e({settingsTab:a}),taskFilters:{stage:null,status:null,taskType:null},setTaskFilters:a=>e(o=>({taskFilters:{...o.taskFilters,...a}})),resetTaskFilters:()=>e({taskFilters:{stage:null,status:null,taskType:null}}),activeModal:null,modalData:null,openModal:(a,o=null)=>e({activeModal:a,modalData:o}),closeModal:()=>e({activeModal:null,modalData:null}),getMenuItems:()=>t().settings.menu,isMenuItemVisible:a=>t().settings.menu.some(o=>o.id===a)}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var He={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),b=(e,t)=>{const n=m.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:p="",children:v,...f},g)=>m.createElement("svg",{ref:g,...He,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:["lucide",`lucide-${Je(e)}`,p].join(" "),...f},[...t.map(([S,j])=>m.createElement(S,j)),...Array.isArray(v)?v:[v]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=b("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=b("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=b("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=b("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=b("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=b("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=b("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=b("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=b("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=b("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=b("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=b("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=b("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=b("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=b("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=b("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=b("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=b("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=b("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=b("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=b("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=b("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=b("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=b("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=b("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=b("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=b("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=b("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=b("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=b("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=b("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=b("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=b("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=b("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=b("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=b("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=b("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=b("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=b("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=b("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class bt extends m.Component{constructor(n){super(n);B(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});B(this,"handleGoHome",()=>{this.setState({hasError:!1,error:null}),window.location.hash="#dashboard",window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("ErrorBoundary caught an error:",n,a),this.props.onError&&this.props.onError(n,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx(vt,{error:this.state.error,onRetry:this.handleRetry,onGoHome:this.handleGoHome}):this.props.children}}function vt({error:e,onRetry:t,onGoHome:n}){return s.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",role:"alert","aria-live":"assertive",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(M,{className:"w-8 h-8 text-red-600","aria-hidden":"true"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try again or return to the dashboard."}),e&&!1,s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsxs("button",{onClick:t,className:"btn btn-primary flex items-center gap-2",children:[s.jsx(be,{className:"w-4 h-4","aria-hidden":"true"}),"Try Again"]}),s.jsxs("button",{onClick:n,className:"btn btn-secondary flex items-center gap-2",children:[s.jsx(ot,{className:"w-4 h-4","aria-hidden":"true"}),"Go to Dashboard"]})]})]})})}function kt(){const[e,t]=m.useState(null),[n,a]=m.useState(!1),[o,c]=m.useState(!navigator.onLine),[d,p]=m.useState(!1),[v,f]=m.useState(!0),[g,S]=m.useState(null);m.useEffect(()=>{const k=()=>{const ve=window.matchMedia("(display-mode: standalone)").matches,ke=navigator.standalone===!0;a(ve||ke)};k();const C=window.matchMedia("(display-mode: standalone)"),E=()=>k();return C.addEventListener("change",E),()=>C.removeEventListener("change",E)},[]),m.useEffect(()=>{const k=()=>c(!1),C=()=>c(!0);return window.addEventListener("online",k),window.addEventListener("offline",C),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",C)}},[]),m.useEffect(()=>{const k=C=>{C.preventDefault(),t(C)};return window.addEventListener("beforeinstallprompt",k),()=>window.removeEventListener("beforeinstallprompt",k)},[]),m.useEffect(()=>{const k=()=>{t(null),a(!0)};return window.addEventListener("appinstalled",k),()=>window.removeEventListener("appinstalled",k)},[]),m.useEffect(()=>{"serviceWorker"in navigator?j():f(!1)},[]);const j=async()=>{try{const C=await navigator.serviceWorker.register("/wp-content/plugins/france-relocation-member-tools/assets/portal/service-worker.js",{scope:"/member-portal/"});S(C),C.addEventListener("updatefound",()=>{const E=C.installing;E&&E.addEventListener("statechange",()=>{E.state==="installed"&&navigator.serviceWorker.controller&&p(!0)})}),C.waiting&&p(!0),f(!1)}catch(k){console.error("Service worker registration failed:",k),f(!1)}},w=m.useCallback(async()=>{if(!e)return!1;try{e.prompt();const{outcome:k}=await e.userChoice;return t(null),k==="accepted"}catch(k){return console.error("Install prompt failed:",k),!1}},[e]),T=m.useCallback(()=>{g!=null&&g.waiting&&(g.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())},[g]),F=m.useCallback(()=>{p(!1)},[]);return{isInstallable:!!e&&!n,isInstalled:n,isOffline:o,hasUpdate:d,isLoading:v,promptInstall:w,updateApp:T,dismissUpdate:F}}function St({className:e}){const{isInstallable:t,isInstalled:n,isOffline:a,hasUpdate:o,promptInstall:c,updateApp:d,dismissUpdate:p}=kt(),[v,f]=m.useState(!1),[g,S]=m.useState(!1);m.useEffect(()=>{if(t&&!g){const T=setTimeout(()=>{f(!0)},3e4);return()=>clearTimeout(T)}},[t,g]),m.useEffect(()=>{const T=localStorage.getItem("pwa-install-dismissed");if(T){const F=new Date(parseInt(T,10));(Date.now()-F.getTime())/(1e3*60*60*24)<7&&S(!0)}},[]);const j=async()=>{await c()&&f(!1)},w=()=>{f(!1),S(!0),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return a?s.jsxs("div",{className:N("fixed bottom-0 left-0 right-0 z-50 bg-yellow-500 text-white px-4 py-2 flex items-center justify-center gap-2 text-sm",e),children:[s.jsx(xt,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"You're offline. Some features may be unavailable."})]}):o?s.jsx("div",{className:N("fixed bottom-0 left-0 right-0 z-50 bg-primary-600 text-white px-4 py-3",e),children:s.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(be,{className:"w-5 h-5","aria-hidden":"true"}),s.jsx("p",{className:"text-sm font-medium",children:"A new version is available!"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:p,className:"px-3 py-1 text-sm text-white/80 hover:text-white",children:"Later"}),s.jsx("button",{onClick:d,className:"px-4 py-1 bg-white text-primary-600 rounded-lg text-sm font-medium hover:bg-gray-100",children:"Update Now"})]})]})}):v&&t&&!n?s.jsx("div",{className:N("fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden",e),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:s.jsx(yt,{className:"w-6 h-6 text-primary-600","aria-hidden":"true"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Install Relo2France"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Install our app for quick access, offline support, and push notifications."})]}),s.jsx("button",{onClick:w,className:"p-1 text-gray-400 hover:text-gray-600","aria-label":"Dismiss",children:s.jsx($,{className:"w-5 h-5","aria-hidden":"true"})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[s.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Not now"}),s.jsxs("button",{onClick:j,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 flex items-center justify-center gap-2",children:[s.jsx(nt,{className:"w-4 h-4","aria-hidden":"true"}),"Install"]})]})]})}):null}const jt={LayoutDashboard:xe,CheckSquare:Ye,FileText:re,MessageSquare:z,Users:ft,Settings:mt,HelpCircle:it,FolderOpen:ce,FolderKanban:ce,BookOpen:We,Calendar:V,ClipboardList:tt,BookMarked:Ge,Bot:Be,User:L,CreditCard:st,MapPin:lt,Headphones:at,Globe:rt},I={project:["dashboard","tasks","checklists","timeline","messages"],resources:["research","chat","documents","guides","glossary","schengen","files"],account:["profile","family","membership","support","settings","help"]},wt=e=>e?{project:[...e.project,...I.project.filter(t=>!e.project.includes(t))],resources:[...e.resources,...I.resources.filter(t=>!e.resources.includes(t))],account:[...e.account,...I.account.filter(t=>!e.account.includes(t))]}:I,Nt=(e,t)=>{const n=wt(t),a=[{id:"project",label:"PROJECT",itemIds:n.project},{id:"resources",label:"RESOURCES",itemIds:n.resources},{id:"account",label:"ACCOUNT",itemIds:n.account}],o=e.reduce((c,d)=>(c[d.id]=d,c),{});return a.map(c=>({...c,items:c.itemIds.map(d=>o[d]).filter(d=>d!==void 0)})).filter(c=>c.items.length>0)};function Tt(){const{sidebarCollapsed:e,toggleSidebar:t,activeView:n,setActiveView:a,settings:o}=R(),{data:c}=Ue(),d=o.menu,p=Nt(d,c==null?void 0:c.menu_order),v={"--sidebar-bg":o.colors.sidebarBg,"--sidebar-text":o.colors.sidebarText};return s.jsxs("aside",{className:N("sidebar flex flex-col",e?"sidebar-collapsed":"sidebar-expanded"),style:v,children:[s.jsxs("div",{className:"flex items-center h-16 px-4 border-b border-gray-700/50",children:[!e&&s.jsxs("div",{className:"flex items-center gap-3",children:[o.branding.logoUrl?s.jsx("img",{src:o.branding.logoUrl,alt:o.branding.title,className:"h-8 w-auto"}):s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:o.colors.primary},children:s.jsx("span",{className:"text-white font-bold text-sm",children:"R2F"})}),s.jsx("span",{className:"font-semibold text-sidebar-textActive",children:o.branding.title})]}),e&&s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{backgroundColor:o.colors.primary},children:s.jsx("span",{className:"text-white font-bold text-sm",children:"R"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4 scrollbar-thin",children:p.map(f=>s.jsxs("div",{className:"mb-6",children:[!e&&s.jsx("h3",{className:"px-4 mb-2 text-xs font-semibold text-sidebar-text/60 uppercase tracking-wider",children:f.label}),s.jsx("ul",{className:"space-y-1 px-2",children:f.items.map(g=>{const S=jt[g.icon]||xe,j=n===g.id,w=()=>{g.id==="dashboard"?window.location.reload():a(g.id)};return s.jsx("li",{children:s.jsxs("button",{onClick:w,className:N("nav-item w-full",j&&"nav-item-active",e&&"justify-center px-2"),title:e?g.label:void 0,children:[s.jsx(S,{className:"w-5 h-5 flex-shrink-0"}),!e&&s.jsx("span",{children:g.label})]})},g.id)})})]},f.id))}),s.jsx("button",{onClick:t,className:"flex items-center justify-center h-12 border-t border-gray-700/50 text-sidebar-text hover:text-sidebar-textActive transition-colors",title:e?"Expand sidebar":"Collapse sidebar",children:e?s.jsx(et,{className:"w-5 h-5"}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"w-5 h-5"}),s.jsx("span",{className:"ml-2 text-sm",children:"Collapse"})]})})]})}const Ct={dashboard:"Dashboard",tasks:"Tasks",timeline:"Timeline",messages:"Messages",documents:"Documents",guides:"Guides",files:"Files",family:"Family Members",settings:"Settings",help:"Help & Support",profile:"My Profile",checklists:"Checklists",glossary:"Glossary",chat:"Ask AI",membership:"Membership"};function qt(){var f,g;const{activeView:e}=R(),{data:t}=ge(),{data:n}=pe(),[a,o]=m.useState(!1),c=m.useRef(null),d=Ct[e]||"Dashboard";m.useEffect(()=>{const S=j=>{c.current&&!c.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const p=[];(f=n==null?void 0:n.task_stats)!=null&&f.overdue&&n.task_stats.overdue>0&&p.push({id:"overdue",type:"warning",title:`${n.task_stats.overdue} Overdue Task${n.task_stats.overdue>1?"s":""}`,message:"You have tasks that need immediate attention",time:"Now"}),n!=null&&n.upcoming_tasks&&n.upcoming_tasks.length>0&&p.push({id:"upcoming",type:"info",title:"Upcoming Deadlines",message:`${n.upcoming_tasks.length} tasks due soon`,time:"Today"}),(g=n==null?void 0:n.project)!=null&&g.days_until_move&&n.project.days_until_move<=30&&p.push({id:"move-date",type:"info",title:"Move Date Approaching",message:`${n.project.days_until_move} days until your move`,time:"Reminder"});const v=p.length;return s.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:d})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative hidden md:block",children:[s.jsx(dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400","aria-hidden":"true"}),s.jsx("input",{type:"search",placeholder:"Search...","aria-label":"Search across portal",className:"w-64 pl-10 pr-4 py-2 bg-gray-100 border-0 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"relative",ref:c,children:[s.jsxs("button",{onClick:()=>o(!a),className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors","aria-label":`Notifications${v>0?` (${v} new)`:""}`,children:[s.jsx(ze,{className:"w-5 h-5"}),v>0&&s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),s.jsx("button",{onClick:()=>o(!1),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx($,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:p.length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:p.map(S=>s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:S.type==="warning"?s.jsx(M,{className:"w-5 h-5 text-yellow-500"}):S.type==="success"?s.jsx(P,{className:"w-5 h-5 text-green-500"}):s.jsx(ct,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:S.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S.time})]})]})},S.id))}):s.jsxs("div",{className:"px-4 py-8 text-center",children:[s.jsx(P,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"You're all caught up!"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"No new notifications"})]})})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[t!=null&&t.avatar_url?s.jsx("img",{src:t.avatar_url,alt:t.display_name,className:"w-8 h-8 rounded-full"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(L,{className:"w-4 h-4 text-gray-500"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.display_name)||"Loading..."}),s.jsx("p",{className:"text-xs text-gray-500",children:t!=null&&t.is_member?"Member":"Free"})]})]})]})]})}function Et({stages:e,className:t}){return s.jsxs("div",{className:N("card",t),children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Progress Tracker"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200",children:s.jsx("div",{className:"h-full bg-primary-500 transition-all duration-500",style:{width:`${Ft(e)}%`}})}),s.jsx("div",{className:"relative flex justify-between",children:e.map((n,a)=>s.jsxs("div",{className:"flex flex-col items-center",style:{width:`${100/e.length}%`},children:[s.jsx("div",{className:N("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all z-10",n.status==="completed"&&"bg-primary-500 border-primary-500",n.status==="current"&&"bg-white border-primary-500",n.status==="upcoming"&&"bg-white border-gray-300"),children:n.status==="completed"?s.jsx(Ze,{className:"w-5 h-5 text-white"}):s.jsx("span",{className:N("text-sm font-medium",n.status==="current"?"text-primary-500":"text-gray-400"),children:a+1})}),s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("p",{className:N("text-sm font-medium",n.status==="completed"&&"text-primary-600",n.status==="current"&&"text-gray-900",n.status==="upcoming"&&"text-gray-400"),children:n.title}),n.total>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[n.completed,"/",n.total," tasks"]})]}),n.status==="current"&&n.total>0&&s.jsxs("div",{className:"mt-2 w-full max-w-[80px]",children:[s.jsx("div",{className:"progress-bar h-1",children:s.jsx("div",{className:"progress-bar-fill",style:{width:`${n.percentage}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 text-center mt-1",children:[n.percentage,"%"]})]})]},n.slug))})]})})]})}function Ft(e){const t=e.filter(c=>c.status==="completed").length,n=e.find(c=>c.status==="current"),a=e.findIndex(c=>c.status==="current");if(e.length===0)return 0;const o=t/e.length*100;if(n&&a>=0){const c=100/e.length,d=n.percentage/100*c;return o+d}return o}function ue({task:e,onClick:t}){const n={todo:"status-todo",in_progress:"status-in-progress",waiting:"status-waiting",done:"status-done"},a={low:"priority-low",medium:"priority-medium",high:"priority-high",urgent:"priority-urgent"},o=c=>{t&&(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),t())};return s.jsxs("div",{onClick:t,onKeyDown:o,role:t?"button":void 0,tabIndex:t?0:void 0,className:N("flex items-center justify-between p-3 rounded-lg border transition-colors",e.is_overdue?"border-red-200 bg-red-50":"border-gray-200 bg-white hover:bg-gray-50",t&&"cursor-pointer"),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),e.is_overdue&&s.jsx(M,{className:"w-4 h-4 text-red-500 flex-shrink-0"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsx("span",{className:N("badge text-xs",n[e.status]),children:e.status_label}),s.jsx("span",{className:N("badge text-xs",a[e.priority]),children:e.priority_label}),e.due_date&&s.jsxs("span",{className:N("flex items-center gap-1 text-xs",e.is_overdue?"text-red-600":"text-gray-500"),children:[s.jsx(V,{className:"w-3 h-3"}),_t(e.due_date,e.days_until_due)]})]})]}),e.task_type==="team"&&s.jsx("span",{className:"badge badge-blue text-xs ml-2",children:"Team"})]})}function _t(e,t){return t===null?new Date(e).toLocaleDateString():t===0?"Today":t===1?"Tomorrow":t===-1?"Yesterday":t<0?`${Math.abs(t)} days ago`:t<=7?`In ${t} days`:new Date(e).toLocaleDateString()}const Mt={"check-circle":P,"plus-circle":le,pencil:ut,trash:pt,"arrows-right-left":Ve,"arrow-up-tray":gt,"document-text":re,"chat-bubble-bottom-center-text":z,"user-plus":L,user:L,envelope:z,"arrow-right":fe,"folder-plus":le};function Pt({activities:e}){return s.jsxs("div",{className:"card h-full",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),s.jsx("div",{className:"card-body overflow-y-auto max-h-[500px] scrollbar-thin",children:e.length>0?s.jsx("div",{className:"space-y-4",children:e.map(t=>s.jsx(Dt,{activity:t},t.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No recent activity"})]})})]})}function Dt({activity:e}){const t=Mt[e.action_icon]||P;return s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:e.user_avatar?s.jsx("img",{src:e.user_avatar,alt:e.user_name,className:"w-8 h-8 rounded-full"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(L,{className:"w-4 h-4 text-gray-500"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t,{className:"w-4 h-4 text-gray-400"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[s.jsx("span",{className:"font-medium",children:e.user_name})," ",s.jsx("span",{className:"text-gray-600",children:e.action_label.toLowerCase()})]})]}),e.description&&e.description!==e.action_label&&s.jsx("p",{className:"text-sm text-gray-600 mt-0.5 truncate",children:e.description}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.relative_time})]})]})}function Ot({banner:e}){const[t,n]=m.useState(!0),a=Ae(),o=async()=>{n(!1);try{await a.mutateAsync()}catch(c){console.error("Failed to dismiss banner:",c)}};return t?s.jsx("div",{className:"rounded-lg border-2 p-4 md:p-5 mb-6",style:{backgroundColor:e.bg_color,borderColor:e.border_color},role:"region","aria-label":"Welcome message",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:e.border_color},children:s.jsx(ht,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:e.message})]})]}),s.jsx("button",{onClick:o,className:"flex-shrink-0 p-1.5 rounded-full hover:bg-black/10 transition-colors","aria-label":"Dismiss welcome message",disabled:a.isPending,children:s.jsx($,{className:"w-5 h-5 text-gray-600"})})]})}):null}const Lt={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw]"};function Kt({isOpen:e,onClose:t,title:n,size:a="md",children:o,footer:c,showHeader:d=!0}){const p=m.useRef(null);m.useEffect(()=>{const f=g=>{g.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",f),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",f),document.body.style.overflow="unset"}},[e,t]);const v=f=>{f.target===p.current&&t()};return e?s.jsx("div",{ref:p,role:"presentation",onClick:v,className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-in fade-in duration-200",children:s.jsxs("div",{className:N("w-full bg-white rounded-xl shadow-xl animate-in zoom-in-95 duration-200",Lt[a]),children:[d&&n&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),s.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx($,{className:"w-5 h-5"})})]}),s.jsx("div",{className:N(d&&n?"px-6 py-4":"",!d&&"relative"),children:o}),c&&s.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:c})]})}):null}const At={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};function sr({isOpen:e,onClose:t,title:n,children:a,footer:o,side:c="right",width:d="md"}){const p=m.useRef(null);m.useEffect(()=>{const f=g=>{g.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",f),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",f),document.body.style.overflow="unset"}},[e,t]);const v=f=>{f.target===p.current&&t()};return e?s.jsx("div",{ref:p,role:"presentation",onClick:v,className:"fixed inset-0 z-50 bg-black/50 animate-in fade-in duration-200",children:s.jsxs("div",{className:N("fixed inset-y-0 w-full bg-white shadow-xl flex flex-col",At[d],c==="right"?"right-0 animate-in slide-in-from-right":"left-0 animate-in slide-in-from-left","duration-300"),children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n||"Details"}),s.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx($,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:a}),o&&s.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:o})]})}):null}function de(){const{data:e,isLoading:t,error:n}=pe(),{setActiveView:a,setSettingsTab:o}=R(),[c,d]=m.useState(!1),[p,v]=m.useState(""),f=Qe();if(t)return s.jsx(Ut,{});if(n)return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"card p-8 text-center",children:[s.jsx(M,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),s.jsx("p",{className:"text-gray-600",children:n.message})]})});if(!e)return null;const{project:g,stages:S,task_stats:j,profile_visa_label:w,welcome_banner:T,upcoming_tasks:F,overdue_tasks:k,recent_activity:C}=e;return s.jsxs("div",{className:"p-6 space-y-6",children:[T&&s.jsx(Ot,{banner:T}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:g.title}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[w?s.jsx("span",{children:w}):s.jsxs("button",{onClick:()=>{o("visa-profile"),a("settings")},className:"inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 hover:underline",children:[s.jsx(re,{className:"w-4 h-4"}),s.jsx("span",{children:"Set your visa type in your profile"})]}),g.target_move_date&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx(V,{className:"w-4 h-4 inline-block mr-1"}),g.days_until_move!==null&&g.days_until_move>0?s.jsxs("span",{children:[g.days_until_move," days until move"]}):s.jsxs("span",{children:["Move date: ",new Date(g.target_move_date).toLocaleDateString()]})]})]})]}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>{v(g.target_move_date||""),d(!0)},children:[s.jsx(V,{className:"w-4 h-4"}),"Update Move Date"]})]}),s.jsx(Kt,{isOpen:c,onClose:()=>d(!1),title:"Update Move Date",size:"sm",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{p&&g.id&&f.mutate({id:g.id,data:{target_move_date:p}},{onSuccess:()=>{d(!1)}})},disabled:f.isPending,children:f.isPending?"Saving...":"Save"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"When are you planning to move to France? This helps us prioritize your tasks and deadlines."}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"move-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Move Date"}),s.jsx("input",{id:"move-date",type:"date",value:p,onChange:E=>v(E.target.value),className:"input",min:new Date().toISOString().split("T")[0]})]})]})}),s.jsx(Et,{stages:S}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(H,{label:"Tasks Completed",value:`${j.completed}/${j.total}`,subtext:`${j.percentage}% complete`,icon:P,color:"green",onClick:()=>a("tasks")}),s.jsx(H,{label:"In Progress",value:j.in_progress,subtext:"Tasks being worked on",icon:oe,color:"blue",onClick:()=>a("tasks")}),s.jsx(H,{label:"To Do",value:j.todo,subtext:"Tasks remaining",icon:oe,color:"gray",onClick:()=>a("tasks")}),s.jsx(H,{label:"Overdue",value:j.overdue,subtext:j.overdue>0?"Need attention!":"All on track",icon:M,color:j.overdue>0?"red":"green",onClick:()=>a("tasks")})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[k.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[s.jsx(M,{className:"w-5 h-5"}),"Overdue Tasks"]}),s.jsx("span",{className:"badge badge-red",children:k.length})]}),s.jsx("div",{className:"card-body space-y-3",children:k.slice(0,5).map(E=>s.jsx(ue,{task:E},E.id))})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Tasks"}),s.jsxs("button",{onClick:()=>a("tasks"),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:["View all",s.jsx(fe,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"card-body",children:F.length>0?s.jsx("div",{className:"space-y-3",children:F.map(E=>s.jsx(ue,{task:E},E.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(P,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No upcoming tasks due soon!"})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Pt,{activities:C})})]})]})}function H({label:e,value:t,subtext:n,icon:a,color:o,onClick:c}){const d={green:"bg-green-50 text-green-600",blue:"bg-blue-50 text-blue-600",gray:"bg-gray-50 text-gray-600",red:"bg-red-50 text-red-600",yellow:"bg-yellow-50 text-yellow-600"};return s.jsx("button",{type:"button",onClick:c,className:"card p-5 w-full text-left hover:shadow-md transition-shadow cursor-pointer","aria-label":`${e}: ${t}. ${n}. Click to view tasks.`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),s.jsx("div",{className:N("p-2 rounded-lg",d[o]),children:s.jsx(a,{className:"w-5 h-5"})})]})})}function Ut(){return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"h-20 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-40 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>s.jsx("div",{className:"h-28 bg-gray-200 rounded-lg animate-pulse"},e))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 h-96 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg animate-pulse"})]})]})}const Qt=m.lazy(()=>q(()=>import("./TasksView-CD0kWrwB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url)),Rt=m.lazy(()=>q(()=>import("./DocumentsView-DFP650jr.js"),__vite__mapDeps([13,1,2,3,14,4,5,15,8,16,12,17,18,19,6]),import.meta.url)),$t=m.lazy(()=>q(()=>import("./MessagesView-DCa9tgyZ.js"),__vite__mapDeps([20,1,2,3,8,21,12,22,23,10,24,14]),import.meta.url)),It=m.lazy(()=>q(()=>import("./TimelineView-JSrU-1cn.js"),__vite__mapDeps([25,1,2,3,26,11,7]),import.meta.url)),Ht=m.lazy(()=>q(()=>import("./SettingsView-DmhH_ecH.js"),__vite__mapDeps([27,1,2,3,10,28,12,18,19,9]),import.meta.url)),Jt=m.lazy(()=>q(()=>import("./HelpView-Bo1JUCag.js"),__vite__mapDeps([29,1,2,3,19,30,14,17,31,32,33]),import.meta.url)),Vt=m.lazy(()=>q(()=>import("./GuidesView-Dg9l3AOe.js"),__vite__mapDeps([34,1,2,3,35,32,33,36,16,10,22,14,37,17]),import.meta.url)),zt=m.lazy(()=>q(()=>import("./FamilyView-CNX3L45e.js"),__vite__mapDeps([38,1,2,3,14,26,39,35,21,12,11]),import.meta.url)),Gt=m.lazy(()=>q(()=>import("./ProfileView-BWiJzE_p.js"),__vite__mapDeps([40,1,2,3,10,28,14,32,37,18,19]),import.meta.url)),Wt=m.lazy(()=>q(()=>import("./ChecklistsView-BIrhyKqp.js"),__vite__mapDeps([41,1,2,3,24,7,18,19,21,6,31]),import.meta.url)),Bt=m.lazy(()=>q(()=>import("./GlossaryView-DVRHz6X6.js"),__vite__mapDeps([42,1,2,3,30,14,43,35,19,44]),import.meta.url)),Yt=m.lazy(()=>q(()=>import("./KnowledgeBaseChat-DbkI_Gn2.js"),__vite__mapDeps([45,1,2,3,10,46,36,37,35,47,44,14,22]),import.meta.url)),Zt=m.lazy(()=>q(()=>import("./MembershipView-C88AqAqT.js"),__vite__mapDeps([48,1,2,3,49,14,10]),import.meta.url)),Xt=m.lazy(()=>q(()=>import("./ResearchView-C6yAimFU.js"),__vite__mapDeps([50,1,2,51,23,43,10,46,14,28,3]),import.meta.url)),es=m.lazy(()=>q(()=>import("./SchengenDashboard-CCqCTXaN.js"),__vite__mapDeps([52,1,2,3,49,14,32,12,18,19,10,31,24,15,47,21,51,39,22]),import.meta.url));function ts(){return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-3",role:"status","aria-label":"Loading view"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})]})})}function ss(){const{activeView:e}=R(),t=m.useMemo(()=>{switch(e){case"dashboard":return s.jsx(de,{});case"tasks":return s.jsx(Qt,{});case"messages":return s.jsx($t,{});case"documents":case"files":return s.jsx(Rt,{});case"timeline":return s.jsx(It,{});case"guides":return s.jsx(Vt,{});case"family":return s.jsx(zt,{});case"settings":return s.jsx(Ht,{});case"help":return s.jsx(Jt,{});case"profile":return s.jsx(Gt,{});case"checklists":return s.jsx(Wt,{});case"glossary":return s.jsx(Bt,{});case"chat":return s.jsx(Yt,{});case"membership":return s.jsx(Zt,{});case"research":return s.jsx(Xt,{});case"schengen":return s.jsx(es,{});default:return s.jsx(de,{})}},[e]);return s.jsx(m.Suspense,{fallback:s.jsx(ts,{}),children:t})}function ns(){const{sidebarCollapsed:e,setUser:t}=R(),{data:n}=ge();return m.useEffect(()=>{n&&t(n)},[n,t]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Tt,{}),s.jsxs("div",{className:N("transition-all duration-300",e?"ml-16":"ml-64"),children:[s.jsx(qt,{}),s.jsx("main",{className:"min-h-[calc(100vh-4rem)]",children:s.jsx(bt,{children:s.jsx(ss,{})})})]}),s.jsx(St,{})]})}const rs=new we({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),me=document.getElementById("fra-portal-root");me&&Y.createRoot(me).render(s.jsx(Ce.StrictMode,{children:s.jsx(Ne,{client:rs,children:s.jsx(ns,{})})}));export{ge as $,M as A,bs as B,P as C,sr as D,lt as E,re as F,qs as G,Cs as H,Ts as I,Ns as J,sn as K,at as L,z as M,ws as N,en as O,le as P,ct as Q,nn as R,dt as S,tn as T,L as U,rn as V,an as W,$ as X,xs as Y,mt as Z,ze as _,oe as a,vn as a$,ls as a0,ds as a1,ms as a2,Ze as a3,be as a4,Es as a5,_s as a6,Fs as a7,Ue as a8,us as a9,zs as aA,Gs as aB,Ws as aC,Xs as aD,Bs as aE,Ys as aF,Zs as aG,Ke as aH,mn as aI,yn as aJ,hn as aK,pn as aL,gn as aM,fn as aN,An as aO,rt as aP,ut as aQ,bn as aR,qn as aS,En as aT,Pn as aU,Fn as aV,_n as aW,Mn as aX,Dn as aY,On as aZ,Ln as a_,ft as aa,st as ab,Be as ac,Ge as ad,tt as ae,it as af,We as ag,xe as ah,et as ai,ot as aj,ht as ak,fe as al,Js as am,$s as an,Is as ao,Rs as ap,cn as aq,ln as ar,un as as,dn as at,Ms as au,Ps as av,As as aw,Hs as ax,Xe as ay,Vs as az,V as b,jn as b0,wn as b1,Sn as b2,Nn as b3,Tn as b4,Cn as b5,Kn as b6,Rn as b7,Un as b8,Qn as b9,$n as ba,In as bb,Hn as bc,Jn as bd,Vn as be,zn as bf,Gn as bg,Wn as bh,Bn as bi,Yn as bj,Zn as bk,Xn as bl,er as bm,tr as bn,xn as bo,kn as bp,bt as bq,b as c,Os as d,Ls as e,Ks as f,Ye as g,ps as h,gs as i,fs as j,hs as k,Kt as l,R as m,pe as n,ys as o,vs as p,gt as q,ce as r,nt as s,Ss as t,Ds as u,ks as v,js as w,Us as x,Qs as y,on as z};
