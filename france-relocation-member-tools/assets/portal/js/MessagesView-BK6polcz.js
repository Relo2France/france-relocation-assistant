import{j as e}from"./vendor-query-D8MH73Ff.js";import{r as d}from"./vendor-react-F9Y4d3HK.js";import{a as j}from"./vendor-utils-C5RVuWu4.js";import{c as C,E,G as A,H as R,a as k,m as q,I,X as V,J as H,K as z,n as B,L as W,S as O,M as w,N as Q,P as T,O as U,Q as Y,R as Z,T as G,V as J}from"./main-DoY2Q5Kx.js";import{M as K}from"./more-vertical-DImbNKVZ.js";import{P as X}from"./pen-C2Opsdmu.js";import{T as y}from"./trash-2-BPJBJ1WN.js";import{S}from"./send-BUz2namD.js";import{A as P}from"./arrow-left-3v0BPjCX.js";import{L as v}from"./loader-2-DHeZl5zm.js";import{C as $}from"./check-circle-2-C8Y73dG6.js";import{A as ee}from"./alert-circle-DhimSPVV.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=C("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=C("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);function f({note:s,projectId:l}){const[t,i]=d.useState(!1),[r,c]=d.useState(!1),[n,x]=d.useState(s.content),[u,m]=d.useState(!1),o=d.useRef(null),p=E();d.useEffect(()=>{r&&o.current&&o.current.focus()},[r]);const g=A(),a=R(),b=()=>{p.mutate(s.id),i(!1)},h=()=>{g.mutate({id:s.id,projectId:l}),m(!1)},D=()=>{n.trim()&&n!==s.content&&a.mutate({id:s.id,data:{content:n}}),c(!1)},F=()=>{x(s.content),c(!1)};return e.jsxs("div",{className:j("card p-4 transition-all",s.is_pinned&&"ring-2 ring-yellow-400 bg-yellow-50"),children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s.user_avatar,alt:s.user_name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.user_name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:s.relative_time}),s.is_pinned&&e.jsxs("span",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(N,{className:"w-3 h-3"}),"Pinned"]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(!t),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(K,{className:"w-4 h-4"})}),t&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[e.jsxs("button",{onClick:b,className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),s.is_pinned?"Unpin":"Pin to top"]}),e.jsxs("button",{onClick:()=>{c(!0),i(!1)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),"Edit"]}),e.jsx("hr",{className:"my-1 border-gray-100"}),e.jsxs("button",{onClick:()=>{m(!0),i(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Delete"]})]})]})]}),r?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{ref:o,value:n,onChange:L=>x(L.target.value),className:"textarea w-full",rows:4}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:F,className:"btn btn-secondary btn-sm",children:"Cancel"}),e.jsx("button",{onClick:D,disabled:a.isPending,className:"btn btn-primary btn-sm",children:a.isPending?"Saving...":"Save"})]})]}):e.jsx("div",{className:"prose prose-sm max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:s.content}}),u&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-red-800 mb-3",children:"Are you sure you want to delete this note? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>m(!1),className:"btn btn-secondary btn-sm",children:"Cancel"}),e.jsx("button",{onClick:h,disabled:g.isPending,className:"btn bg-red-600 text-white hover:bg-red-700 btn-sm",children:g.isPending?"Deleting...":"Delete"})]})]})]})}function se({projectId:s,taskId:l,onSuccess:t,placeholder:i="Add a note...",className:r}){const[c,n]=d.useState(""),[x,u]=d.useState(!1),m=d.useRef(null),{user:o}=q(),p=I(s);d.useEffect(()=>{x&&m.current&&m.current.focus()},[x]);const g=b=>{b.preventDefault(),c.trim()&&p.mutate({content:c.trim(),task_id:l,visibility:"private"},{onSuccess:()=>{n(""),u(!1),t==null||t()}})},a=()=>{n(""),u(!1)};return e.jsx("form",{onSubmit:g,className:j("card",r),children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[o&&e.jsx("img",{src:o.avatar_url,alt:o.display_name,className:"w-10 h-10 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[x?e.jsx("textarea",{ref:m,value:c,onChange:b=>n(b.target.value),placeholder:i,className:"textarea w-full resize-none",rows:4}):e.jsx("button",{type:"button",onClick:()=>u(!0),className:"w-full text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-500 transition-colors",children:i}),x&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Notes are visible only to you"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:a,className:"btn btn-secondary btn-sm",children:[e.jsx(V,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:!c.trim()||p.isPending,className:"btn btn-primary btn-sm",children:[e.jsx(S,{className:"w-4 h-4"}),p.isPending?"Posting...":"Post Note"]})]})]})]})]})})})}function Se(){const[s,l]=d.useState("support"),{data:t}=H(),i=(t==null?void 0:t.count)||0;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Support conversations and personal notes"})]}),e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsxs("button",{onClick:()=>l("support"),className:j("px-4 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",s==="support"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),"aria-selected":s==="support",role:"tab",children:[e.jsx(z,{className:"w-4 h-4"}),"Support",i>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-medium bg-primary-500 text-white rounded-full",children:i})]}),e.jsxs("button",{onClick:()=>l("notes"),className:j("px-4 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",s==="notes"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),"aria-selected":s==="notes",role:"tab",children:[e.jsx(_,{className:"w-4 h-4"}),"My Notes"]})]}),s==="support"?e.jsx(te,{}):e.jsx(me,{})]})}function te(){const[s,l]=d.useState("list"),[t,i]=d.useState(null),r=n=>{i(n),l("detail")},c=()=>{i(null),l("list")};return e.jsxs(e.Fragment,{children:[s==="list"&&e.jsx(ae,{onCompose:()=>l("compose"),onViewTicket:r}),s==="compose"&&e.jsx(re,{onBack:c,onSuccess:n=>{i(n),l("detail")}}),s==="detail"&&t&&e.jsx(ie,{ticketId:t,onBack:c})]})}function ae({onCompose:s,onViewTicket:l}){const{data:t,isLoading:i}=Q(),r=(t==null?void 0:t.tickets)||[];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Customer Support"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Contact us for help with your membership or site issues"})]}),e.jsxs("button",{onClick:s,className:"btn btn-primary flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"New Message"]})]}),e.jsx("div",{className:"card mb-6 border-l-4 border-l-blue-500 bg-blue-50",children:e.jsxs("div",{className:"p-4 flex gap-3",children:[e.jsx(U,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"What we can help with:"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Membership questions, site errors, or content that needs correction."}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"We do not provide visa assistance, as this is a legal question that should be directed to a qualified immigration professional. This site is provided as a convenience to assist with the visa application process only."})]})]})}),i?e.jsx(ce,{}):r.length===0?e.jsx(le,{onCompose:s}):e.jsx("div",{className:"space-y-3",children:r.map(c=>e.jsx(ne,{ticket:c,onClick:()=>l(c.id)},c.id))})]})}function ne({ticket:s,onClick:l}){return e.jsx("button",{onClick:l,className:j("card w-full text-left p-4 hover:bg-gray-50 transition-colors",s.has_unread_user&&"ring-2 ring-primary-500 bg-primary-50"),children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:s.subject}),s.has_unread_user&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-primary-500 text-white rounded-full",children:"New Reply"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-1",children:s.initial_message||"No message content"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"}),s.relative_time]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),s.reply_count," ",s.reply_count===1?"reply":"replies"]})]})]}),e.jsx(M,{status:s.status})]})})}function M({status:s}){return s==="closed"?e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:[e.jsx($,{className:"w-3 h-3"}),"Closed"]}):e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:[e.jsx(ee,{className:"w-3 h-3"}),"Open"]})}function le({onCompose:s}){return e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(w,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No support messages"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Have a question or found an issue? Send us a message and we'll get back to you."}),e.jsxs("button",{onClick:s,className:"btn btn-primary inline-flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Send Your First Message"]})]})}function re({onBack:s,onSuccess:l}){const[t,i]=d.useState(""),[r,c]=d.useState(""),n=Y(),x=u=>{u.preventDefault(),!(!t.trim()||!r.trim())&&n.mutate({subject:t.trim(),content:r.trim()},{onSuccess:m=>{l(m.ticket_id)}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(P,{className:"w-4 h-4"}),"Back to Messages"]}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Support Message"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Describe your question or issue and we'll respond as soon as possible"})]}),e.jsx("form",{onSubmit:x,className:"card max-w-2xl",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{id:"subject",type:"text",value:t,onChange:u=>i(u.target.value),placeholder:"What do you need help with?",className:"input w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{id:"content",value:r,onChange:u=>c(u.target.value),placeholder:"Describe your question or issue in detail...",rows:6,className:"textarea w-full",required:!0})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:s,className:"btn btn-secondary",disabled:n.isPending,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!t.trim()||!r.trim()||n.isPending,className:"btn btn-primary flex items-center gap-2",children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-4 h-4"}),"Send Message"]})})]})]})})]})}function ie({ticketId:s,onBack:l}){const[t,i]=d.useState(""),[r,c]=d.useState(!1),{data:n,isLoading:x,refetch:u}=Z(s),m=G(),o=J(),p=h=>{h.preventDefault(),t.trim()&&m.mutate({ticketId:s,content:t.trim()},{onSuccess:()=>{i(""),u()}})},g=()=>{o.mutate(s,{onSuccess:l})};if(x)return e.jsx(de,{});if(!n)return e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Ticket not found."}),e.jsx("button",{onClick:l,className:"btn btn-secondary mt-4",children:"Back to Messages"})]});const{ticket:a,replies:b}=n;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(P,{className:"w-4 h-4"}),"Back to Messages"]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a.subject}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx(M,{status:a.status}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Created ",a.relative_time]})]})]}),e.jsx("button",{onClick:()=>c(!0),className:"btn btn-secondary text-red-600 hover:bg-red-50","aria-label":"Delete ticket",children:e.jsx(y,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"card mb-6",children:e.jsx("div",{className:"p-6 space-y-6",children:b.map(h=>e.jsxs("div",{className:j("p-4 rounded-lg",h.is_admin?"bg-primary-50 ml-8":"bg-gray-50 mr-8"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:j("text-sm font-medium",h.is_admin?"text-primary-700":"text-gray-700"),children:h.author_name}),e.jsx("span",{className:"text-xs text-gray-500",children:h.relative_time})]}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:h.content})]},h.id))})}),a.status!=="closed"&&e.jsx("form",{onSubmit:p,className:"card",children:e.jsxs("div",{className:"p-4",children:[e.jsx("label",{htmlFor:"reply",className:"sr-only",children:"Your reply"}),e.jsx("textarea",{id:"reply",value:t,onChange:h=>i(h.target.value),placeholder:"Type your reply...",rows:4,className:"textarea w-full",required:!0}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{type:"submit",disabled:!t.trim()||m.isPending,className:"btn btn-primary flex items-center gap-2",children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-4 h-4"}),"Send Reply"]})})})]})}),a.status==="closed"&&e.jsx("div",{className:"card bg-gray-50 p-4 text-center",children:e.jsx("p",{className:"text-gray-600",children:"This conversation is closed. Start a new message if you need further assistance."})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete this conversation?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone. All messages in this conversation will be permanently deleted."}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"btn btn-secondary",disabled:o.isPending,children:"Cancel"}),e.jsx("button",{onClick:g,disabled:o.isPending,className:"btn bg-red-600 text-white hover:bg-red-700 flex items-center gap-2",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4"}),"Delete"]})})]})]})})]})}function ce(){return e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-5 w-48 bg-gray-200 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-full bg-gray-100 rounded animate-pulse mb-3"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"h-3 w-20 bg-gray-100 rounded animate-pulse"}),e.jsx("div",{className:"h-3 w-24 bg-gray-100 rounded animate-pulse"})]})]}),e.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full animate-pulse"})]})},s))})}function de(){return e.jsxs("div",{children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse mb-4"}),e.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse mb-6"}),e.jsx("div",{className:"card p-6 space-y-6",children:[1,2].map(s=>e.jsxs("div",{className:j("p-4 rounded-lg",s===1?"bg-gray-50 mr-8":"bg-primary-50 ml-8"),children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-3/4"})]})]},s))})]})}function me(){var g;const[s,l]=d.useState("all"),[t,i]=d.useState(""),{data:r,isLoading:c}=B(),n=((g=r==null?void 0:r.project)==null?void 0:g.id)||0,{data:x=[],isLoading:u}=W(n,s==="pinned"?{pinned:!0}:void 0),m=t?x.filter(a=>a.content.toLowerCase().includes(t.toLowerCase())):x,o=m.filter(a=>a.is_pinned),p=m.filter(a=>!a.is_pinned);return c||u?e.jsx(oe,{}):r!=null&&r.project?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(_,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Notes"})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center",children:e.jsx(N,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pinned"})]})]})})]}),e.jsx(se,{projectId:n,className:"mb-6",placeholder:"Write a new note..."}),e.jsx("div",{className:"card mb-6",children:e.jsxs("div",{className:"p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex rounded-lg bg-gray-100 p-1",children:[e.jsx("button",{onClick:()=>l("all"),className:j("px-4 py-1.5 rounded-md text-sm font-medium transition-colors",s==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"All Notes"}),e.jsxs("button",{onClick:()=>l("pinned"),className:j("px-4 py-1.5 rounded-md text-sm font-medium transition-colors flex items-center gap-1.5",s==="pinned"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(N,{className:"w-3.5 h-3.5"}),"Pinned"]})]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:t,onChange:a=>i(a.target.value),placeholder:"Search notes...",className:"w-full pl-9 pr-4 py-2 bg-gray-100 border-0 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})}),m.length===0?e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(w,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t?"No notes found":"No notes yet"}),e.jsx("p",{className:"text-gray-600",children:t?"Try a different search term":"Start by adding a note above to keep track of important information"})]}):e.jsxs("div",{className:"space-y-4",children:[s==="all"&&o.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),"Pinned Notes"]}),e.jsx("div",{className:"space-y-4",children:o.map(a=>e.jsx(f,{note:a,projectId:n},a.id))})]}),s==="all"&&p.length>0&&e.jsxs("div",{children:[o.length>0&&e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3 mt-6",children:"Other Notes"}),e.jsx("div",{className:"space-y-4",children:p.map(a=>e.jsx(f,{note:a,projectId:n},a.id))})]}),s==="pinned"&&e.jsx("div",{className:"space-y-4",children:m.map(a=>e.jsx(f,{note:a,projectId:n},a.id))})]})]}):e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Project Found"}),e.jsx("p",{className:"text-gray-600",children:"Please set up your relocation project first."})]})}function oe(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[1,2].map(s=>e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-16 bg-gray-100 rounded animate-pulse"})]})]})},s))}),e.jsx("div",{className:"card p-4 mb-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full animate-pulse"}),e.jsx("div",{className:"flex-1 h-12 bg-gray-100 rounded-lg animate-pulse"})]})}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-3 w-24 bg-gray-100 rounded animate-pulse"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-100 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded animate-pulse w-3/4"})]})]},s))})]})}export{Se as default};
