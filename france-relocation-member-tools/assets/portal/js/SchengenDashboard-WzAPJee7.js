import{j as e}from"./vendor-query-D8MH73Ff.js";import{r as g}from"./vendor-react-F9Y4d3HK.js";import{a as f}from"./vendor-utils-C5RVuWu4.js";import{aG as H,aH as O,aI as P,aJ as R,aK as Y,aL as B,A as v,a1 as G,b as T,B as I,F as V,aM as _,P as X,a as q,O as J,l as F}from"./main-BBlLBM4M.js";import{X as K}from"./x-circle-D3xgKjg7.js";import{A as Q}from"./alert-circle-7hjS1B56.js";import{B as Z}from"./briefcase-BZY1CR4s.js";import{T as ee}from"./trash-2-D7WhgStm.js";import{C as te}from"./chevron-up-CvKUTuqS.js";import{C as se}from"./chevron-down-DqgO9Pvd.js";const ae={yellowThreshold:60,redThreshold:80,emailAlerts:!1,upcomingTripReminders:!0};function re(){const{data:t=[],isLoading:i,isError:r}=H(),{data:n=ae,isLoading:c}=O(),o=P(),s=R(),m=Y(),d=B(),x=!i&&!c,l=r,b=g.useMemo(()=>[...t].sort((u,h)=>new Date(h.startDate).getTime()-new Date(u.startDate).getTime()),[t]),j=g.useCallback(u=>o.mutateAsync(u),[o]),w=g.useCallback((u,h)=>s.mutateAsync({id:u,data:h}),[s]),N=g.useCallback(u=>m.mutateAsync(u),[m]),y=g.useCallback(u=>d.mutateAsync(u),[d]),a=o.isPending||s.isPending||m.isPending||d.isPending;return{trips:b,settings:n,isLoaded:x,isError:l,isSaving:a,addTrip:j,updateTrip:w,deleteTrip:N,updateSettings:y}}const A=90,E=180;function M(t,i=new Date){const r=new Date(i);r.setHours(23,59,59,999);const n=new Date(r);n.setDate(n.getDate()-(E-1)),n.setHours(0,0,0,0);const c=new Set;return t.forEach(o=>{const s=new Date(o.startDate);s.setHours(0,0,0,0);const m=new Date(o.endDate);if(m.setHours(23,59,59,999),s>r)return;const d=s<n?n:s,x=m>r?r:m;if(d<=x){const l=new Date(d);for(;l<=x;)c.add(l.toISOString().split("T")[0]),l.setDate(l.getDate()+1)}}),c.size}function ne(t,i=new Date){const r=new Date(i);r.setHours(23,59,59,999);const n=new Date(r);n.setDate(n.getDate()-(E-1)),n.setHours(0,0,0,0);const c=new Set;return t.forEach(o=>{const s=new Date(o.startDate);s.setHours(0,0,0,0);const m=new Date(o.endDate);if(m.setHours(23,59,59,999),s>r)return;const d=s<n?n:s,x=m>r?r:m;if(d<=x){const l=new Date(d);for(;l<=x;)c.add(l.toISOString().split("T")[0]),l.setDate(l.getDate()+1)}}),c}function ie(t,i={yellow:60,red:80}){return t>=A?"critical":t>=i.red?"danger":t>=i.yellow?"warning":"safe"}function oe(t,i=new Date){const r=ne(t,i);if(r.size===0)return null;const c=Array.from(r).sort()[0],o=new Date(c);return o.setDate(o.getDate()+E),o.toISOString().split("T")[0]}function le(t,i={yellow:60,red:80}){const r=new Date,n=M(t,r),c=Math.max(0,A-n),o=new Date(r),s=new Date(r);return s.setDate(s.getDate()-(E-1)),{daysUsed:n,daysRemaining:c,windowStart:s.toISOString().split("T")[0],windowEnd:o.toISOString().split("T")[0],status:ie(n,i),nextExpiration:oe(t,r),statusThresholds:i}}function W(t,i){const r=new Date(t);r.setHours(0,0,0,0);const n=new Date(i);n.setHours(0,0,0,0);const c=Math.abs(n.getTime()-r.getTime());return Math.floor(c/(1e3*60*60*24))+1}function C(t){return W(new Date(t.startDate),new Date(t.endDate))}function de(t,i,r){const n=new Date(i),c=new Date(r),o=new Date(n);let s=0;for(;o<=c;){const m={id:"temp",startDate:i,endDate:o.toISOString().split("T")[0],country:"France",category:"personal",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},d=[...t,m],x=M(d,o);if(s=Math.max(s,x),x>A)return{wouldViolate:!0,projectedDaysUsed:x,earliestSafeEntry:null,maxTripLength:null,message:`This trip would exceed the 90-day limit on ${o.toISOString().split("T")[0]} with ${x} days used.`};o.setDate(o.getDate()+1)}return{wouldViolate:!1,projectedDaysUsed:s,earliestSafeEntry:i,maxTripLength:W(n,c),message:`This trip is safe. Maximum days used during trip: ${s}/90.`}}function D(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function ce(t,i){const r=new Date(t),n=new Date(i);return t===i?D(t):r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()?`${r.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${n.getDate()}, ${n.getFullYear()}`:r.getFullYear()===n.getFullYear()?`${r.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${n.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${n.getFullYear()}`:`${D(t)} - ${D(i)}`}const ue={safe:{stroke:"stroke-green-500",text:"text-green-600",bg:"bg-green-50"},warning:{stroke:"stroke-yellow-500",text:"text-yellow-600",bg:"bg-yellow-50"},danger:{stroke:"stroke-orange-500",text:"text-orange-600",bg:"bg-orange-50"},critical:{stroke:"stroke-red-500",text:"text-red-600",bg:"bg-red-50"}},me={sm:{container:"w-24 h-24",svgSize:96,strokeWidth:6,radius:42,textSize:"text-2xl",labelSize:"text-xs"},md:{container:"w-36 h-36",svgSize:144,strokeWidth:8,radius:64,textSize:"text-4xl",labelSize:"text-sm"},lg:{container:"w-48 h-48",svgSize:192,strokeWidth:10,radius:86,textSize:"text-5xl",labelSize:"text-base"}};function xe({daysUsed:t,daysRemaining:i,status:r,size:n="md",className:c}){const o=ue[r],s=me[n],m=Math.min(t/90*100,100),d=2*Math.PI*s.radius,x=d-m/100*d;return e.jsxs("div",{className:f("relative inline-flex",s.container,c),children:[e.jsxs("svg",{className:"transform -rotate-90",width:s.svgSize,height:s.svgSize,"aria-hidden":"true",children:[e.jsx("circle",{cx:s.svgSize/2,cy:s.svgSize/2,r:s.radius,fill:"none",strokeWidth:s.strokeWidth,className:"stroke-gray-200"}),e.jsx("circle",{cx:s.svgSize/2,cy:s.svgSize/2,r:s.radius,fill:"none",strokeWidth:s.strokeWidth,strokeLinecap:"round",strokeDasharray:d,strokeDashoffset:x,className:f("transition-all duration-500",o.stroke)})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:f("font-bold",s.textSize,o.text),role:"text","aria-label":`${t} days used`,children:t}),e.jsx("span",{className:f("text-gray-500",s.labelSize),children:"of 90 days"})]}),e.jsx("div",{role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":90,"aria-label":`Schengen days: ${t} used, ${i} remaining`,className:"sr-only"})]})}const ge={safe:{label:"Safe",bgColor:"bg-green-50",textColor:"text-green-700",borderColor:"border-green-200",Icon:G},warning:{label:"Warning",bgColor:"bg-yellow-50",textColor:"text-yellow-700",borderColor:"border-yellow-200",Icon:v},danger:{label:"Danger",bgColor:"bg-orange-50",textColor:"text-orange-700",borderColor:"border-orange-200",Icon:Q},critical:{label:"Critical",bgColor:"bg-red-50",textColor:"text-red-700",borderColor:"border-red-200",Icon:K}},he={sm:{badge:"px-2 py-0.5 text-xs",icon:"w-3 h-3"},md:{badge:"px-2.5 py-1 text-sm",icon:"w-4 h-4"},lg:{badge:"px-3 py-1.5 text-base",icon:"w-5 h-5"}};function pe({status:t,showLabel:i=!0,size:r="md",className:n}){const c=ge[t],o=he[r],s=c.Icon;return e.jsxs("span",{className:f("inline-flex items-center gap-1 rounded-full border font-medium",c.bgColor,c.textColor,c.borderColor,o.badge,n),children:[e.jsx(s,{className:o.icon,"aria-hidden":"true"}),i&&e.jsx("span",{children:c.label})]})}const ye=["Austria","Belgium","Bulgaria","Croatia","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Italy","Latvia","Liechtenstein","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland"];function L({trip:t,existingTrips:i,onSubmit:r,onCancel:n,className:c}){const o=!!t,[s,m]=g.useState((t==null?void 0:t.startDate)||""),[d,x]=g.useState((t==null?void 0:t.endDate)||""),[l,b]=g.useState((t==null?void 0:t.country)||"France"),[j,w]=g.useState((t==null?void 0:t.category)||"personal"),[N,y]=g.useState((t==null?void 0:t.notes)||""),[a,u]=g.useState(null),[h,k]=g.useState(null);g.useEffect(()=>{if(s&&d){const p=o?i.filter(U=>U.id!==t.id):i,S=de(p,s,d);S.wouldViolate?u(S.message):S.projectedDaysUsed>=80?u(`This trip will bring you to ${S.projectedDaysUsed}/90 days - approaching the limit.`):S.projectedDaysUsed>=60?u(`This trip will bring you to ${S.projectedDaysUsed}/90 days.`):u(null)}else u(null)},[s,d,i,o,t]);const $=p=>{if(p.preventDefault(),k(null),!s||!d){k("Please enter both start and end dates.");return}if(new Date(d)<new Date(s)){k("End date must be on or after start date.");return}if(C({startDate:s,endDate:d})>90){k("A single trip cannot exceed 90 days.");return}r({startDate:s,endDate:d,country:l,category:j,notes:N.trim()||void 0})},z=s&&d?C({startDate:s,endDate:d}):null;return e.jsxs("form",{onSubmit:$,className:f("space-y-4",c),children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(T,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Start Date"]}),e.jsx("input",{type:"date",id:"startDate",value:s,onChange:p=>m(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(T,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"End Date"]}),e.jsx("input",{type:"date",id:"endDate",value:d,onChange:p=>x(p.target.value),min:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),z!==null&&e.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded-lg",children:["Duration: ",e.jsxs("span",{className:"font-medium",children:[z," day",z!==1?"s":""]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(I,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Country"]}),e.jsx("select",{id:"country",value:l,onChange:p=>b(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:ye.map(p=>e.jsx("option",{value:p,children:p},p))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(Z,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Category"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:"personal",checked:j==="personal",onChange:()=>w("personal"),className:"text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Personal"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:"business",checked:j==="business",onChange:()=>w("business"),className:"text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Business"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(V,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"Notes (optional)"]}),e.jsx("textarea",{id:"notes",value:N,onChange:p=>y(p.target.value),rows:2,placeholder:"e.g., Visa appointment, apartment hunting...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none"})]}),a&&e.jsxs("div",{className:"flex gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5","aria-hidden":"true"}),e.jsx("p",{className:"text-sm text-amber-800",children:a})]}),h&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:h})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-primary-600 hover:bg-primary-700 rounded-lg font-medium transition-colors",children:o?"Save Changes":"Add Trip"})]})]})}function fe({trips:t,currentWindowStart:i,onEdit:r,onDelete:n,className:c}){const[o,s]=g.useState("date"),[m,d]=g.useState("desc"),[x,l]=g.useState(null),b=a=>{o===a?d(u=>u==="asc"?"desc":"asc"):(s(a),d("desc"))},j=[...t].sort((a,u)=>{let h=0;switch(o){case"date":h=new Date(a.startDate).getTime()-new Date(u.startDate).getTime();break;case"country":h=a.country.localeCompare(u.country);break;case"duration":h=C(a)-C(u);break}return m==="asc"?h:-h}),w=a=>new Date(a.endDate)>=new Date(i),N=a=>{x===a?(n(a),l(null)):(l(a),setTimeout(()=>l(null),3e3))};if(t.length===0)return e.jsxs("div",{className:f("text-center py-12",c),children:[e.jsx(I,{className:"w-12 h-12 text-gray-300 mx-auto mb-4","aria-hidden":"true"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trips recorded"}),e.jsx("p",{className:"text-gray-500",children:"Add your first trip to start tracking your Schengen days."})]});const y=({field:a})=>o!==a?null:m==="asc"?e.jsx(te,{className:"w-4 h-4"}):e.jsx(se,{className:"w-4 h-4"});return e.jsxs("div",{className:f("overflow-hidden",c),children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 bg-gray-50 border-b border-gray-200 text-sm font-medium text-gray-600",children:[e.jsxs("button",{onClick:()=>b("date"),className:"col-span-4 flex items-center gap-1 text-left hover:text-gray-900",children:[e.jsx(T,{className:"w-4 h-4","aria-hidden":"true"}),"Dates",e.jsx(y,{field:"date"})]}),e.jsxs("button",{onClick:()=>b("country"),className:"col-span-3 flex items-center gap-1 text-left hover:text-gray-900",children:[e.jsx(I,{className:"w-4 h-4","aria-hidden":"true"}),"Country",e.jsx(y,{field:"country"})]}),e.jsxs("button",{onClick:()=>b("duration"),className:"col-span-2 flex items-center gap-1 text-left hover:text-gray-900",children:["Days",e.jsx(y,{field:"duration"})]}),e.jsx("div",{className:"col-span-3 text-right",children:"Actions"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:j.map(a=>{const u=C(a),h=w(a);return e.jsxs("div",{className:f("grid grid-cols-12 gap-4 px-4 py-3 items-center",h?"bg-white":"bg-gray-50 opacity-75"),children:[e.jsxs("div",{className:"col-span-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:ce(a.startDate,a.endDate)}),a.notes&&e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:a.notes})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("span",{className:"text-sm text-gray-700",children:a.country}),e.jsx("span",{className:f("ml-2 text-xs px-1.5 py-0.5 rounded",a.category==="business"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:a.category})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:[u," day",u!==1?"s":""]}),!h&&e.jsx("span",{className:"block text-xs text-gray-400",children:"outside window"})]}),e.jsxs("div",{className:"col-span-3 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>r(a),className:"p-2 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors","aria-label":`Edit trip to ${a.country}`,children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(a.id),className:f("p-2 rounded-lg transition-colors",x===a.id?"text-white bg-red-600 hover:bg-red-700":"text-gray-400 hover:text-red-600 hover:bg-red-50"),"aria-label":x===a.id?"Confirm delete":`Delete trip to ${a.country}`,children:e.jsx(ee,{className:"w-4 h-4"})})]})]},a.id)})})]})}function Ee(){const{trips:t,settings:i,isLoaded:r,addTrip:n,updateTrip:c,deleteTrip:o}=re(),[s,m]=g.useState(!1),[d,x]=g.useState(null),l=g.useMemo(()=>le(t,{yellow:i.yellowThreshold,red:i.redThreshold}),[t,i.yellowThreshold,i.redThreshold]),b=async a=>{try{await n(a),m(!1)}catch(u){console.error("Failed to add trip:",u)}},j=async a=>{if(d)try{await c(d.id,a),x(null)}catch(u){console.error("Failed to update trip:",u)}},w=async a=>{try{await o(a)}catch(u){console.error("Failed to delete trip:",u)}},N=a=>{x(a)},y=()=>{m(!1),x(null)};return r?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Schengen Tracker"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your 90/180 day Schengen zone compliance"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:[e.jsx(X,{className:"w-5 h-5","aria-hidden":"true"}),"Add Trip"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card p-6 flex flex-col items-center justify-center",children:[e.jsx(xe,{daysUsed:l.daysUsed,daysRemaining:l.daysRemaining,status:l.status,size:"lg"}),e.jsx("div",{className:"mt-4",children:e.jsx(pe,{status:l.status,size:"lg"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:f("card p-4 border-l-4",l.status==="safe"&&"border-l-green-500",l.status==="warning"&&"border-l-yellow-500",l.status==="danger"&&"border-l-orange-500",l.status==="critical"&&"border-l-red-500"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(q,{className:"w-5 h-5 text-gray-600","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Days Remaining"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.daysRemaining})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(T,{className:"w-5 h-5 text-gray-600","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current 180-Day Window"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[D(l.windowStart)," - ",D(l.windowEnd)]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[l.nextExpiration&&e.jsx("div",{className:"card p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(T,{className:"w-5 h-5 text-blue-600","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Next Day Expires"}),e.jsx("p",{className:"text-lg font-bold text-blue-900",children:D(l.nextExpiration)}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"A day will drop off the 180-day window"})]})]})}),e.jsx("div",{className:"card p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(J,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"The 90/180 Rule"}),e.jsx("p",{children:"Non-EU citizens may stay up to 90 days within any 180-day period in the Schengen area without a visa."})]})]})})]})]}),l.status==="warning"&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-yellow-600 flex-shrink-0","aria-hidden":"true"}),e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("span",{className:"font-medium",children:"Approaching limit:"})," You have used ",l.daysUsed," of your 90 days. Plan future travel carefully to avoid overstaying."]})]}),l.status==="danger"&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-orange-600 flex-shrink-0","aria-hidden":"true"}),e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("span",{className:"font-medium",children:"Warning:"})," You have used ",l.daysUsed," of your 90 days. Limited travel remaining in this window."]})]}),l.status==="critical"&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-red-600 flex-shrink-0","aria-hidden":"true"}),e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("span",{className:"font-medium",children:"Limit reached:"})," You have used all 90 days allowed in this 180-day window. Additional travel may result in overstay violations."]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Trips"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," trip",t.length!==1?"s":""]})]}),e.jsx(fe,{trips:t,currentWindowStart:l.windowStart,onEdit:N,onDelete:w})]}),e.jsx(F,{isOpen:s,onClose:y,title:"Add Trip",size:"md",children:e.jsx(L,{existingTrips:t,onSubmit:b,onCancel:y})}),e.jsx(F,{isOpen:!!d,onClose:y,title:"Edit Trip",size:"md",children:d&&e.jsx(L,{trip:d,existingTrips:t,onSubmit:j,onCancel:y})})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-3",role:"status","aria-label":"Loading"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})]})})}export{Ee as default};
