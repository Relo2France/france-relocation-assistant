import{j as e}from"./vendor-query-D8MH73Ff.js";import{r as d}from"./vendor-react-F9Y4d3HK.js";import{a as _}from"./vendor-utils-C5RVuWu4.js";import{a1 as y,a4 as m,a2 as f,U as v,a7 as j,B as N}from"./main-BBy8dKFH.js";import{L as S}from"./loader-2-Bc1prWXN.js";import{S as w}from"./save-DXDhXo-n.js";import{A as b}from"./alert-circle-C5cGTu-W.js";import{B as C}from"./briefcase-ByhGSs9X.js";import{D as k}from"./dollar-sign-BceM8n20.js";import{C as F}from"./chevron-up-OfX4nClN.js";import{C as P}from"./chevron-down-mD8BaI9n.js";function p({isPending:s,isSuccess:t,isError:a,errorMessage:l="Failed to save. Please try again.",label:c="Save Changes",pendingLabel:o="Saving...",successLabel:u="Saved!"}){return e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"submit",disabled:s,className:"btn btn-primary flex items-center gap-2","aria-busy":s,"aria-live":"polite",children:[s?e.jsx(S,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}):t?e.jsx(y,{className:"w-4 h-4","aria-hidden":"true"}):e.jsx(w,{className:"w-4 h-4","aria-hidden":"true"}),s?o:t?u:c]}),a&&e.jsx("span",{className:"text-sm text-red-600",role:"alert",children:l})]})}function I({profile:s}){const t=m(),[a,l]=d.useState({legal_first_name:"",legal_middle_name:"",legal_last_name:"",date_of_birth:"",nationality:"",passport_number:"",passport_expiry:""}),[c,o]=d.useState(!1);d.useEffect(()=>{s&&!c&&(l({legal_first_name:s.legal_first_name||"",legal_middle_name:s.legal_middle_name||"",legal_last_name:s.legal_last_name||"",date_of_birth:s.date_of_birth||"",nationality:s.nationality||"",passport_number:s.passport_number||"",passport_expiry:s.passport_expiry||""}),o(!0))},[s,c]);const u=r=>{r.preventDefault(),t.mutate(a)};return e.jsxs("form",{onSubmit:u,className:"space-y-6 pt-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",role:"note",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5","aria-hidden":"true"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Important: Legal Names Required"}),e.jsx("p",{className:"mt-1",children:"Use your passport/legal names exactly as they appear on official documents."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"legal_first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Legal First Name ",e.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),e.jsx("input",{type:"text",id:"legal_first_name",name:"legal_first_name",value:a.legal_first_name,onChange:r=>l({...a,legal_first_name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,"aria-required":"true",autoComplete:"given-name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"legal_middle_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Legal Middle Name"}),e.jsx("input",{type:"text",id:"legal_middle_name",name:"legal_middle_name",value:a.legal_middle_name,onChange:r=>l({...a,legal_middle_name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoComplete:"additional-name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"legal_last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Legal Last Name ",e.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),e.jsx("input",{type:"text",id:"legal_last_name",name:"legal_last_name",value:a.legal_last_name,onChange:r=>l({...a,legal_last_name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,"aria-required":"true",autoComplete:"family-name"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"date_of_birth",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",e.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),e.jsx("input",{type:"date",id:"date_of_birth",name:"date_of_birth",value:a.date_of_birth,onChange:r=>l({...a,date_of_birth:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,"aria-required":"true",autoComplete:"bday"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nationality ",e.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),e.jsx("input",{type:"text",id:"nationality",name:"nationality",value:a.nationality,onChange:r=>l({...a,nationality:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., American, Canadian",required:!0,"aria-required":"true"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"Passport Number"}),e.jsx("input",{type:"text",id:"passport_number",name:"passport_number",value:a.passport_number,onChange:r=>l({...a,passport_number:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoComplete:"off"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport_expiry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Passport Expiry Date"}),e.jsx("input",{type:"date",id:"passport_expiry",name:"passport_expiry",value:a.passport_expiry,onChange:r=>l({...a,passport_expiry:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsx(p,{isPending:t.isPending,isSuccess:t.isSuccess,isError:t.isError})]})}const g=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"District of Columbia"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"PR",label:"Puerto Rico"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VI",label:"Virgin Islands"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],E=[{value:"undecided",label:"Undecided",description:"Still exploring visa options"},{value:"visitor",label:"Visitor Visa",description:"Short-term stay (up to 90 days)"},{value:"talent_passport",label:"Talent Passport",description:"For highly skilled professionals"},{value:"employee",label:"Employee Visa",description:"Working for a French company"},{value:"entrepreneur",label:"Entrepreneur Visa",description:"Starting a business in France"},{value:"student",label:"Student Visa",description:"Studying at a French institution"},{value:"family",label:"Family Reunification",description:"Joining family members in France"},{value:"spouse_french",label:"Spouse of French Citizen",description:"Married to a French national"},{value:"retiree",label:"Retiree Visa",description:"Retiring in France"}],A=[{value:"under_50k",label:"Under $50,000"},{value:"50k_100k",label:"$50,000 - $100,000"},{value:"100k_200k",label:"$100,000 - $200,000"},{value:"200k_500k",label:"$200,000 - $500,000"},{value:"over_500k",label:"Over $500,000"}],h=[{value:"employed",label:"Employed"},{value:"self_employed",label:"Self-Employed"},{value:"retired",label:"Retired"},{value:"not_working",label:"Not Working"}],D=[{value:"alone",label:"Just me (alone)"},{value:"spouse",label:"Me and my spouse/partner"},{value:"spouse_kids",label:"Me, spouse/partner, and children"},{value:"kids_only",label:"Me and children (no spouse/partner)"}],T=[{value:"no",label:"No pets"},{value:"dogs",label:"Dog(s)"},{value:"cats",label:"Cat(s)"},{value:"both",label:"Both dogs and cats"},{value:"other",label:"Other pets"}],M=[{value:"undecided",label:"Undecided"},{value:"no",label:"No, not planning to work"},{value:"yes_local",label:"Yes, for a French company"},{value:"yes_remote",label:"Yes, remote work for non-French company"},{value:"yes_self",label:"Yes, self-employed/freelance"}],L=[{value:"us",label:"United States (US Consulate)"},{value:"france",label:"France (Already in France)"}];function O({profile:s}){const t=m(),[a,l]=d.useState({applicants:"alone",spouse_legal_first_name:"",spouse_legal_last_name:"",spouse_date_of_birth:"",spouse_name:"",spouse_work_status:"not_working",num_children:0,children_ages:"",has_pets:"no",pet_details:""}),[c,o]=d.useState(!1);d.useEffect(()=>{s&&!c&&(l({applicants:s.applicants||"alone",spouse_legal_first_name:s.spouse_legal_first_name||"",spouse_legal_last_name:s.spouse_legal_last_name||"",spouse_date_of_birth:s.spouse_date_of_birth||"",spouse_name:s.spouse_name||"",spouse_work_status:s.spouse_work_status||"not_working",num_children:s.num_children||0,children_ages:s.children_ages||"",has_pets:s.has_pets||"no",pet_details:s.pet_details||""}),o(!0))},[s,c]);const u=i=>{i.preventDefault(),t.mutate(a)},r=a.applicants==="spouse"||a.applicants==="spouse_kids",n=a.applicants==="spouse_kids"||a.applicants==="kids_only",x=a.has_pets!=="no";return e.jsxs("form",{onSubmit:u,className:"space-y-6 pt-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"applicants",className:"block text-sm font-medium text-gray-700 mb-1",children:["Who will be relocating? ",e.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),e.jsx("select",{id:"applicants",name:"applicants",value:a.applicants,onChange:i=>l({...a,applicants:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,"aria-required":"true",children:D.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]}),r&&e.jsxs("fieldset",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("legend",{className:"font-medium text-gray-900 px-2",children:"Spouse/Partner Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"spouse_legal_first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spouse Legal First Name"}),e.jsx("input",{type:"text",id:"spouse_legal_first_name",name:"spouse_legal_first_name",value:a.spouse_legal_first_name,onChange:i=>l({...a,spouse_legal_first_name:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoComplete:"off"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"spouse_legal_last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spouse Legal Last Name"}),e.jsx("input",{type:"text",id:"spouse_legal_last_name",name:"spouse_legal_last_name",value:a.spouse_legal_last_name,onChange:i=>l({...a,spouse_legal_last_name:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoComplete:"off"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"spouse_date_of_birth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spouse Date of Birth"}),e.jsx("input",{type:"date",id:"spouse_date_of_birth",name:"spouse_date_of_birth",value:a.spouse_date_of_birth,onChange:i=>l({...a,spouse_date_of_birth:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"spouse_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spouse Preferred Name"}),e.jsx("input",{type:"text",id:"spouse_name",name:"spouse_name",value:a.spouse_name,onChange:i=>l({...a,spouse_name:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"If different from legal name",autoComplete:"off"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"spouse_work_status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spouse Work Status"}),e.jsx("select",{id:"spouse_work_status",name:"spouse_work_status",value:a.spouse_work_status,onChange:i=>l({...a,spouse_work_status:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:h.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]})]}),n&&e.jsxs("fieldset",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("legend",{className:"font-medium text-gray-900 px-2",children:"Children Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"num_children",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Children"}),e.jsx("input",{type:"number",id:"num_children",name:"num_children",min:"0",max:"20",value:a.num_children,onChange:i=>l({...a,num_children:parseInt(i.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"children_ages",className:"block text-sm font-medium text-gray-700 mb-1",children:"Children Ages"}),e.jsx("input",{type:"text",id:"children_ages",name:"children_ages",value:a.children_ages,onChange:i=>l({...a,children_ages:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 5, 8, 12","aria-describedby":"children_ages_hint"}),e.jsx("p",{id:"children_ages_hint",className:"mt-1 text-sm text-gray-500",children:"Separate ages with commas"})]})]})]}),e.jsxs("fieldset",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"has_pets",className:"block text-sm font-medium text-gray-700 mb-1",children:"Do you have pets?"}),e.jsx("select",{id:"has_pets",name:"has_pets",value:a.has_pets,onChange:i=>l({...a,has_pets:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:T.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]}),x&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pet_details",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pet Details"}),e.jsx("textarea",{id:"pet_details",name:"pet_details",value:a.pet_details,onChange:i=>l({...a,pet_details:i.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Breed, size, age, etc.","aria-describedby":"pet_details_hint"}),e.jsx("p",{id:"pet_details_hint",className:"mt-1 text-sm text-gray-500",children:"This information helps with pet relocation planning"})]})]}),e.jsx(p,{isPending:t.isPending,isSuccess:t.isSuccess,isError:t.isError})]})}function q({profile:s}){const t=m(),[a,l]=d.useState({visa_type:"undecided",employment_status:"not_working",work_in_france:"undecided",industry:"",employer_name:""}),[c,o]=d.useState(!1);d.useEffect(()=>{s&&!c&&(l({visa_type:s.visa_type||"undecided",employment_status:s.employment_status||"not_working",work_in_france:s.work_in_france||"undecided",industry:s.industry||"",employer_name:s.employer_name||""}),o(!0))},[s,c]);const u=n=>{n.preventDefault(),t.mutate(a)},r=a.employment_status==="employed"||a.employment_status==="self_employed";return e.jsxs("form",{onSubmit:u,className:"space-y-6 pt-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"visa_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Visa Type ",e.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),e.jsx("select",{id:"visa_type",name:"visa_type",value:a.visa_type,onChange:n=>l({...a,visa_type:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,"aria-required":"true","aria-describedby":"visa_type_hint",children:E.map(n=>e.jsxs("option",{value:n.value,children:[n.label," - ",n.description]},n.value))}),e.jsx("p",{id:"visa_type_hint",className:"mt-1 text-sm text-gray-500",children:"Select the visa type that best matches your situation. We'll help you refine this choice."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employment_status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Employment Status"}),e.jsx("select",{id:"employment_status",name:"employment_status",value:a.employment_status,onChange:n=>l({...a,employment_status:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:h.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"work_in_france",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Plans in France"}),e.jsx("select",{id:"work_in_france",name:"work_in_france",value:a.work_in_france,onChange:n=>l({...a,work_in_france:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:M.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})]})]}),r&&e.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry/Field"}),e.jsx("input",{type:"text",id:"industry",name:"industry",value:a.industry,onChange:n=>l({...a,industry:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Technology, Healthcare, Finance",autoComplete:"organization-title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employer_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Employer"}),e.jsx("input",{type:"text",id:"employer_name",name:"employer_name",value:a.employer_name,onChange:n=>l({...a,employer_name:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Company name",autoComplete:"organization"})]})]}),e.jsx(p,{isPending:t.isPending,isSuccess:t.isSuccess,isError:t.isError})]})}function U({profile:s}){const t=m(),[a,l]=d.useState({current_country:"",current_state:"",current_city:"",birth_state:"",spouse_birth_state:"",marriage_state:"",marriage_country:"",target_location:"",application_location:"us"}),[c,o]=d.useState(!1);d.useEffect(()=>{s&&!c&&(l({current_country:s.current_country||"",current_state:s.current_state||"",current_city:s.current_city||"",birth_state:s.birth_state||"",spouse_birth_state:s.spouse_birth_state||"",marriage_state:s.marriage_state||"",marriage_country:s.marriage_country||"",target_location:s.target_location||"",application_location:s.application_location||"us"}),o(!0))},[s,c]);const u=r=>{r.preventDefault(),t.mutate(a)};return e.jsxs("form",{onSubmit:u,className:"space-y-6 pt-6",children:[e.jsxs("fieldset",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("legend",{className:"font-medium text-gray-900 px-2",children:"Current Location"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Country"}),e.jsx("input",{type:"text",id:"current_country",name:"current_country",value:a.current_country,onChange:r=>l({...a,current_country:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., United States",autoComplete:"country-name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_state",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current State"}),e.jsxs("select",{id:"current_state",name:"current_state",value:a.current_state,onChange:r=>l({...a,current_state:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select a state"}),g.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_city",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current City"}),e.jsx("input",{type:"text",id:"current_city",name:"current_city",value:a.current_city,onChange:r=>l({...a,current_city:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., New York",autoComplete:"address-level2"})]})]})]}),e.jsxs("fieldset",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("legend",{className:"font-medium text-gray-900 px-2",children:"Birth & Marriage Information"}),e.jsx("p",{className:"text-sm text-gray-600 -mt-2",children:"Required for apostille processing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"birth_state",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Birth State (US)"}),e.jsxs("select",{id:"birth_state",name:"birth_state",value:a.birth_state,onChange:r=>l({...a,birth_state:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-describedby":"birth_state_hint",children:[e.jsx("option",{value:"",children:"Select a state"}),g.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]}),e.jsx("p",{id:"birth_state_hint",className:"mt-1 text-sm text-gray-500",children:"Used for birth certificate apostille routing"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"spouse_birth_state",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spouse Birth State (US)"}),e.jsxs("select",{id:"spouse_birth_state",name:"spouse_birth_state",value:a.spouse_birth_state,onChange:r=>l({...a,spouse_birth_state:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select a state"}),g.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"If applicable"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"marriage_state",className:"block text-sm font-medium text-gray-700 mb-1",children:"Marriage State (US)"}),e.jsxs("select",{id:"marriage_state",name:"marriage_state",value:a.marriage_state,onChange:r=>l({...a,marriage_state:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select a state"}),g.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"If married in the US"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"marriage_country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Marriage Country"}),e.jsx("input",{type:"text",id:"marriage_country",name:"marriage_country",value:a.marriage_country,onChange:r=>l({...a,marriage_country:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"If married outside the US"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"target_location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Location in France"}),e.jsx("input",{type:"text",id:"target_location",name:"target_location",value:a.target_location,onChange:r=>l({...a,target_location:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Paris, Lyon, Provence","aria-describedby":"target_location_hint"}),e.jsx("p",{id:"target_location_hint",className:"mt-1 text-sm text-gray-500",children:"Where in France are you planning to relocate?"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"application_location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Where will you apply for your visa?"}),e.jsx("select",{id:"application_location",name:"application_location",value:a.application_location,onChange:r=>l({...a,application_location:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-describedby":"application_location_hint",children:L.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("p",{id:"application_location_hint",className:"mt-1 text-sm text-gray-500",children:"This affects the application process and requirements"})]})]}),e.jsx(p,{isPending:t.isPending,isSuccess:t.isSuccess,isError:t.isError})]})}function V({profile:s}){const t=m(),[a,l]=d.useState({financial_resources:"under_50k",income_sources:""}),[c,o]=d.useState(!1);d.useEffect(()=>{s&&!c&&(l({financial_resources:s.financial_resources||"under_50k",income_sources:s.income_sources||""}),o(!0))},[s,c]);const u=r=>{r.preventDefault(),t.mutate(a)};return e.jsxs("form",{onSubmit:u,className:"space-y-6 pt-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",role:"note",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5","aria-hidden":"true"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Financial Information"}),e.jsx("p",{className:"mt-1",children:"This helps us provide accurate guidance on visa requirements and financial proof needed. Your information is confidential."})]})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"financial_resources",className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Financial Resources"}),e.jsx("select",{id:"financial_resources",name:"financial_resources",value:a.financial_resources,onChange:r=>l({...a,financial_resources:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-describedby":"financial_resources_hint",children:A.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("p",{id:"financial_resources_hint",className:"mt-1 text-sm text-gray-500",children:"Combined savings, investments, and liquid assets available for relocation"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"income_sources",className:"block text-sm font-medium text-gray-700 mb-1",children:"Income Sources"}),e.jsx("textarea",{id:"income_sources",name:"income_sources",value:a.income_sources,onChange:r=>l({...a,income_sources:r.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Employment, investments, rental income, pension, retirement accounts, etc.","aria-describedby":"income_sources_hint"}),e.jsx("p",{id:"income_sources_hint",className:"mt-1 text-sm text-gray-500",children:"Describe your current and expected income sources to support your stay in France"})]}),e.jsx(p,{isPending:t.isPending,isSuccess:t.isSuccess,isError:t.isError})]})}function R(){return e.jsxs("div",{className:"p-6","aria-busy":"true","aria-label":"Loading profile",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"card p-6 mb-6",children:[e.jsx("div",{className:"h-6 w-64 bg-gray-200 rounded animate-pulse mb-4"}),e.jsx("div",{className:"h-3 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(s=>e.jsx("div",{className:"card p-6",children:e.jsx("div",{className:"h-6 w-48 bg-gray-200 rounded animate-pulse"})},s))})]})}const W=[{id:"personal",label:"Personal Information",icon:v,component:I},{id:"applicant",label:"Applicant & Family",icon:j,component:O},{id:"visa",label:"Visa & Employment",icon:C,component:q},{id:"location",label:"Location Information",icon:N,component:U},{id:"financial",label:"Financial Information",icon:k,component:V}];function re(){const{data:s,isLoading:t}=f(),[a,l]=d.useState(new Set(["personal","applicant","visa","location","financial"])),c=o=>{l(u=>{const r=new Set(u);return r.has(o)?r.delete(o):r.add(o),r})};return t?e.jsx(R,{}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your personal information for visa applications"})]}),s&&e.jsx(z,{profile:s}),e.jsx("div",{className:"space-y-4",children:W.map(o=>e.jsx(Y,{section:o,profile:s,isOpen:a.has(o.id),onToggle:()=>c(o.id)},o.id))})]})}function z({profile:s}){const t=s.profile_completion||0;return e.jsxs("div",{className:"card p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Completion"}),e.jsxs("span",{className:"text-2xl font-bold text-primary-600","aria-label":`${t}% complete`,children:[t,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Profile completion progress",children:e.jsx("div",{className:_("h-3 rounded-full transition-all duration-500",t>=80?"bg-green-500":t>=50?"bg-primary-500":"bg-yellow-500"),style:{width:`${t}%`}})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Complete your profile to help us provide better guidance for your relocation"})]})}function Y({section:s,profile:t,isOpen:a,onToggle:l}){const c=s.icon,o=s.component;return e.jsxs("div",{className:"card overflow-hidden",children:[e.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors","aria-expanded":a,"aria-controls":`section-${s.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{className:"w-5 h-5 text-primary-600","aria-hidden":"true"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s.label})]}),a?e.jsx(F,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"}):e.jsx(P,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})]}),a&&e.jsx("div",{id:`section-${s.id}`,className:"px-6 pb-6 border-t border-gray-100",children:e.jsx(o,{profile:t})})]})}export{re as default};
